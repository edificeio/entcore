var B1=t=>{throw TypeError(t)};var _p=(t,e,r)=>e.has(t)||B1("Cannot "+r);var j=(t,e,r)=>(_p(t,e,"read from private field"),r?r.call(t):e.get(t)),xe=(t,e,r)=>e.has(t)?B1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(_p(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Be=(t,e,r)=>(_p(t,e,"access private method"),r);var kc=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return j(t,e,n)}});import{odeServices as Xr,ERROR_CODE as bR}from"/assets/js/edifice-ts-client/index.js?v=84c2ddb5";function F0(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Eo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function SR(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var zS={exports:{}},bf={},GS={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uc=Symbol.for("react.element"),ER=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),CR=Symbol.for("react.strict_mode"),AR=Symbol.for("react.profiler"),PR=Symbol.for("react.provider"),RR=Symbol.for("react.context"),IR=Symbol.for("react.forward_ref"),MR=Symbol.for("react.suspense"),OR=Symbol.for("react.memo"),DR=Symbol.for("react.lazy"),U1=Symbol.iterator;function LR(t){return t===null||typeof t!="object"?null:(t=U1&&t[U1]||t["@@iterator"],typeof t=="function"?t:null)}var HS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VS=Object.assign,WS={};function ol(t,e,r){this.props=t,this.context=e,this.refs=WS,this.updater=r||HS}ol.prototype.isReactComponent={};ol.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ol.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XS(){}XS.prototype=ol.prototype;function B0(t,e,r){this.props=t,this.context=e,this.refs=WS,this.updater=r||HS}var U0=B0.prototype=new XS;U0.constructor=B0;VS(U0,ol.prototype);U0.isPureReactComponent=!0;var j1=Array.isArray,YS=Object.prototype.hasOwnProperty,j0={current:null},qS={key:!0,ref:!0,__self:!0,__source:!0};function KS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)YS.call(e,n)&&!qS.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:uc,type:t,key:s,ref:o,props:i,_owner:j0.current}}function kR(t,e){return{$$typeof:uc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $0(t){return typeof t=="object"&&t!==null&&t.$$typeof===uc}function NR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $1=/\/+/g;function bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NR(""+t.key):e.toString(36)}function Nh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case uc:case ER:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+bp(o,0):n,j1(i)?(r="",t!=null&&(r=t.replace($1,"$&/")+"/"),Nh(i,e,r,"",function(u){return u})):i!=null&&($0(i)&&(i=kR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace($1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",j1(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+bp(s,a);o+=Nh(s,e,r,l,i)}else if(l=LR(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+bp(s,a++),o+=Nh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nc(t,e,r){if(t==null)return t;var n=[],i=0;return Nh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function FR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ir={current:null},Fh={transition:null},BR={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:j0};function QS(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Nc,forEach:function(t,e,r){Nc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Nc(t,function(){e++}),e},toArray:function(t){return Nc(t,function(e){return e})||[]},only:function(t){if(!$0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=ol;De.Fragment=TR;De.Profiler=AR;De.PureComponent=B0;De.StrictMode=CR;De.Suspense=MR;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BR;De.act=QS;De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=VS({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=j0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)YS.call(e,l)&&!qS.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:uc,type:t.type,key:i,ref:s,props:n,_owner:o}};De.createContext=function(t){return t={$$typeof:RR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PR,_context:t},t.Consumer=t};De.createElement=KS;De.createFactory=function(t){var e=KS.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:IR,render:t}};De.isValidElement=$0;De.lazy=function(t){return{$$typeof:DR,_payload:{_status:-1,_result:t},_init:FR}};De.memo=function(t,e){return{$$typeof:OR,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};De.unstable_act=QS;De.useCallback=function(t,e){return ir.current.useCallback(t,e)};De.useContext=function(t){return ir.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return ir.current.useDeferredValue(t)};De.useEffect=function(t,e){return ir.current.useEffect(t,e)};De.useId=function(){return ir.current.useId()};De.useImperativeHandle=function(t,e,r){return ir.current.useImperativeHandle(t,e,r)};De.useInsertionEffect=function(t,e){return ir.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return ir.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return ir.current.useMemo(t,e)};De.useReducer=function(t,e,r){return ir.current.useReducer(t,e,r)};De.useRef=function(t){return ir.current.useRef(t)};De.useState=function(t){return ir.current.useState(t)};De.useSyncExternalStore=function(t,e,r){return ir.current.useSyncExternalStore(t,e,r)};De.useTransition=function(){return ir.current.useTransition()};De.version="18.3.1";GS.exports=De;var P=GS.exports;const bt=Eo(P),UR=F0({__proto__:null,default:bt},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jR=P,$R=Symbol.for("react.element"),zR=Symbol.for("react.fragment"),GR=Object.prototype.hasOwnProperty,HR=jR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VR={key:!0,ref:!0,__self:!0,__source:!0};function ZS(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)GR.call(e,n)&&!VR.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:$R,type:t,key:s,ref:o,props:i,_owner:HR.current}}bf.Fragment=zR;bf.jsx=ZS;bf.jsxs=ZS;zS.exports=bf;var T=zS.exports,JS={exports:{}},Ir={},eE={exports:{}},tE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,U){var O=R.length;R.push(U);e:for(;0<O;){var z=O-1>>>1,H=R[z];if(0<i(H,U))R[z]=U,R[O]=H,O=z;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],O=R.pop();if(O!==U){R[0]=O;e:for(var z=0,H=R.length,q=H>>>1;z<q;){var K=2*(z+1)-1,se=R[K],de=K+1,me=R[de];if(0>i(se,O))de<H&&0>i(me,se)?(R[z]=me,R[de]=O,z=de):(R[z]=se,R[K]=O,z=K);else if(de<H&&0>i(me,O))R[z]=me,R[de]=O,z=de;else break e}}return U}function i(R,U){var O=R.sortIndex-U.sortIndex;return O!==0?O:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=r(u)}}function w(R){if(p=!1,g(R),!m)if(r(l)!==null)m=!0,I(b);else{var U=r(u);U!==null&&L(w,U.startTime-R)}}function b(R,U){m=!1,p&&(p=!1,y(C),C=-1),f=!0;var O=h;try{for(g(U),d=r(l);d!==null&&(!(d.expirationTime>U)||R&&!N());){var z=d.callback;if(typeof z=="function"){d.callback=null,h=d.priorityLevel;var H=z(d.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?d.callback=H:d===r(l)&&n(l),g(U)}else n(l);d=r(l)}if(d!==null)var q=!0;else{var K=r(u);K!==null&&L(w,K.startTime-U),q=!1}return q}finally{d=null,h=O,f=!1}}var _=!1,E=null,C=-1,A=5,B=-1;function N(){return!(t.unstable_now()-B<A)}function F(){if(E!==null){var R=t.unstable_now();B=R;var U=!0;try{U=E(!0,R)}finally{U?D():(_=!1,E=null)}}else _=!1}var D;if(typeof x=="function")D=function(){x(F)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,S=M.port2;M.port1.onmessage=F,D=function(){S.postMessage(null)}}else D=function(){v(F,0)};function I(R){E=R,_||(_=!0,D())}function L(R,U){C=v(function(){R(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,I(b))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var O=h;h=U;try{return R()}finally{h=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=h;h=R;try{return U()}finally{h=O}},t.unstable_scheduleCallback=function(R,U,O){var z=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?z+O:z):O=z,R){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=O+H,R={id:c++,callback:U,priorityLevel:R,startTime:O,expirationTime:H,sortIndex:-1},O>z?(R.sortIndex=O,e(u,R),r(l)===null&&R===r(u)&&(p?(y(C),C=-1):p=!0,L(w,O-z))):(R.sortIndex=H,e(l,R),m||f||(m=!0,I(b))),R},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(R){var U=h;return function(){var O=h;h=U;try{return R.apply(this,arguments)}finally{h=O}}}})(tE);eE.exports=tE;var WR=eE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=P,Rr=WR;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rE=new Set,Su={};function To(t,e){Xa(t,e),Xa(t+"Capture",e)}function Xa(t,e){for(Su[t]=e,t=0;t<e.length;t++)rE.add(e[t])}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sg=Object.prototype.hasOwnProperty,YR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z1={},G1={};function qR(t){return sg.call(G1,t)?!0:sg.call(z1,t)?!1:YR.test(t)?G1[t]=!0:(z1[t]=!0,!1)}function KR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QR(t,e,r,n){if(e===null||typeof e>"u"||KR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Gt[t]=new sr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Gt[e]=new sr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Gt[t]=new sr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Gt[t]=new sr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Gt[t]=new sr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Gt[t]=new sr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Gt[t]=new sr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Gt[t]=new sr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Gt[t]=new sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var z0=/[\-:]([a-z])/g;function G0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z0,G0);Gt[e]=new sr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z0,G0);Gt[e]=new sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z0,G0);Gt[e]=new sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Gt[t]=new sr(t,1,!1,t.toLowerCase(),null,!1,!1)});Gt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Gt[t]=new sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function H0(t,e,r,n){var i=Gt.hasOwnProperty(e)?Gt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QR(e,r,i,n)&&(r=null),n||i===null?qR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ei=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fc=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),nE=Symbol.for("react.provider"),iE=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),sE=Symbol.for("react.offscreen"),H1=Symbol.iterator;function wl(t){return t===null||typeof t!="object"?null:(t=H1&&t[H1]||t["@@iterator"],typeof t=="function"?t:null)}var ct=Object.assign,Sp;function $l(t){if(Sp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Sp=e&&e[1]||""}return`
`+Sp+t}var Ep=!1;function Tp(t,e){if(!t||Ep)return"";Ep=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Ep=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?$l(t):""}function ZR(t){switch(t.tag){case 5:return $l(t.type);case 16:return $l("Lazy");case 13:return $l("Suspense");case 19:return $l("SuspenseList");case 0:case 2:case 15:return t=Tp(t.type,!1),t;case 11:return t=Tp(t.type.render,!1),t;case 1:return t=Tp(t.type,!0),t;default:return""}}function ug(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case og:return"Profiler";case V0:return"StrictMode";case ag:return"Suspense";case lg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iE:return(t.displayName||"Context")+".Consumer";case nE:return(t._context.displayName||"Context")+".Provider";case W0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X0:return e=t.displayName||null,e!==null?e:ug(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return ug(t(e))}catch{}}return null}function JR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ug(e);case 8:return e===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function oE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eI(t){var e=oE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=eI(t))}function aE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=oE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function cg(t,e){var r=e.checked;return ct({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function V1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ps(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function lE(t,e){e=e.checked,e!=null&&H0(t,"checked",e,!1)}function hg(t,e){lE(t,e);var r=ps(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?dg(t,e.type,r):e.hasOwnProperty("defaultValue")&&dg(t,e.type,ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function W1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function dg(t,e,r){(e!=="number"||hd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var zl=Array.isArray;function va(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ps(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function fg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return ct({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function X1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(W(92));if(zl(r)){if(1<r.length)throw Error(W(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ps(r)}}function uE(t,e){var r=ps(e.value),n=ps(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Y1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uc,hE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Eu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tI=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){tI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function dE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function fE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rI=ct({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mg(t,e){if(e){if(rI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function gg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vg=null;function Y0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yg=null,ya=null,xa=null;function q1(t){if(t=dc(t)){if(typeof yg!="function")throw Error(W(280));var e=t.stateNode;e&&(e=Af(e),yg(t.stateNode,t.type,e))}}function pE(t){ya?xa?xa.push(t):xa=[t]:ya=t}function mE(){if(ya){var t=ya,e=xa;if(xa=ya=null,q1(t),e)for(t=0;t<e.length;t++)q1(e[t])}}function gE(t,e){return t(e)}function vE(){}var Cp=!1;function yE(t,e,r){if(Cp)return t(e,r);Cp=!0;try{return gE(t,e,r)}finally{Cp=!1,(ya!==null||xa!==null)&&(vE(),mE())}}function Tu(t,e){var r=t.stateNode;if(r===null)return null;var n=Af(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(W(231,e,typeof r));return r}var xg=!1;if(vi)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){xg=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{xg=!1}function nI(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var su=!1,dd=null,fd=!1,wg=null,iI={onError:function(t){su=!0,dd=t}};function sI(t,e,r,n,i,s,o,a,l){su=!1,dd=null,nI.apply(iI,arguments)}function oI(t,e,r,n,i,s,o,a,l){if(sI.apply(this,arguments),su){if(su){var u=dd;su=!1,dd=null}else throw Error(W(198));fd||(fd=!0,wg=u)}}function Co(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function xE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function K1(t){if(Co(t)!==t)throw Error(W(188))}function aI(t){var e=t.alternate;if(!e){if(e=Co(t),e===null)throw Error(W(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return K1(i),t;if(s===n)return K1(i),e;s=s.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?t:e}function wE(t){return t=aI(t),t!==null?_E(t):null}function _E(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_E(t);if(e!==null)return e;t=t.sibling}return null}var bE=Rr.unstable_scheduleCallback,Q1=Rr.unstable_cancelCallback,lI=Rr.unstable_shouldYield,uI=Rr.unstable_requestPaint,xt=Rr.unstable_now,cI=Rr.unstable_getCurrentPriorityLevel,q0=Rr.unstable_ImmediatePriority,SE=Rr.unstable_UserBlockingPriority,pd=Rr.unstable_NormalPriority,hI=Rr.unstable_LowPriority,EE=Rr.unstable_IdlePriority,Sf=null,zn=null;function dI(t){if(zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(Sf,t,void 0,(t.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:mI,fI=Math.log,pI=Math.LN2;function mI(t){return t>>>=0,t===0?32:31-(fI(t)/pI|0)|0}var jc=64,$c=4194304;function Gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function md(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Gl(a):(s&=o,s!==0&&(n=Gl(s)))}else o=r&~i,o!==0?n=Gl(o):s!==0&&(n=Gl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pn(e),i=1<<r,n|=t[r],e&=~i;return n}function gI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=gI(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function _g(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TE(){var t=jc;return jc<<=1,!(jc&4194240)&&(jc=64),t}function Ap(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function cc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pn(e),t[e]=r}function yI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-pn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function K0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ke=0;function CE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var AE,Q0,PE,RE,IE,bg=!1,zc=[],rs=null,ns=null,is=null,Cu=new Map,Au=new Map,Ni=[],xI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Z1(t,e){switch(t){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ns=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Au.delete(e.pointerId)}}function bl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=dc(e),e!==null&&Q0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wI(t,e,r,n,i){switch(e){case"focusin":return rs=bl(rs,t,e,r,n,i),!0;case"dragenter":return ns=bl(ns,t,e,r,n,i),!0;case"mouseover":return is=bl(is,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,bl(Cu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Au.set(s,bl(Au.get(s)||null,t,e,r,n,i)),!0}return!1}function ME(t){var e=Ys(t.target);if(e!==null){var r=Co(e);if(r!==null){if(e=r.tag,e===13){if(e=xE(r),e!==null){t.blockedOn=e,IE(t.priority,function(){PE(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Sg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);vg=n,r.target.dispatchEvent(n),vg=null}else return e=dc(r),e!==null&&Q0(e),t.blockedOn=r,!1;e.shift()}return!0}function J1(t,e,r){Bh(t)&&r.delete(e)}function _I(){bg=!1,rs!==null&&Bh(rs)&&(rs=null),ns!==null&&Bh(ns)&&(ns=null),is!==null&&Bh(is)&&(is=null),Cu.forEach(J1),Au.forEach(J1)}function Sl(t,e){t.blockedOn===e&&(t.blockedOn=null,bg||(bg=!0,Rr.unstable_scheduleCallback(Rr.unstable_NormalPriority,_I)))}function Pu(t){function e(i){return Sl(i,t)}if(0<zc.length){Sl(zc[0],t);for(var r=1;r<zc.length;r++){var n=zc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(rs!==null&&Sl(rs,t),ns!==null&&Sl(ns,t),is!==null&&Sl(is,t),Cu.forEach(e),Au.forEach(e),r=0;r<Ni.length;r++)n=Ni[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ni.length&&(r=Ni[0],r.blockedOn===null);)ME(r),r.blockedOn===null&&Ni.shift()}var wa=Ei.ReactCurrentBatchConfig,gd=!0;function bI(t,e,r,n){var i=Ke,s=wa.transition;wa.transition=null;try{Ke=1,Z0(t,e,r,n)}finally{Ke=i,wa.transition=s}}function SI(t,e,r,n){var i=Ke,s=wa.transition;wa.transition=null;try{Ke=4,Z0(t,e,r,n)}finally{Ke=i,wa.transition=s}}function Z0(t,e,r,n){if(gd){var i=Sg(t,e,r,n);if(i===null)Fp(t,e,n,vd,r),Z1(t,n);else if(wI(i,t,e,r,n))n.stopPropagation();else if(Z1(t,n),e&4&&-1<xI.indexOf(t)){for(;i!==null;){var s=dc(i);if(s!==null&&AE(s),s=Sg(t,e,r,n),s===null&&Fp(t,e,n,vd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Fp(t,e,n,null,r)}}var vd=null;function Sg(t,e,r,n){if(vd=null,t=Y0(n),t=Ys(t),t!==null)if(e=Co(t),e===null)t=null;else if(r=e.tag,r===13){if(t=xE(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vd=t,null}function OE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cI()){case q0:return 1;case SE:return 4;case pd:case hI:return 16;case EE:return 536870912;default:return 16}default:return 16}}var Xi=null,J0=null,Uh=null;function DE(){if(Uh)return Uh;var t,e=J0,r=e.length,n,i="value"in Xi?Xi.value:Xi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Uh=i.slice(t,1<n?1-n:void 0)}function jh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gc(){return!0}function ex(){return!1}function Mr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gc:ex,this.isPropagationStopped=ex,this}return ct(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gc)},persist:function(){},isPersistent:Gc}),e}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ey=Mr(al),hc=ct({},al,{view:0,detail:0}),EI=Mr(hc),Pp,Rp,El,Ef=ct({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ty,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==El&&(El&&t.type==="mousemove"?(Pp=t.screenX-El.screenX,Rp=t.screenY-El.screenY):Rp=Pp=0,El=t),Pp)},movementY:function(t){return"movementY"in t?t.movementY:Rp}}),tx=Mr(Ef),TI=ct({},Ef,{dataTransfer:0}),CI=Mr(TI),AI=ct({},hc,{relatedTarget:0}),Ip=Mr(AI),PI=ct({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),RI=Mr(PI),II=ct({},al,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MI=Mr(II),OI=ct({},al,{data:0}),rx=Mr(OI),DI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kI[t])?!!e[t]:!1}function ty(){return NI}var FI=ct({},hc,{key:function(t){if(t.key){var e=DI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ty,charCode:function(t){return t.type==="keypress"?jh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BI=Mr(FI),UI=ct({},Ef,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nx=Mr(UI),jI=ct({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ty}),$I=Mr(jI),zI=ct({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),GI=Mr(zI),HI=ct({},Ef,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VI=Mr(HI),WI=[9,13,27,32],ry=vi&&"CompositionEvent"in window,ou=null;vi&&"documentMode"in document&&(ou=document.documentMode);var XI=vi&&"TextEvent"in window&&!ou,LE=vi&&(!ry||ou&&8<ou&&11>=ou),ix=" ",sx=!1;function kE(t,e){switch(t){case"keyup":return WI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function NE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function YI(t,e){switch(t){case"compositionend":return NE(e);case"keypress":return e.which!==32?null:(sx=!0,ix);case"textInput":return t=e.data,t===ix&&sx?null:t;default:return null}}function qI(t,e){if(ra)return t==="compositionend"||!ry&&kE(t,e)?(t=DE(),Uh=J0=Xi=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LE&&e.locale!=="ko"?null:e.data;default:return null}}var KI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ox(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!KI[t.type]:e==="textarea"}function FE(t,e,r,n){pE(n),e=yd(e,"onChange"),0<e.length&&(r=new ey("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var au=null,Ru=null;function QI(t){YE(t,0)}function Tf(t){var e=sa(t);if(aE(e))return t}function ZI(t,e){if(t==="change")return e}var BE=!1;if(vi){var Mp;if(vi){var Op="oninput"in document;if(!Op){var ax=document.createElement("div");ax.setAttribute("oninput","return;"),Op=typeof ax.oninput=="function"}Mp=Op}else Mp=!1;BE=Mp&&(!document.documentMode||9<document.documentMode)}function lx(){au&&(au.detachEvent("onpropertychange",UE),Ru=au=null)}function UE(t){if(t.propertyName==="value"&&Tf(Ru)){var e=[];FE(e,Ru,t,Y0(t)),yE(QI,e)}}function JI(t,e,r){t==="focusin"?(lx(),au=e,Ru=r,au.attachEvent("onpropertychange",UE)):t==="focusout"&&lx()}function eM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tf(Ru)}function tM(t,e){if(t==="click")return Tf(e)}function rM(t,e){if(t==="input"||t==="change")return Tf(e)}function nM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:nM;function Iu(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!sg.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function ux(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cx(t,e){var r=ux(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ux(r)}}function jE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $E(){for(var t=window,e=hd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=hd(t.document)}return e}function ny(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iM(t){var e=$E(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jE(r.ownerDocument.documentElement,r)){if(n!==null&&ny(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=cx(r,s);var o=cx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sM=vi&&"documentMode"in document&&11>=document.documentMode,na=null,Eg=null,lu=null,Tg=!1;function hx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tg||na==null||na!==hd(n)||(n=na,"selectionStart"in n&&ny(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),lu&&Iu(lu,n)||(lu=n,n=yd(Eg,"onSelect"),0<n.length&&(e=new ey("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=na)))}function Hc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ia={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},Dp={},zE={};vi&&(zE=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Cf(t){if(Dp[t])return Dp[t];if(!ia[t])return t;var e=ia[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zE)return Dp[t]=e[r];return t}var GE=Cf("animationend"),HE=Cf("animationiteration"),VE=Cf("animationstart"),WE=Cf("transitionend"),XE=new Map,dx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(t,e){XE.set(t,e),To(e,[t])}for(var Lp=0;Lp<dx.length;Lp++){var kp=dx[Lp],oM=kp.toLowerCase(),aM=kp[0].toUpperCase()+kp.slice(1);ys(oM,"on"+aM)}ys(GE,"onAnimationEnd");ys(HE,"onAnimationIteration");ys(VE,"onAnimationStart");ys("dblclick","onDoubleClick");ys("focusin","onFocus");ys("focusout","onBlur");ys(WE,"onTransitionEnd");Xa("onMouseEnter",["mouseout","mouseover"]);Xa("onMouseLeave",["mouseout","mouseover"]);Xa("onPointerEnter",["pointerout","pointerover"]);Xa("onPointerLeave",["pointerout","pointerover"]);To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));To("onBeforeInput",["compositionend","keypress","textInput","paste"]);To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hl));function fx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,oI(n,e,void 0,t),t.currentTarget=null}function YE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;fx(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;fx(i,a,u),s=l}}}if(fd)throw t=wg,fd=!1,wg=null,t}function et(t,e){var r=e[Ig];r===void 0&&(r=e[Ig]=new Set);var n=t+"__bubble";r.has(n)||(qE(e,t,2,!1),r.add(n))}function Np(t,e,r){var n=0;e&&(n|=4),qE(r,t,n,e)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Mu(t){if(!t[Vc]){t[Vc]=!0,rE.forEach(function(r){r!=="selectionchange"&&(lM.has(r)||Np(r,!1,t),Np(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vc]||(e[Vc]=!0,Np("selectionchange",!1,e))}}function qE(t,e,r,n){switch(OE(e)){case 1:var i=bI;break;case 4:i=SI;break;default:i=Z0}r=i.bind(null,e,r,t),i=void 0,!xg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Fp(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ys(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}yE(function(){var u=s,c=Y0(r),d=[];e:{var h=XE.get(t);if(h!==void 0){var f=ey,m=t;switch(t){case"keypress":if(jh(r)===0)break e;case"keydown":case"keyup":f=BI;break;case"focusin":m="focus",f=Ip;break;case"focusout":m="blur",f=Ip;break;case"beforeblur":case"afterblur":f=Ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=tx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=CI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$I;break;case GE:case HE:case VE:f=RI;break;case WE:f=GI;break;case"scroll":f=EI;break;case"wheel":f=VI;break;case"copy":case"cut":case"paste":f=MI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=nx}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var x=u,g;x!==null;){g=x;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=Tu(x,y),w!=null&&p.push(Ou(x,w,g)))),v)break;x=x.return}0<p.length&&(h=new f(h,m,null,r,c),d.push({event:h,listeners:p}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&r!==vg&&(m=r.relatedTarget||r.fromElement)&&(Ys(m)||m[yi]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=r.relatedTarget||r.toElement,f=u,m=m?Ys(m):null,m!==null&&(v=Co(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=u),f!==m)){if(p=tx,w="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(p=nx,w="onPointerLeave",y="onPointerEnter",x="pointer"),v=f==null?h:sa(f),g=m==null?h:sa(m),h=new p(w,x+"leave",f,r,c),h.target=v,h.relatedTarget=g,w=null,Ys(c)===u&&(p=new p(y,x+"enter",m,r,c),p.target=g,p.relatedTarget=v,w=p),v=w,f&&m)t:{for(p=f,y=m,x=0,g=p;g;g=No(g))x++;for(g=0,w=y;w;w=No(w))g++;for(;0<x-g;)p=No(p),x--;for(;0<g-x;)y=No(y),g--;for(;x--;){if(p===y||y!==null&&p===y.alternate)break t;p=No(p),y=No(y)}p=null}else p=null;f!==null&&px(d,h,f,p,!1),m!==null&&v!==null&&px(d,v,m,p,!0)}}e:{if(h=u?sa(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=ZI;else if(ox(h))if(BE)b=rM;else{b=eM;var _=JI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=tM);if(b&&(b=b(t,u))){FE(d,b,r,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&dg(h,"number",h.value)}switch(_=u?sa(u):window,t){case"focusin":(ox(_)||_.contentEditable==="true")&&(na=_,Eg=u,lu=null);break;case"focusout":lu=Eg=na=null;break;case"mousedown":Tg=!0;break;case"contextmenu":case"mouseup":case"dragend":Tg=!1,hx(d,r,c);break;case"selectionchange":if(sM)break;case"keydown":case"keyup":hx(d,r,c)}var E;if(ry)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ra?kE(t,r)&&(C="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(LE&&r.locale!=="ko"&&(ra||C!=="onCompositionStart"?C==="onCompositionEnd"&&ra&&(E=DE()):(Xi=c,J0="value"in Xi?Xi.value:Xi.textContent,ra=!0)),_=yd(u,C),0<_.length&&(C=new rx(C,t,null,r,c),d.push({event:C,listeners:_}),E?C.data=E:(E=NE(r),E!==null&&(C.data=E)))),(E=XI?YI(t,r):qI(t,r))&&(u=yd(u,"onBeforeInput"),0<u.length&&(c=new rx("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=E))}YE(d,e)})}function Ou(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tu(t,r),s!=null&&n.unshift(Ou(t,s,i)),s=Tu(t,e),s!=null&&n.push(Ou(t,s,i))),t=t.return}return n}function No(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function px(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Tu(r,s),l!=null&&o.unshift(Ou(r,l,a))):i||(l=Tu(r,s),l!=null&&o.push(Ou(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var uM=/\r\n?/g,cM=/\u0000|\uFFFD/g;function mx(t){return(typeof t=="string"?t:""+t).replace(uM,`
`).replace(cM,"")}function Wc(t,e,r){if(e=mx(e),mx(t)!==e&&r)throw Error(W(425))}function xd(){}var Cg=null,Ag=null;function Pg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,hM=typeof clearTimeout=="function"?clearTimeout:void 0,gx=typeof Promise=="function"?Promise:void 0,dM=typeof queueMicrotask=="function"?queueMicrotask:typeof gx<"u"?function(t){return gx.resolve(null).then(t).catch(fM)}:Rg;function fM(t){setTimeout(function(){throw t})}function Bp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Pu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Pu(e)}function ss(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function vx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ll=Math.random().toString(36).slice(2),Un="__reactFiber$"+ll,Du="__reactProps$"+ll,yi="__reactContainer$"+ll,Ig="__reactEvents$"+ll,pM="__reactListeners$"+ll,mM="__reactHandles$"+ll;function Ys(t){var e=t[Un];if(e)return e;for(var r=t.parentNode;r;){if(e=r[yi]||r[Un]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=vx(t);t!==null;){if(r=t[Un])return r;t=vx(t)}return e}t=r,r=t.parentNode}return null}function dc(t){return t=t[Un]||t[yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function Af(t){return t[Du]||null}var Mg=[],oa=-1;function xs(t){return{current:t}}function rt(t){0>oa||(t.current=Mg[oa],Mg[oa]=null,oa--)}function Je(t,e){oa++,Mg[oa]=t.current,t.current=e}var ms={},qt=xs(ms),mr=xs(!1),fo=ms;function Ya(t,e){var r=t.type.contextTypes;if(!r)return ms;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function gr(t){return t=t.childContextTypes,t!=null}function wd(){rt(mr),rt(qt)}function yx(t,e,r){if(qt.current!==ms)throw Error(W(168));Je(qt,e),Je(mr,r)}function KE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(W(108,JR(t)||"Unknown",i));return ct({},r,n)}function _d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,fo=qt.current,Je(qt,t),Je(mr,mr.current),!0}function xx(t,e,r){var n=t.stateNode;if(!n)throw Error(W(169));r?(t=KE(t,e,fo),n.__reactInternalMemoizedMergedChildContext=t,rt(mr),rt(qt),Je(qt,t)):rt(mr),Je(mr,r)}var oi=null,Pf=!1,Up=!1;function QE(t){oi===null?oi=[t]:oi.push(t)}function gM(t){Pf=!0,QE(t)}function ws(){if(!Up&&oi!==null){Up=!0;var t=0,e=Ke;try{var r=oi;for(Ke=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}oi=null,Pf=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),bE(q0,ws),i}finally{Ke=e,Up=!1}}return null}var aa=[],la=0,bd=null,Sd=0,Br=[],Ur=0,po=null,ai=1,li="";function ks(t,e){aa[la++]=Sd,aa[la++]=bd,bd=t,Sd=e}function ZE(t,e,r){Br[Ur++]=ai,Br[Ur++]=li,Br[Ur++]=po,po=t;var n=ai;t=li;var i=32-pn(n)-1;n&=~(1<<i),r+=1;var s=32-pn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ai=1<<32-pn(e)+i|r<<i|n,li=s+t}else ai=1<<s|r<<i|n,li=t}function iy(t){t.return!==null&&(ks(t,1),ZE(t,1,0))}function sy(t){for(;t===bd;)bd=aa[--la],aa[la]=null,Sd=aa[--la],aa[la]=null;for(;t===po;)po=Br[--Ur],Br[Ur]=null,li=Br[--Ur],Br[Ur]=null,ai=Br[--Ur],Br[Ur]=null}var Pr=null,Cr=null,st=!1,ln=null;function JE(t,e){var r=zr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Cr=ss(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=po!==null?{id:ai,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Pr=t,Cr=null,!0):!1;default:return!1}}function Og(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Dg(t){if(st){var e=Cr;if(e){var r=e;if(!wx(t,e)){if(Og(t))throw Error(W(418));e=ss(r.nextSibling);var n=Pr;e&&wx(t,e)?JE(n,r):(t.flags=t.flags&-4097|2,st=!1,Pr=t)}}else{if(Og(t))throw Error(W(418));t.flags=t.flags&-4097|2,st=!1,Pr=t}}}function _x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function Xc(t){if(t!==Pr)return!1;if(!st)return _x(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pg(t.type,t.memoizedProps)),e&&(e=Cr)){if(Og(t))throw eT(),Error(W(418));for(;e;)JE(t,e),e=ss(e.nextSibling)}if(_x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Cr=ss(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Cr=null}}else Cr=Pr?ss(t.stateNode.nextSibling):null;return!0}function eT(){for(var t=Cr;t;)t=ss(t.nextSibling)}function qa(){Cr=Pr=null,st=!1}function oy(t){ln===null?ln=[t]:ln.push(t)}var vM=Ei.ReactCurrentBatchConfig;function Tl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,t))}return t}function Yc(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bx(t){var e=t._init;return e(t._payload)}function tT(t){function e(y,x){if(t){var g=y.deletions;g===null?(y.deletions=[x],y.flags|=16):g.push(x)}}function r(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=us(y,x),y.index=0,y.sibling=null,y}function s(y,x,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<x?(y.flags|=2,x):g):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,g,w){return x===null||x.tag!==6?(x=Wp(g,y.mode,w),x.return=y,x):(x=i(x,g),x.return=y,x)}function l(y,x,g,w){var b=g.type;return b===ta?c(y,x,g.props.children,w,g.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Di&&bx(b)===x.type)?(w=i(x,g.props),w.ref=Tl(y,x,g),w.return=y,w):(w=Xh(g.type,g.key,g.props,null,y.mode,w),w.ref=Tl(y,x,g),w.return=y,w)}function u(y,x,g,w){return x===null||x.tag!==4||x.stateNode.containerInfo!==g.containerInfo||x.stateNode.implementation!==g.implementation?(x=Xp(g,y.mode,w),x.return=y,x):(x=i(x,g.children||[]),x.return=y,x)}function c(y,x,g,w,b){return x===null||x.tag!==7?(x=oo(g,y.mode,w,b),x.return=y,x):(x=i(x,g),x.return=y,x)}function d(y,x,g){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Wp(""+x,y.mode,g),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fc:return g=Xh(x.type,x.key,x.props,null,y.mode,g),g.ref=Tl(y,null,x),g.return=y,g;case ea:return x=Xp(x,y.mode,g),x.return=y,x;case Di:var w=x._init;return d(y,w(x._payload),g)}if(zl(x)||wl(x))return x=oo(x,y.mode,g,null),x.return=y,x;Yc(y,x)}return null}function h(y,x,g,w){var b=x!==null?x.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return b!==null?null:a(y,x,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fc:return g.key===b?l(y,x,g,w):null;case ea:return g.key===b?u(y,x,g,w):null;case Di:return b=g._init,h(y,x,b(g._payload),w)}if(zl(g)||wl(g))return b!==null?null:c(y,x,g,w,null);Yc(y,g)}return null}function f(y,x,g,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,a(x,y,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fc:return y=y.get(w.key===null?g:w.key)||null,l(x,y,w,b);case ea:return y=y.get(w.key===null?g:w.key)||null,u(x,y,w,b);case Di:var _=w._init;return f(y,x,g,_(w._payload),b)}if(zl(w)||wl(w))return y=y.get(g)||null,c(x,y,w,b,null);Yc(x,w)}return null}function m(y,x,g,w){for(var b=null,_=null,E=x,C=x=0,A=null;E!==null&&C<g.length;C++){E.index>C?(A=E,E=null):A=E.sibling;var B=h(y,E,g[C],w);if(B===null){E===null&&(E=A);break}t&&E&&B.alternate===null&&e(y,E),x=s(B,x,C),_===null?b=B:_.sibling=B,_=B,E=A}if(C===g.length)return r(y,E),st&&ks(y,C),b;if(E===null){for(;C<g.length;C++)E=d(y,g[C],w),E!==null&&(x=s(E,x,C),_===null?b=E:_.sibling=E,_=E);return st&&ks(y,C),b}for(E=n(y,E);C<g.length;C++)A=f(E,y,C,g[C],w),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?C:A.key),x=s(A,x,C),_===null?b=A:_.sibling=A,_=A);return t&&E.forEach(function(N){return e(y,N)}),st&&ks(y,C),b}function p(y,x,g,w){var b=wl(g);if(typeof b!="function")throw Error(W(150));if(g=b.call(g),g==null)throw Error(W(151));for(var _=b=null,E=x,C=x=0,A=null,B=g.next();E!==null&&!B.done;C++,B=g.next()){E.index>C?(A=E,E=null):A=E.sibling;var N=h(y,E,B.value,w);if(N===null){E===null&&(E=A);break}t&&E&&N.alternate===null&&e(y,E),x=s(N,x,C),_===null?b=N:_.sibling=N,_=N,E=A}if(B.done)return r(y,E),st&&ks(y,C),b;if(E===null){for(;!B.done;C++,B=g.next())B=d(y,B.value,w),B!==null&&(x=s(B,x,C),_===null?b=B:_.sibling=B,_=B);return st&&ks(y,C),b}for(E=n(y,E);!B.done;C++,B=g.next())B=f(E,y,C,B.value,w),B!==null&&(t&&B.alternate!==null&&E.delete(B.key===null?C:B.key),x=s(B,x,C),_===null?b=B:_.sibling=B,_=B);return t&&E.forEach(function(F){return e(y,F)}),st&&ks(y,C),b}function v(y,x,g,w){if(typeof g=="object"&&g!==null&&g.type===ta&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Fc:e:{for(var b=g.key,_=x;_!==null;){if(_.key===b){if(b=g.type,b===ta){if(_.tag===7){r(y,_.sibling),x=i(_,g.props.children),x.return=y,y=x;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Di&&bx(b)===_.type){r(y,_.sibling),x=i(_,g.props),x.ref=Tl(y,_,g),x.return=y,y=x;break e}r(y,_);break}else e(y,_);_=_.sibling}g.type===ta?(x=oo(g.props.children,y.mode,w,g.key),x.return=y,y=x):(w=Xh(g.type,g.key,g.props,null,y.mode,w),w.ref=Tl(y,x,g),w.return=y,y=w)}return o(y);case ea:e:{for(_=g.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===g.containerInfo&&x.stateNode.implementation===g.implementation){r(y,x.sibling),x=i(x,g.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else e(y,x);x=x.sibling}x=Xp(g,y.mode,w),x.return=y,y=x}return o(y);case Di:return _=g._init,v(y,x,_(g._payload),w)}if(zl(g))return m(y,x,g,w);if(wl(g))return p(y,x,g,w);Yc(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,x!==null&&x.tag===6?(r(y,x.sibling),x=i(x,g),x.return=y,y=x):(r(y,x),x=Wp(g,y.mode,w),x.return=y,y=x),o(y)):r(y,x)}return v}var Ka=tT(!0),rT=tT(!1),Ed=xs(null),Td=null,ua=null,ay=null;function ly(){ay=ua=Td=null}function uy(t){var e=Ed.current;rt(Ed),t._currentValue=e}function Lg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function _a(t,e){Td=t,ay=ua=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fr=!0),t.firstContext=null)}function Yr(t){var e=t._currentValue;if(ay!==t)if(t={context:t,memoizedValue:e,next:null},ua===null){if(Td===null)throw Error(W(308));ua=t,Td.dependencies={lanes:0,firstContext:t}}else ua=ua.next=t;return e}var qs=null;function cy(t){qs===null?qs=[t]:qs.push(t)}function nT(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,cy(e)):(r.next=i.next,i.next=r),e.interleaved=r,xi(t,n)}function xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Li=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,xi(t,r)}return i=n.interleaved,i===null?(e.next=e,cy(n)):(e.next=i.next,i.next=e),n.interleaved=e,xi(t,r)}function $h(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K0(t,r)}}function Sx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Cd(t,e,r,n){var i=t.updateQueue;Li=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,p=a;switch(h=e,f=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=ct({},d,h);break e;case 2:Li=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);go|=o,t.lanes=o,t.memoizedState=d}}function Ex(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var fc={},Gn=xs(fc),Lu=xs(fc),ku=xs(fc);function Ks(t){if(t===fc)throw Error(W(174));return t}function dy(t,e){switch(Je(ku,e),Je(Lu,t),Je(Gn,fc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=pg(e,t)}rt(Gn),Je(Gn,e)}function Qa(){rt(Gn),rt(Lu),rt(ku)}function sT(t){Ks(ku.current);var e=Ks(Gn.current),r=pg(e,t.type);e!==r&&(Je(Lu,t),Je(Gn,r))}function fy(t){Lu.current===t&&(rt(Gn),rt(Lu))}var at=xs(0);function Ad(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jp=[];function py(){for(var t=0;t<jp.length;t++)jp[t]._workInProgressVersionPrimary=null;jp.length=0}var zh=Ei.ReactCurrentDispatcher,$p=Ei.ReactCurrentBatchConfig,mo=0,ut=null,It=null,Dt=null,Pd=!1,uu=!1,Nu=0,yM=0;function Vt(){throw Error(W(321))}function my(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function gy(t,e,r,n,i,s){if(mo=s,ut=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zh.current=t===null||t.memoizedState===null?bM:SM,t=r(n,i),uu){s=0;do{if(uu=!1,Nu=0,25<=s)throw Error(W(301));s+=1,Dt=It=null,e.updateQueue=null,zh.current=EM,t=r(n,i)}while(uu)}if(zh.current=Rd,e=It!==null&&It.next!==null,mo=0,Dt=It=ut=null,Pd=!1,e)throw Error(W(300));return t}function vy(){var t=Nu!==0;return Nu=0,t}function In(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function qr(){if(It===null){var t=ut.alternate;t=t!==null?t.memoizedState:null}else t=It.next;var e=Dt===null?ut.memoizedState:Dt.next;if(e!==null)Dt=e,It=t;else{if(t===null)throw Error(W(310));It=t,t={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},Dt===null?ut.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function Fu(t,e){return typeof e=="function"?e(t):e}function zp(t){var e=qr(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=It,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((mo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,ut.lanes|=c,go|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,yn(n,e.memoizedState)||(fr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ut.lanes|=s,go|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Gp(t){var e=qr(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(fr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function oT(){}function aT(t,e){var r=ut,n=qr(),i=e(),s=!yn(n.memoizedState,i);if(s&&(n.memoizedState=i,fr=!0),n=n.queue,yy(cT.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,Bu(9,uT.bind(null,r,n,i,e),void 0,null),kt===null)throw Error(W(349));mo&30||lT(r,e,i)}return i}function lT(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function uT(t,e,r,n){e.value=r,e.getSnapshot=n,hT(e)&&dT(t)}function cT(t,e,r){return r(function(){hT(e)&&dT(t)})}function hT(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function dT(t){var e=xi(t,1);e!==null&&mn(e,t,1,-1)}function Tx(t){var e=In();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fu,lastRenderedState:t},e.queue=t,t=t.dispatch=_M.bind(null,ut,t),[e.memoizedState,t]}function Bu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ut.updateQueue,e===null?(e={lastEffect:null,stores:null},ut.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function fT(){return qr().memoizedState}function Gh(t,e,r,n){var i=In();ut.flags|=t,i.memoizedState=Bu(1|e,r,void 0,n===void 0?null:n)}function Rf(t,e,r,n){var i=qr();n=n===void 0?null:n;var s=void 0;if(It!==null){var o=It.memoizedState;if(s=o.destroy,n!==null&&my(n,o.deps)){i.memoizedState=Bu(e,r,s,n);return}}ut.flags|=t,i.memoizedState=Bu(1|e,r,s,n)}function Cx(t,e){return Gh(8390656,8,t,e)}function yy(t,e){return Rf(2048,8,t,e)}function pT(t,e){return Rf(4,2,t,e)}function mT(t,e){return Rf(4,4,t,e)}function gT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vT(t,e,r){return r=r!=null?r.concat([t]):null,Rf(4,4,gT.bind(null,e,t),r)}function xy(){}function yT(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&my(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xT(t,e){var r=qr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&my(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wT(t,e,r){return mo&21?(yn(r,e)||(r=TE(),ut.lanes|=r,go|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fr=!0),t.memoizedState=r)}function xM(t,e){var r=Ke;Ke=r!==0&&4>r?r:4,t(!0);var n=$p.transition;$p.transition={};try{t(!1),e()}finally{Ke=r,$p.transition=n}}function _T(){return qr().memoizedState}function wM(t,e,r){var n=ls(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},bT(t))ST(e,r);else if(r=nT(t,e,r,n),r!==null){var i=nr();mn(r,t,n,i),ET(r,e,n)}}function _M(t,e,r){var n=ls(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(bT(t))ST(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,yn(a,o)){var l=e.interleaved;l===null?(i.next=i,cy(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=nT(t,e,i,n),r!==null&&(i=nr(),mn(r,t,n,i),ET(r,e,n))}}function bT(t){var e=t.alternate;return t===ut||e!==null&&e===ut}function ST(t,e){uu=Pd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ET(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,K0(t,r)}}var Rd={readContext:Yr,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},bM={readContext:Yr,useCallback:function(t,e){return In().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:Cx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gh(4194308,4,gT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gh(4,2,t,e)},useMemo:function(t,e){var r=In();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=In();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wM.bind(null,ut,t),[n.memoizedState,t]},useRef:function(t){var e=In();return t={current:t},e.memoizedState=t},useState:Tx,useDebugValue:xy,useDeferredValue:function(t){return In().memoizedState=t},useTransition:function(){var t=Tx(!1),e=t[0];return t=xM.bind(null,t[1]),In().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ut,i=In();if(st){if(r===void 0)throw Error(W(407));r=r()}else{if(r=e(),kt===null)throw Error(W(349));mo&30||lT(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Cx(cT.bind(null,n,s,t),[t]),n.flags|=2048,Bu(9,uT.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=In(),e=kt.identifierPrefix;if(st){var r=li,n=ai;r=(n&~(1<<32-pn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Nu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yM++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SM={readContext:Yr,useCallback:yT,useContext:Yr,useEffect:yy,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:xT,useReducer:zp,useRef:fT,useState:function(){return zp(Fu)},useDebugValue:xy,useDeferredValue:function(t){var e=qr();return wT(e,It.memoizedState,t)},useTransition:function(){var t=zp(Fu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:oT,useSyncExternalStore:aT,useId:_T,unstable_isNewReconciler:!1},EM={readContext:Yr,useCallback:yT,useContext:Yr,useEffect:yy,useImperativeHandle:vT,useInsertionEffect:pT,useLayoutEffect:mT,useMemo:xT,useReducer:Gp,useRef:fT,useState:function(){return Gp(Fu)},useDebugValue:xy,useDeferredValue:function(t){var e=qr();return It===null?e.memoizedState=t:wT(e,It.memoizedState,t)},useTransition:function(){var t=Gp(Fu)[0],e=qr().memoizedState;return[t,e]},useMutableSource:oT,useSyncExternalStore:aT,useId:_T,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=ct({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function kg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ct({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var If={isMounted:function(t){return(t=t._reactInternals)?Co(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nr(),i=ls(t),s=pi(n,i);s.payload=e,r!=null&&(s.callback=r),e=os(t,s,i),e!==null&&(mn(e,t,i,n),$h(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nr(),i=ls(t),s=pi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=os(t,s,i),e!==null&&(mn(e,t,i,n),$h(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nr(),n=ls(t),i=pi(r,n);i.tag=2,e!=null&&(i.callback=e),e=os(t,i,n),e!==null&&(mn(e,t,n,r),$h(e,t,n))}};function Ax(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Iu(r,n)||!Iu(i,s):!0}function TT(t,e,r){var n=!1,i=ms,s=e.contextType;return typeof s=="object"&&s!==null?s=Yr(s):(i=gr(e)?fo:qt.current,n=e.contextTypes,s=(n=n!=null)?Ya(t,i):ms),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=If,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Px(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&If.enqueueReplaceState(e,e.state,null)}function Ng(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},hy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yr(s):(s=gr(e)?fo:qt.current,i.context=Ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(kg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&If.enqueueReplaceState(i,i.state,null),Cd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Za(t,e){try{var r="",n=e;do r+=ZR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Fg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var TM=typeof WeakMap=="function"?WeakMap:Map;function CT(t,e,r){r=pi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Md||(Md=!0,Xg=n),Fg(t,e)},r}function AT(t,e,r){r=pi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Fg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Fg(t,e),typeof n!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Rx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new TM;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=UM.bind(null,t,e,r),e.then(t,t))}function Ix(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Mx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=pi(-1,1),e.tag=2,os(r,e,1))),r.lanes|=1),t)}var CM=Ei.ReactCurrentOwner,fr=!1;function er(t,e,r,n){e.child=t===null?rT(e,null,r,n):Ka(e,t.child,r,n)}function Ox(t,e,r,n,i){r=r.render;var s=e.ref;return _a(e,i),n=gy(t,e,r,n,s,i),r=vy(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(st&&r&&iy(e),e.flags|=1,er(t,e,n,i),e.child)}function Dx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ay(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,PT(t,e,s,n,i)):(t=Xh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Iu,r(o,n)&&t.ref===e.ref)return wi(t,e,i)}return e.flags|=1,t=us(s,n),t.ref=e.ref,t.return=e,e.child=t}function PT(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Iu(s,n)&&t.ref===e.ref)if(fr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(fr=!0);else return e.lanes=t.lanes,wi(t,e,i)}return Bg(t,e,r,n,i)}function RT(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(ha,Sr),Sr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(ha,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Je(ha,Sr),Sr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Je(ha,Sr),Sr|=n;return er(t,e,i,r),e.child}function IT(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Bg(t,e,r,n,i){var s=gr(r)?fo:qt.current;return s=Ya(e,s),_a(e,i),r=gy(t,e,r,n,s,i),n=vy(),t!==null&&!fr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,wi(t,e,i)):(st&&n&&iy(e),e.flags|=1,er(t,e,r,i),e.child)}function Lx(t,e,r,n,i){if(gr(r)){var s=!0;_d(e)}else s=!1;if(_a(e,i),e.stateNode===null)Hh(t,e),TT(e,r,n),Ng(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Yr(u):(u=gr(r)?fo:qt.current,u=Ya(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Px(e,o,n,u),Li=!1;var h=e.memoizedState;o.state=h,Cd(e,n,o,i),l=e.memoizedState,a!==n||h!==l||mr.current||Li?(typeof c=="function"&&(kg(e,r,c,n),l=e.memoizedState),(a=Li||Ax(e,r,a,n,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,iT(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nn(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Yr(l):(l=gr(r)?fo:qt.current,l=Ya(e,l));var f=r.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&Px(e,o,n,l),Li=!1,h=e.memoizedState,o.state=h,Cd(e,n,o,i);var m=e.memoizedState;a!==d||h!==m||mr.current||Li?(typeof f=="function"&&(kg(e,r,f,n),m=e.memoizedState),(u=Li||Ax(e,r,u,n,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return Ug(t,e,r,n,s,i)}function Ug(t,e,r,n,i,s){IT(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&xx(e,r,!1),wi(t,e,s);n=e.stateNode,CM.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ka(e,t.child,null,s),e.child=Ka(e,null,a,s)):er(t,e,a,s),e.memoizedState=n.state,i&&xx(e,r,!0),e.child}function MT(t){var e=t.stateNode;e.pendingContext?yx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&yx(t,e.context,!1),dy(t,e.containerInfo)}function kx(t,e,r,n,i){return qa(),oy(i),e.flags|=256,er(t,e,r,n),e.child}var jg={dehydrated:null,treeContext:null,retryLane:0};function $g(t){return{baseLanes:t,cachePool:null,transitions:null}}function OT(t,e,r){var n=e.pendingProps,i=at.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(at,i&1),t===null)return Dg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Df(o,n,0,null),t=oo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=$g(r),e.memoizedState=jg,t):wy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AM(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=us(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=us(a,s):(s=oo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?$g(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=jg,n}return s=t.child,t=s.sibling,n=us(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function wy(t,e){return e=Df({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,r,n){return n!==null&&oy(n),Ka(e,t.child,null,r),t=wy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AM(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Hp(Error(W(422))),qc(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Df({mode:"visible",children:n.children},i,0,null),s=oo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ka(e,t.child,null,o),e.child.memoizedState=$g(o),e.memoizedState=jg,s);if(!(e.mode&1))return qc(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(W(419)),n=Hp(s,n,void 0),qc(t,e,o,n)}if(a=(o&t.childLanes)!==0,fr||a){if(n=kt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,xi(t,i),mn(n,t,i,-1))}return Cy(),n=Hp(Error(W(421))),qc(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=jM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Cr=ss(i.nextSibling),Pr=e,st=!0,ln=null,t!==null&&(Br[Ur++]=ai,Br[Ur++]=li,Br[Ur++]=po,ai=t.id,li=t.overflow,po=e),e=wy(e,n.children),e.flags|=4096,e)}function Nx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Lg(t.return,e,r)}function Vp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function DT(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(er(t,e,n.children,r),n=at.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nx(t,r,e);else if(t.tag===19)Nx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Je(at,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ad(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Vp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Vp(e,!0,r,null,s);break;case"together":Vp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),go|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,r=us(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=us(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function PM(t,e,r){switch(e.tag){case 3:MT(e),qa();break;case 5:sT(e);break;case 1:gr(e.type)&&_d(e);break;case 4:dy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Je(Ed,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Je(at,at.current&1),e.flags|=128,null):r&e.child.childLanes?OT(t,e,r):(Je(at,at.current&1),t=wi(t,e,r),t!==null?t.sibling:null);Je(at,at.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return DT(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(at,at.current),n)break;return null;case 22:case 23:return e.lanes=0,RT(t,e,r)}return wi(t,e,r)}var LT,zg,kT,NT;LT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zg=function(){};kT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ks(Gn.current);var s=null;switch(r){case"input":i=cg(t,i),n=cg(t,n),s=[];break;case"select":i=ct({},i,{value:void 0}),n=ct({},n,{value:void 0}),s=[];break;case"textarea":i=fg(t,i),n=fg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xd)}mg(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Su.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Su.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};NT=function(t,e,r,n){r!==n&&(e.flags|=4)};function Cl(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function RM(t,e,r){var n=e.pendingProps;switch(sy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return gr(e.type)&&wd(),Wt(e),null;case 3:return n=e.stateNode,Qa(),rt(mr),rt(qt),py(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(Kg(ln),ln=null))),zg(t,e),Wt(e),null;case 5:fy(e);var i=Ks(ku.current);if(r=e.type,t!==null&&e.stateNode!=null)kT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(W(166));return Wt(e),null}if(t=Ks(Gn.current),Xc(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Un]=e,n[Du]=s,t=(e.mode&1)!==0,r){case"dialog":et("cancel",n),et("close",n);break;case"iframe":case"object":case"embed":et("load",n);break;case"video":case"audio":for(i=0;i<Hl.length;i++)et(Hl[i],n);break;case"source":et("error",n);break;case"img":case"image":case"link":et("error",n),et("load",n);break;case"details":et("toggle",n);break;case"input":V1(n,s),et("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},et("invalid",n);break;case"textarea":X1(n,s),et("invalid",n)}mg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wc(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wc(n.textContent,a,t),i=["children",""+a]):Su.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&et("scroll",n)}switch(r){case"input":Bc(n),W1(n,s,!0);break;case"textarea":Bc(n),Y1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=xd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cE(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Un]=e,t[Du]=n,LT(t,e,!1,!1),e.stateNode=t;e:{switch(o=gg(r,n),r){case"dialog":et("cancel",t),et("close",t),i=n;break;case"iframe":case"object":case"embed":et("load",t),i=n;break;case"video":case"audio":for(i=0;i<Hl.length;i++)et(Hl[i],t);i=n;break;case"source":et("error",t),i=n;break;case"img":case"image":case"link":et("error",t),et("load",t),i=n;break;case"details":et("toggle",t),i=n;break;case"input":V1(t,n),i=cg(t,n),et("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ct({},n,{value:void 0}),et("invalid",t);break;case"textarea":X1(t,n),i=fg(t,n),et("invalid",t);break;default:i=n}mg(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fE(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hE(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Eu(t,l):typeof l=="number"&&Eu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Su.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&H0(t,s,l,o))}switch(r){case"input":Bc(t),W1(t,n,!1);break;case"textarea":Bc(t),Y1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ps(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?va(t,!!n.multiple,s,!1):n.defaultValue!=null&&va(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)NT(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));if(r=Ks(ku.current),Ks(Gn.current),Xc(e)){if(n=e.stateNode,r=e.memoizedProps,n[Un]=e,(s=n.nodeValue!==r)&&(t=Pr,t!==null))switch(t.tag){case 3:Wc(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Un]=e,e.stateNode=n}return Wt(e),null;case 13:if(rt(at),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&Cr!==null&&e.mode&1&&!(e.flags&128))eT(),qa(),e.flags|=98560,s=!1;else if(s=Xc(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Un]=e}else qa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else ln!==null&&(Kg(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||at.current&1?Mt===0&&(Mt=3):Cy())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return Qa(),zg(t,e),t===null&&Mu(e.stateNode.containerInfo),Wt(e),null;case 10:return uy(e.type._context),Wt(e),null;case 17:return gr(e.type)&&wd(),Wt(e),null;case 19:if(rt(at),s=e.memoizedState,s===null)return Wt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Cl(s,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ad(t),o!==null){for(e.flags|=128,Cl(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Je(at,at.current&1|2),e.child}t=t.sibling}s.tail!==null&&xt()>Ja&&(e.flags|=128,n=!0,Cl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ad(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return Wt(e),null}else 2*xt()-s.renderingStartTime>Ja&&r!==1073741824&&(e.flags|=128,n=!0,Cl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=xt(),e.sibling=null,r=at.current,Je(at,n?r&1|2:r&1),e):(Wt(e),null);case 22:case 23:return Ty(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Sr&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function IM(t,e){switch(sy(e),e.tag){case 1:return gr(e.type)&&wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qa(),rt(mr),rt(qt),py(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fy(e),null;case 13:if(rt(at),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));qa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rt(at),null;case 4:return Qa(),null;case 10:return uy(e.type._context),null;case 22:case 23:return Ty(),null;case 24:return null;default:return null}}var Kc=!1,Yt=!1,MM=typeof WeakSet=="function"?WeakSet:Set,ee=null;function ca(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){gt(t,e,n)}else r.current=null}function Gg(t,e,r){try{r()}catch(n){gt(t,e,n)}}var Fx=!1;function OM(t,e){if(Cg=gd,t=$E(),ny(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===r&&++u===i&&(a=o),h===s&&++c===n&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ag={focusedElem:t,selectionRange:r},gd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:nn(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(w){gt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return m=Fx,Fx=!1,m}function cu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gg(e,r,s)}i=i.next}while(i!==n)}}function Mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Hg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function FT(t){var e=t.alternate;e!==null&&(t.alternate=null,FT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Un],delete e[Du],delete e[Ig],delete e[pM],delete e[mM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BT(t){return t.tag===5||t.tag===3||t.tag===4}function Bx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xd));else if(n!==4&&(t=t.child,t!==null))for(Vg(t,e,r),t=t.sibling;t!==null;)Vg(t,e,r),t=t.sibling}function Wg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Wg(t,e,r),t=t.sibling;t!==null;)Wg(t,e,r),t=t.sibling}var Ut=null,on=!1;function Ci(t,e,r){for(r=r.child;r!==null;)UT(t,e,r),r=r.sibling}function UT(t,e,r){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:Yt||ca(r,e);case 6:var n=Ut,i=on;Ut=null,Ci(t,e,r),Ut=n,on=i,Ut!==null&&(on?(t=Ut,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ut.removeChild(r.stateNode));break;case 18:Ut!==null&&(on?(t=Ut,r=r.stateNode,t.nodeType===8?Bp(t.parentNode,r):t.nodeType===1&&Bp(t,r),Pu(t)):Bp(Ut,r.stateNode));break;case 4:n=Ut,i=on,Ut=r.stateNode.containerInfo,on=!0,Ci(t,e,r),Ut=n,on=i;break;case 0:case 11:case 14:case 15:if(!Yt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gg(r,e,o),i=i.next}while(i!==n)}Ci(t,e,r);break;case 1:if(!Yt&&(ca(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){gt(r,e,a)}Ci(t,e,r);break;case 21:Ci(t,e,r);break;case 22:r.mode&1?(Yt=(n=Yt)||r.memoizedState!==null,Ci(t,e,r),Yt=n):Ci(t,e,r);break;default:Ci(t,e,r)}}function Ux(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new MM),e.forEach(function(n){var i=$M.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Zr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ut=a.stateNode,on=!1;break e;case 3:Ut=a.stateNode.containerInfo,on=!0;break e;case 4:Ut=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(Ut===null)throw Error(W(160));UT(s,o,i),Ut=null,on=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){gt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jT(e,t),e=e.sibling}function jT(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zr(e,t),Sn(t),n&4){try{cu(3,t,t.return),Mf(3,t)}catch(p){gt(t,t.return,p)}try{cu(5,t,t.return)}catch(p){gt(t,t.return,p)}}break;case 1:Zr(e,t),Sn(t),n&512&&r!==null&&ca(r,r.return);break;case 5:if(Zr(e,t),Sn(t),n&512&&r!==null&&ca(r,r.return),t.flags&32){var i=t.stateNode;try{Eu(i,"")}catch(p){gt(t,t.return,p)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&lE(i,s),gg(a,o);var u=gg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?fE(i,d):c==="dangerouslySetInnerHTML"?hE(i,d):c==="children"?Eu(i,d):H0(i,c,d,u)}switch(a){case"input":hg(i,s);break;case"textarea":uE(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?va(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?va(i,!!s.multiple,s.defaultValue,!0):va(i,!!s.multiple,s.multiple?[]:"",!1))}i[Du]=s}catch(p){gt(t,t.return,p)}}break;case 6:if(Zr(e,t),Sn(t),n&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(p){gt(t,t.return,p)}}break;case 3:if(Zr(e,t),Sn(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(p){gt(t,t.return,p)}break;case 4:Zr(e,t),Sn(t);break;case 13:Zr(e,t),Sn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sy=xt())),n&4&&Ux(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(Yt=(u=Yt)||c,Zr(e,t),Yt=u):Zr(e,t),Sn(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ee=t,c=t.child;c!==null;){for(d=ee=c;ee!==null;){switch(h=ee,f=h.child,h.tag){case 0:case 11:case 14:case 15:cu(4,h,h.return);break;case 1:ca(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){gt(n,r,p)}}break;case 5:ca(h,h.return);break;case 22:if(h.memoizedState!==null){$x(d);continue}}f!==null?(f.return=h,ee=f):$x(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dE("display",o))}catch(p){gt(t,t.return,p)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(p){gt(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Zr(e,t),Sn(t),n&4&&Ux(t);break;case 21:break;default:Zr(e,t),Sn(t)}}function Sn(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(BT(r)){var n=r;break e}r=r.return}throw Error(W(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Eu(i,""),n.flags&=-33);var s=Bx(t);Wg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=Bx(t);Vg(t,a,o);break;default:throw Error(W(161))}}catch(l){gt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DM(t,e,r){ee=t,$T(t)}function $T(t,e,r){for(var n=(t.mode&1)!==0;ee!==null;){var i=ee,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Kc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Yt;a=Kc;var u=Yt;if(Kc=o,(Yt=l)&&!u)for(ee=i;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?zx(i):l!==null?(l.return=o,ee=l):zx(i);for(;s!==null;)ee=s,$T(s),s=s.sibling;ee=i,Kc=a,Yt=u}jx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ee=s):jx(t)}}function jx(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yt||Mf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Yt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:nn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ex(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ex(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Pu(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Yt||e.flags&512&&Hg(e)}catch(h){gt(e,e.return,h)}}if(e===t){ee=null;break}if(r=e.sibling,r!==null){r.return=e.return,ee=r;break}ee=e.return}}function $x(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ee=r;break}ee=e.return}}function zx(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Mf(4,e)}catch(l){gt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){gt(e,i,l)}}var s=e.return;try{Hg(e)}catch(l){gt(e,s,l)}break;case 5:var o=e.return;try{Hg(e)}catch(l){gt(e,o,l)}}}catch(l){gt(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var LM=Math.ceil,Id=Ei.ReactCurrentDispatcher,_y=Ei.ReactCurrentOwner,Wr=Ei.ReactCurrentBatchConfig,Ge=0,kt=null,Et=null,zt=0,Sr=0,ha=xs(0),Mt=0,Uu=null,go=0,Of=0,by=0,hu=null,dr=null,Sy=0,Ja=1/0,ni=null,Md=!1,Xg=null,as=null,Qc=!1,Yi=null,Od=0,du=0,Yg=null,Vh=-1,Wh=0;function nr(){return Ge&6?xt():Vh!==-1?Vh:Vh=xt()}function ls(t){return t.mode&1?Ge&2&&zt!==0?zt&-zt:vM.transition!==null?(Wh===0&&(Wh=TE()),Wh):(t=Ke,t!==0||(t=window.event,t=t===void 0?16:OE(t.type)),t):1}function mn(t,e,r,n){if(50<du)throw du=0,Yg=null,Error(W(185));cc(t,r,n),(!(Ge&2)||t!==kt)&&(t===kt&&(!(Ge&2)&&(Of|=r),Mt===4&&Fi(t,zt)),vr(t,n),r===1&&Ge===0&&!(e.mode&1)&&(Ja=xt()+500,Pf&&ws()))}function vr(t,e){var r=t.callbackNode;vI(t,e);var n=md(t,t===kt?zt:0);if(n===0)r!==null&&Q1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Q1(r),e===1)t.tag===0?gM(Gx.bind(null,t)):QE(Gx.bind(null,t)),dM(function(){!(Ge&6)&&ws()}),r=null;else{switch(CE(n)){case 1:r=q0;break;case 4:r=SE;break;case 16:r=pd;break;case 536870912:r=EE;break;default:r=pd}r=qT(r,zT.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function zT(t,e){if(Vh=-1,Wh=0,Ge&6)throw Error(W(327));var r=t.callbackNode;if(ba()&&t.callbackNode!==r)return null;var n=md(t,t===kt?zt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Dd(t,n);else{e=n;var i=Ge;Ge|=2;var s=HT();(kt!==t||zt!==e)&&(ni=null,Ja=xt()+500,so(t,e));do try{FM();break}catch(a){GT(t,a)}while(!0);ly(),Id.current=s,Ge=i,Et!==null?e=0:(kt=null,zt=0,e=Mt)}if(e!==0){if(e===2&&(i=_g(t),i!==0&&(n=i,e=qg(t,i))),e===1)throw r=Uu,so(t,0),Fi(t,n),vr(t,xt()),r;if(e===6)Fi(t,n);else{if(i=t.current.alternate,!(n&30)&&!kM(i)&&(e=Dd(t,n),e===2&&(s=_g(t),s!==0&&(n=s,e=qg(t,s))),e===1))throw r=Uu,so(t,0),Fi(t,n),vr(t,xt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(W(345));case 2:Ns(t,dr,ni);break;case 3:if(Fi(t,n),(n&130023424)===n&&(e=Sy+500-xt(),10<e)){if(md(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rg(Ns.bind(null,t,dr,ni),e);break}Ns(t,dr,ni);break;case 4:if(Fi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-pn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=xt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*LM(n/1960))-n,10<n){t.timeoutHandle=Rg(Ns.bind(null,t,dr,ni),n);break}Ns(t,dr,ni);break;case 5:Ns(t,dr,ni);break;default:throw Error(W(329))}}}return vr(t,xt()),t.callbackNode===r?zT.bind(null,t):null}function qg(t,e){var r=hu;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=Dd(t,e),t!==2&&(e=dr,dr=r,e!==null&&Kg(e)),t}function Kg(t){dr===null?dr=t:dr.push.apply(dr,t)}function kM(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fi(t,e){for(e&=~by,e&=~Of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pn(e),n=1<<r;t[r]=-1,e&=~n}}function Gx(t){if(Ge&6)throw Error(W(327));ba();var e=md(t,0);if(!(e&1))return vr(t,xt()),null;var r=Dd(t,e);if(t.tag!==0&&r===2){var n=_g(t);n!==0&&(e=n,r=qg(t,n))}if(r===1)throw r=Uu,so(t,0),Fi(t,e),vr(t,xt()),r;if(r===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ns(t,dr,ni),vr(t,xt()),null}function Ey(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(Ja=xt()+500,Pf&&ws())}}function vo(t){Yi!==null&&Yi.tag===0&&!(Ge&6)&&ba();var e=Ge;Ge|=1;var r=Wr.transition,n=Ke;try{if(Wr.transition=null,Ke=1,t)return t()}finally{Ke=n,Wr.transition=r,Ge=e,!(Ge&6)&&ws()}}function Ty(){Sr=ha.current,rt(ha)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,hM(r)),Et!==null)for(r=Et.return;r!==null;){var n=r;switch(sy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wd();break;case 3:Qa(),rt(mr),rt(qt),py();break;case 5:fy(n);break;case 4:Qa();break;case 13:rt(at);break;case 19:rt(at);break;case 10:uy(n.type._context);break;case 22:case 23:Ty()}r=r.return}if(kt=t,Et=t=us(t.current,null),zt=Sr=e,Mt=0,Uu=null,by=Of=go=0,dr=hu=null,qs!==null){for(e=0;e<qs.length;e++)if(r=qs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}qs=null}return t}function GT(t,e){do{var r=Et;try{if(ly(),zh.current=Rd,Pd){for(var n=ut.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Pd=!1}if(mo=0,Dt=It=ut=null,uu=!1,Nu=0,_y.current=null,r===null||r.return===null){Mt=1,Uu=e,Et=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Ix(o);if(f!==null){f.flags&=-257,Mx(f,o,a,s,e),f.mode&1&&Rx(s,u,e),e=f,l=u;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){Rx(s,u,e),Cy();break e}l=Error(W(426))}}else if(st&&a.mode&1){var v=Ix(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Mx(v,o,a,s,e),oy(Za(l,a));break e}}s=l=Za(l,a),Mt!==4&&(Mt=2),hu===null?hu=[s]:hu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=CT(s,l,e);Sx(s,y);break e;case 1:a=l;var x=s.type,g=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(as===null||!as.has(g)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=AT(s,a,e);Sx(s,w);break e}}s=s.return}while(s!==null)}WT(r)}catch(b){e=b,Et===r&&r!==null&&(Et=r=r.return);continue}break}while(!0)}function HT(){var t=Id.current;return Id.current=Rd,t===null?Rd:t}function Cy(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),kt===null||!(go&268435455)&&!(Of&268435455)||Fi(kt,zt)}function Dd(t,e){var r=Ge;Ge|=2;var n=HT();(kt!==t||zt!==e)&&(ni=null,so(t,e));do try{NM();break}catch(i){GT(t,i)}while(!0);if(ly(),Ge=r,Id.current=n,Et!==null)throw Error(W(261));return kt=null,zt=0,Mt}function NM(){for(;Et!==null;)VT(Et)}function FM(){for(;Et!==null&&!lI();)VT(Et)}function VT(t){var e=YT(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?WT(t):Et=e,_y.current=null}function WT(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=IM(r,e),r!==null){r.flags&=32767,Et=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Et=null;return}}else if(r=RM(r,e,Sr),r!==null){Et=r;return}if(e=e.sibling,e!==null){Et=e;return}Et=e=t}while(e!==null);Mt===0&&(Mt=5)}function Ns(t,e,r){var n=Ke,i=Wr.transition;try{Wr.transition=null,Ke=1,BM(t,e,r,n)}finally{Wr.transition=i,Ke=n}return null}function BM(t,e,r,n){do ba();while(Yi!==null);if(Ge&6)throw Error(W(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(yI(t,s),t===kt&&(Et=kt=null,zt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qc||(Qc=!0,qT(pd,function(){return ba(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Wr.transition,Wr.transition=null;var o=Ke;Ke=1;var a=Ge;Ge|=4,_y.current=null,OM(t,r),jT(r,t),iM(Ag),gd=!!Cg,Ag=Cg=null,t.current=r,DM(r),uI(),Ge=a,Ke=o,Wr.transition=s}else t.current=r;if(Qc&&(Qc=!1,Yi=t,Od=i),s=t.pendingLanes,s===0&&(as=null),dI(r.stateNode),vr(t,xt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Md)throw Md=!1,t=Xg,Xg=null,t;return Od&1&&t.tag!==0&&ba(),s=t.pendingLanes,s&1?t===Yg?du++:(du=0,Yg=t):du=0,ws(),null}function ba(){if(Yi!==null){var t=CE(Od),e=Wr.transition,r=Ke;try{if(Wr.transition=null,Ke=16>t?16:t,Yi===null)var n=!1;else{if(t=Yi,Yi=null,Od=0,Ge&6)throw Error(W(331));var i=Ge;for(Ge|=4,ee=t.current;ee!==null;){var s=ee,o=s.child;if(ee.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ee=u;ee!==null;){var c=ee;switch(c.tag){case 0:case 11:case 15:cu(8,c,s)}var d=c.child;if(d!==null)d.return=c,ee=d;else for(;ee!==null;){c=ee;var h=c.sibling,f=c.return;if(FT(c),c===u){ee=null;break}if(h!==null){h.return=f,ee=h;break}ee=f}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}ee=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ee=o;else e:for(;ee!==null;){if(s=ee,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ee=y;break e}ee=s.return}}var x=t.current;for(ee=x;ee!==null;){o=ee;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,ee=g;else e:for(o=x;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mf(9,a)}}catch(b){gt(a,a.return,b)}if(a===o){ee=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ee=w;break e}ee=a.return}}if(Ge=i,ws(),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(Sf,t)}catch{}n=!0}return n}finally{Ke=r,Wr.transition=e}}return!1}function Hx(t,e,r){e=Za(r,e),e=CT(t,e,1),t=os(t,e,1),e=nr(),t!==null&&(cc(t,1,e),vr(t,e))}function gt(t,e,r){if(t.tag===3)Hx(t,t,r);else for(;e!==null;){if(e.tag===3){Hx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(as===null||!as.has(n))){t=Za(r,t),t=AT(e,t,1),e=os(e,t,1),t=nr(),e!==null&&(cc(e,1,t),vr(e,t));break}}e=e.return}}function UM(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&r,kt===t&&(zt&r)===r&&(Mt===4||Mt===3&&(zt&130023424)===zt&&500>xt()-Sy?so(t,0):by|=r),vr(t,e)}function XT(t,e){e===0&&(t.mode&1?(e=$c,$c<<=1,!($c&130023424)&&($c=4194304)):e=1);var r=nr();t=xi(t,e),t!==null&&(cc(t,e,r),vr(t,r))}function jM(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),XT(t,r)}function $M(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(W(314))}n!==null&&n.delete(e),XT(t,r)}var YT;YT=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||mr.current)fr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return fr=!1,PM(t,e,r);fr=!!(t.flags&131072)}else fr=!1,st&&e.flags&1048576&&ZE(e,Sd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Hh(t,e),t=e.pendingProps;var i=Ya(e,qt.current);_a(e,r),i=gy(null,e,n,t,i,r);var s=vy();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gr(n)?(s=!0,_d(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(e),i.updater=If,e.stateNode=i,i._reactInternals=e,Ng(e,n,t,r),e=Ug(null,e,n,!0,s,r)):(e.tag=0,st&&s&&iy(e),er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Hh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=GM(n),t=nn(n,t),i){case 0:e=Bg(null,e,n,t,r);break e;case 1:e=Lx(null,e,n,t,r);break e;case 11:e=Ox(null,e,n,t,r);break e;case 14:e=Dx(null,e,n,nn(n.type,t),r);break e}throw Error(W(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Bg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Lx(t,e,n,i,r);case 3:e:{if(MT(e),t===null)throw Error(W(387));n=e.pendingProps,s=e.memoizedState,i=s.element,iT(t,e),Cd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Za(Error(W(423)),e),e=kx(t,e,n,r,i);break e}else if(n!==i){i=Za(Error(W(424)),e),e=kx(t,e,n,r,i);break e}else for(Cr=ss(e.stateNode.containerInfo.firstChild),Pr=e,st=!0,ln=null,r=rT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(qa(),n===i){e=wi(t,e,r);break e}er(t,e,n,r)}e=e.child}return e;case 5:return sT(e),t===null&&Dg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pg(n,i)?o=null:s!==null&&Pg(n,s)&&(e.flags|=32),IT(t,e),er(t,e,o,r),e.child;case 6:return t===null&&Dg(e),null;case 13:return OT(t,e,r);case 4:return dy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ka(e,null,n,r):er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Ox(t,e,n,i,r);case 7:return er(t,e,e.pendingProps,r),e.child;case 8:return er(t,e,e.pendingProps.children,r),e.child;case 12:return er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Je(Ed,n._currentValue),n._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!mr.current){e=wi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=pi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Lg(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Lg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,_a(e,r),i=Yr(i),n=n(i),e.flags|=1,er(t,e,n,r),e.child;case 14:return n=e.type,i=nn(n,e.pendingProps),i=nn(n.type,i),Dx(t,e,n,i,r);case 15:return PT(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:nn(n,i),Hh(t,e),e.tag=1,gr(n)?(t=!0,_d(e)):t=!1,_a(e,r),TT(e,n,i),Ng(e,n,i,r),Ug(null,e,n,!0,t,r);case 19:return DT(t,e,r);case 22:return RT(t,e,r)}throw Error(W(156,e.tag))};function qT(t,e){return bE(t,e)}function zM(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(t,e,r,n){return new zM(t,e,r,n)}function Ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GM(t){if(typeof t=="function")return Ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W0)return 11;if(t===X0)return 14}return 2}function us(t,e){var r=t.alternate;return r===null?(r=zr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ay(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ta:return oo(r.children,i,s,e);case V0:o=8,i|=8;break;case og:return t=zr(12,r,e,i|2),t.elementType=og,t.lanes=s,t;case ag:return t=zr(13,r,e,i),t.elementType=ag,t.lanes=s,t;case lg:return t=zr(19,r,e,i),t.elementType=lg,t.lanes=s,t;case sE:return Df(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case nE:o=10;break e;case iE:o=9;break e;case W0:o=11;break e;case X0:o=14;break e;case Di:o=16,n=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=zr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function oo(t,e,r,n){return t=zr(7,t,n,e),t.lanes=r,t}function Df(t,e,r,n){return t=zr(22,t,n,e),t.elementType=sE,t.lanes=r,t.stateNode={isHidden:!1},t}function Wp(t,e,r){return t=zr(6,t,null,e),t.lanes=r,t}function Xp(t,e,r){return e=zr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HM(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ap(0),this.expirationTimes=Ap(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ap(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Py(t,e,r,n,i,s,o,a,l){return t=new HM(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(s),t}function VM(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function KT(t){if(!t)return ms;t=t._reactInternals;e:{if(Co(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var r=t.type;if(gr(r))return KE(t,r,e)}return e}function QT(t,e,r,n,i,s,o,a,l){return t=Py(r,n,!0,t,i,s,o,a,l),t.context=KT(null),r=t.current,n=nr(),i=ls(r),s=pi(n,i),s.callback=e??null,os(r,s,i),t.current.lanes=i,cc(t,i,n),vr(t,n),t}function Lf(t,e,r,n){var i=e.current,s=nr(),o=ls(i);return r=KT(r),e.context===null?e.context=r:e.pendingContext=r,e=pi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=os(i,e,o),t!==null&&(mn(t,i,o,s),$h(t,i,o)),o}function Ld(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ry(t,e){Vx(t,e),(t=t.alternate)&&Vx(t,e)}function WM(){return null}var ZT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}kf.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Lf(t,e,null,null)};kf.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vo(function(){Lf(null,t,null,null)}),e[yi]=null}};function kf(t){this._internalRoot=t}kf.prototype.unstable_scheduleHydration=function(t){if(t){var e=RE();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ni.length&&e!==0&&e<Ni[r].priority;r++);Ni.splice(r,0,t),r===0&&ME(t)}};function My(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Wx(){}function XM(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Ld(o);s.call(u)}}var o=QT(e,n,t,0,null,!1,!1,"",Wx);return t._reactRootContainer=o,t[yi]=o.current,Mu(t.nodeType===8?t.parentNode:t),vo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Ld(l);a.call(u)}}var l=Py(t,0,!1,null,null,!1,!1,"",Wx);return t._reactRootContainer=l,t[yi]=l.current,Mu(t.nodeType===8?t.parentNode:t),vo(function(){Lf(e,l,r,n)}),l}function Ff(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Ld(o);a.call(l)}}Lf(e,o,t,i)}else o=XM(r,e,t,i,n);return Ld(o)}AE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Gl(e.pendingLanes);r!==0&&(K0(e,r|1),vr(e,xt()),!(Ge&6)&&(Ja=xt()+500,ws()))}break;case 13:vo(function(){var n=xi(t,1);if(n!==null){var i=nr();mn(n,t,1,i)}}),Ry(t,1)}};Q0=function(t){if(t.tag===13){var e=xi(t,134217728);if(e!==null){var r=nr();mn(e,t,134217728,r)}Ry(t,134217728)}};PE=function(t){if(t.tag===13){var e=ls(t),r=xi(t,e);if(r!==null){var n=nr();mn(r,t,e,n)}Ry(t,e)}};RE=function(){return Ke};IE=function(t,e){var r=Ke;try{return Ke=t,e()}finally{Ke=r}};yg=function(t,e,r){switch(e){case"input":if(hg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Af(n);if(!i)throw Error(W(90));aE(n),hg(n,i)}}}break;case"textarea":uE(t,r);break;case"select":e=r.value,e!=null&&va(t,!!r.multiple,e,!1)}};gE=Ey;vE=vo;var YM={usingClientEntryPoint:!1,Events:[dc,sa,Af,pE,mE,Ey]},Al={findFiberByHostInstance:Ys,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qM={bundleType:Al.bundleType,version:Al.version,rendererPackageName:Al.rendererPackageName,rendererConfig:Al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ei.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wE(t),t===null?null:t.stateNode},findFiberByHostInstance:Al.findFiberByHostInstance||WM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Sf=Zc.inject(qM),zn=Zc}catch{}}Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YM;Ir.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(e))throw Error(W(200));return VM(t,e,null,r)};Ir.createRoot=function(t,e){if(!My(t))throw Error(W(299));var r=!1,n="",i=ZT;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Py(t,1,!1,null,null,r,!1,n,i),t[yi]=e.current,Mu(t.nodeType===8?t.parentNode:t),new Iy(e)};Ir.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=wE(e),t=t===null?null:t.stateNode,t};Ir.flushSync=function(t){return vo(t)};Ir.hydrate=function(t,e,r){if(!Nf(e))throw Error(W(200));return Ff(null,t,e,!0,r)};Ir.hydrateRoot=function(t,e,r){if(!My(t))throw Error(W(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=ZT;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=QT(e,null,t,1,r??null,i,!1,s,o),t[yi]=e.current,Mu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new kf(e)};Ir.render=function(t,e,r){if(!Nf(e))throw Error(W(200));return Ff(null,t,e,!1,r)};Ir.unmountComponentAtNode=function(t){if(!Nf(t))throw Error(W(40));return t._reactRootContainer?(vo(function(){Ff(null,null,t,!1,function(){t._reactRootContainer=null,t[yi]=null})}),!0):!1};Ir.unstable_batchedUpdates=Ey;Ir.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Nf(r))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Ff(t,e,r,!1,n)};Ir.version="18.3.1-next-f1338f8080-20240426";function JT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JT)}catch(t){console.error(t)}}JT(),JS.exports=Ir;var pc=JS.exports;const KM=Eo(pc),QM=F0({__proto__:null,default:KM},[pc]);function ZM(){if(console&&console.warn){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e)}}const Xx={};function Qg(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];typeof e[0]=="string"&&Xx[e[0]]||(typeof e[0]=="string"&&(Xx[e[0]]=new Date),ZM(...e))}const eC=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}};function Yx(t,e,r){t.loadNamespaces(e,eC(t,r))}function qx(t,e,r,n){typeof r=="string"&&(r=[r]),r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,eC(t,n))}function JM(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=e.languages[0],i=e.options?e.options.fallbackLng:!1,s=e.languages[e.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=e.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};return r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&e.services.backendConnector.backend&&e.isLanguageChangingTo&&!o(e.isLanguageChangingTo,t)?!1:!!(e.hasResourceBundle(n,t)||!e.services.backendConnector.backend||e.options.resources&&!e.options.partialBundledLanguages||o(n,t)&&(!i||o(s,t)))}function eO(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return!e.languages||!e.languages.length?(Qg("i18n.languages were undefined or empty",e.languages),!0):e.options.ignoreJSONStructure!==void 0?e.hasLoadedNamespace(t,{lng:r.lng,precheck:(i,s)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&i.services.backendConnector.backend&&i.isLanguageChangingTo&&!s(i.isLanguageChangingTo,t))return!1}}):JM(t,e,r)}const tO=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,rO={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},nO=t=>rO[t],iO=t=>t.replace(tO,nO);let Zg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:iO};function sO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Zg={...Zg,...t}}function oO(){return Zg}let tC;function aO(t){tC=t}function lO(){return tC}const uO={type:"3rdParty",init(t){sO(t.options.react),aO(t)}},cO=P.createContext();class hO{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const dO=(t,e)=>{const r=P.useRef();return P.useEffect(()=>{r.current=t},[t,e]),r.current};function rC(t,e,r,n){return t.getFixedT(e,r,n)}function fO(t,e,r,n){return P.useCallback(rC(t,e,r,n),[t,e,r,n])}function Kr(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{i18n:r}=e,{i18n:n,defaultNS:i}=P.useContext(cO)||{},s=r||n||lO();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new hO),!s){Qg("You will need to pass in an i18next instance by using initReactI18next");const w=(_,E)=>typeof E=="string"?E:E&&typeof E=="object"&&typeof E.defaultValue=="string"?E.defaultValue:Array.isArray(_)?_[_.length-1]:_,b=[w,{},!1];return b.t=w,b.i18n={},b.ready=!1,b}s.options.react&&s.options.react.wait!==void 0&&Qg("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...oO(),...s.options.react,...e},{useSuspense:a,keyPrefix:l}=o;let u=t||i||s.options&&s.options.defaultNS;u=typeof u=="string"?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(u);const c=(s.isInitialized||s.initializedStoreOnce)&&u.every(w=>eO(w,s,o)),d=fO(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),h=()=>d,f=()=>rC(s,e.lng||null,o.nsMode==="fallback"?u:u[0],l),[m,p]=P.useState(h);let v=u.join();e.lng&&(v=`${e.lng}${v}`);const y=dO(v),x=P.useRef(!0);P.useEffect(()=>{const{bindI18n:w,bindI18nStore:b}=o;x.current=!0,!c&&!a&&(e.lng?qx(s,e.lng,u,()=>{x.current&&p(f)}):Yx(s,u,()=>{x.current&&p(f)})),c&&y&&y!==v&&x.current&&p(f);function _(){x.current&&p(f)}return w&&s&&s.on(w,_),b&&s&&s.store.on(b,_),()=>{x.current=!1,w&&s&&w.split(" ").forEach(E=>s.off(E,_)),b&&s&&b.split(" ").forEach(E=>s.store.off(E,_))}},[s,v]),P.useEffect(()=>{x.current&&c&&p(h)},[s,l,c]);const g=[m,s,c];if(g.t=m,g.i18n=s,g.ready=c,c||!c&&!a)return g;throw new Promise(w=>{e.lng?qx(s,e.lng,u,()=>w()):Yx(s,u,()=>w())})}function nC(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=nC(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=nC(t))&&(n&&(n+=" "),n+=e);return n}const pO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 6a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V7a1 1 0 0 1 1-1M11 16a1 1 0 0 1 1-1h.01a1 1 0 1 1 0 2H12a1 1 0 0 1-1-1",clipRule:"evenodd"})]}),mO=pO,gO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M21 5c0 .828-.711 1.5-1.588 1.5H4.588C3.711 6.5 3 5.828 3 5s.711-1.5 1.588-1.5h14.824C20.289 3.5 21 4.172 21 5M21 12c0 .828-.711 1.5-1.588 1.5H4.588C3.711 13.5 3 12.828 3 12s.711-1.5 1.588-1.5h14.824c.877 0 1.588.672 1.588 1.5M21 19c0 .828-.711 1.5-1.588 1.5H4.588C3.711 20.5 3 19.828 3 19s.711-1.5 1.588-1.5h14.824c.877 0 1.588.672 1.588 1.5",clipRule:"evenodd"})]}),vO=gO,yO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.222 4.222a1.1 1.1 0 0 1 1.556 0l14 14a1.1 1.1 0 1 1-1.556 1.556l-14-14a1.1 1.1 0 0 1 0-1.556",clipRule:"evenodd"}),T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M19.778 4.222a1.1 1.1 0 0 1 0 1.556l-14 14a1.1 1.1 0 1 1-1.556-1.556l14-14a1.1 1.1 0 0 1 1.556 0",clipRule:"evenodd"})]}),xO=yO,wO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M3 12a9 9 0 1 1 18 0 9 9 0 0 1-18 0m9-11C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1M8.293 15.707a1 1 0 0 1 0-1.414L10.586 12 8.293 9.707a1 1 0 0 1 1.414-1.414L12 10.586l2.293-2.293a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 0 1-1.414 0",clipRule:"evenodd"})]}),_O=wO,bO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12.01 17a1 1 0 0 1-1-1v-5a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1M13.01 7.5a1 1 0 0 1-1 1H12a1 1 0 1 1 0-2h.01a1 1 0 0 1 1 1",clipRule:"evenodd"})]}),SO=bO,EO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.672 5.558a7.96 7.96 0 0 0-9.841.397 7.95 7.95 0 0 0-1.908 9.66 7.964 7.964 0 0 0 8.949 4.12A7.95 7.95 0 0 0 19.962 12a1.021 1.021 0 1 1 2.045 0A9.994 9.994 0 0 1 7.83 21.083a10.01 10.01 0 0 1-5.634-11.027 9.99 9.99 0 0 1 9.402-8.048c2.244-.09 4.453.577 6.272 1.895a1.022 1.022 0 1 1-1.198 1.655",clipRule:"evenodd"})]}),TO=EO,CO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4.012 7.871a1.5 1.5 0 0 1 2.117.141L12 14.722l5.871-6.71a1.5 1.5 0 1 1 2.258 1.976l-7 8a1.5 1.5 0 0 1-2.258 0l-7-8a1.5 1.5 0 0 1 .141-2.117",clipRule:"evenodd"})]}),Kx=CO,AO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M4 10a7 7 0 1 1 14 0 7 7 0 0 1-14 0m7-9a9 9 0 1 0 5.7 15.96 1 1 0 0 0 .24.4l4.35 4.35a1 1 0 0 0 1.42-1.42l-4.35-4.35a1 1 0 0 0-.4-.24A9 9 0 0 0 11 1",clipRule:"evenodd"})]}),PO=AO,RO=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18M1 12C1 5.925 5.925 1 12 1s11 4.925 11 11-4.925 11-11 11S1 18.075 1 12",clipRule:"evenodd"}),T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M16.59 8.192a1 1 0 0 1 .218 1.397l-4.375 6a1 1 0 0 1-1.584.042L8.224 12.4a1 1 0 0 1 1.552-1.261l1.806 2.223 3.61-4.951a1 1 0 0 1 1.397-.219",clipRule:"evenodd"})]}),IO=RO;var iC={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(vt,function(){var r=1e3,n=6e4,i=36e5,s="millisecond",o="second",a="minute",l="hour",u="day",c="week",d="month",h="quarter",f="year",m="date",p="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,x={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(M){var S=["th","st","nd","rd"],I=M%100;return"["+M+(S[(I-20)%10]||S[I]||S[0])+"]"}},g=function(M,S,I){var L=String(M);return!L||L.length>=S?M:""+Array(S+1-L.length).join(I)+M},w={s:g,z:function(M){var S=-M.utcOffset(),I=Math.abs(S),L=Math.floor(I/60),R=I%60;return(S<=0?"+":"-")+g(L,2,"0")+":"+g(R,2,"0")},m:function M(S,I){if(S.date()<I.date())return-M(I,S);var L=12*(I.year()-S.year())+(I.month()-S.month()),R=S.clone().add(L,d),U=I-R<0,O=S.clone().add(L+(U?-1:1),d);return+(-(L+(I-R)/(U?R-O:O-R))||0)},a:function(M){return M<0?Math.ceil(M)||0:Math.floor(M)},p:function(M){return{M:d,y:f,w:c,d:u,D:m,h:l,m:a,s:o,ms:s,Q:h}[M]||String(M||"").toLowerCase().replace(/s$/,"")},u:function(M){return M===void 0}},b="en",_={};_[b]=x;var E="$isDayjsObject",C=function(M){return M instanceof F||!(!M||!M[E])},A=function M(S,I,L){var R;if(!S)return b;if(typeof S=="string"){var U=S.toLowerCase();_[U]&&(R=U),I&&(_[U]=I,R=U);var O=S.split("-");if(!R&&O.length>1)return M(O[0])}else{var z=S.name;_[z]=S,R=z}return!L&&R&&(b=R),R||!L&&b},B=function(M,S){if(C(M))return M.clone();var I=typeof S=="object"?S:{};return I.date=M,I.args=arguments,new F(I)},N=w;N.l=A,N.i=C,N.w=function(M,S){return B(M,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var F=function(){function M(I){this.$L=A(I.locale,null,!0),this.parse(I),this.$x=this.$x||I.x||{},this[E]=!0}var S=M.prototype;return S.parse=function(I){this.$d=function(L){var R=L.date,U=L.utc;if(R===null)return new Date(NaN);if(N.u(R))return new Date;if(R instanceof Date)return new Date(R);if(typeof R=="string"&&!/Z$/i.test(R)){var O=R.match(v);if(O){var z=O[2]-1||0,H=(O[7]||"0").substring(0,3);return U?new Date(Date.UTC(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)):new Date(O[1],z,O[3]||1,O[4]||0,O[5]||0,O[6]||0,H)}}return new Date(R)}(I),this.init()},S.init=function(){var I=this.$d;this.$y=I.getFullYear(),this.$M=I.getMonth(),this.$D=I.getDate(),this.$W=I.getDay(),this.$H=I.getHours(),this.$m=I.getMinutes(),this.$s=I.getSeconds(),this.$ms=I.getMilliseconds()},S.$utils=function(){return N},S.isValid=function(){return this.$d.toString()!==p},S.isSame=function(I,L){var R=B(I);return this.startOf(L)<=R&&R<=this.endOf(L)},S.isAfter=function(I,L){return B(I)<this.startOf(L)},S.isBefore=function(I,L){return this.endOf(L)<B(I)},S.$g=function(I,L,R){return N.u(I)?this[L]:this.set(R,I)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(I,L){var R=this,U=!!N.u(L)||L,O=N.p(I),z=function(Ie,we){var ce=N.w(R.$u?Date.UTC(R.$y,we,Ie):new Date(R.$y,we,Ie),R);return U?ce:ce.endOf(u)},H=function(Ie,we){return N.w(R.toDate()[Ie].apply(R.toDate("s"),(U?[0,0,0,0]:[23,59,59,999]).slice(we)),R)},q=this.$W,K=this.$M,se=this.$D,de="set"+(this.$u?"UTC":"");switch(O){case f:return U?z(1,0):z(31,11);case d:return U?z(1,K):z(0,K+1);case c:var me=this.$locale().weekStart||0,Le=(q<me?q+7:q)-me;return z(U?se-Le:se+(6-Le),K);case u:case m:return H(de+"Hours",0);case l:return H(de+"Minutes",1);case a:return H(de+"Seconds",2);case o:return H(de+"Milliseconds",3);default:return this.clone()}},S.endOf=function(I){return this.startOf(I,!1)},S.$set=function(I,L){var R,U=N.p(I),O="set"+(this.$u?"UTC":""),z=(R={},R[u]=O+"Date",R[m]=O+"Date",R[d]=O+"Month",R[f]=O+"FullYear",R[l]=O+"Hours",R[a]=O+"Minutes",R[o]=O+"Seconds",R[s]=O+"Milliseconds",R)[U],H=U===u?this.$D+(L-this.$W):L;if(U===d||U===f){var q=this.clone().set(m,1);q.$d[z](H),q.init(),this.$d=q.set(m,Math.min(this.$D,q.daysInMonth())).$d}else z&&this.$d[z](H);return this.init(),this},S.set=function(I,L){return this.clone().$set(I,L)},S.get=function(I){return this[N.p(I)]()},S.add=function(I,L){var R,U=this;I=Number(I);var O=N.p(L),z=function(K){var se=B(U);return N.w(se.date(se.date()+Math.round(K*I)),U)};if(O===d)return this.set(d,this.$M+I);if(O===f)return this.set(f,this.$y+I);if(O===u)return z(1);if(O===c)return z(7);var H=(R={},R[a]=n,R[l]=i,R[o]=r,R)[O]||1,q=this.$d.getTime()+I*H;return N.w(q,this)},S.subtract=function(I,L){return this.add(-1*I,L)},S.format=function(I){var L=this,R=this.$locale();if(!this.isValid())return R.invalidDate||p;var U=I||"YYYY-MM-DDTHH:mm:ssZ",O=N.z(this),z=this.$H,H=this.$m,q=this.$M,K=R.weekdays,se=R.months,de=R.meridiem,me=function(we,ce,Ae,ke){return we&&(we[ce]||we(L,U))||Ae[ce].slice(0,ke)},Le=function(we){return N.s(z%12||12,we,"0")},Ie=de||function(we,ce,Ae){var ke=we<12?"AM":"PM";return Ae?ke.toLowerCase():ke};return U.replace(y,function(we,ce){return ce||function(Ae){switch(Ae){case"YY":return String(L.$y).slice(-2);case"YYYY":return N.s(L.$y,4,"0");case"M":return q+1;case"MM":return N.s(q+1,2,"0");case"MMM":return me(R.monthsShort,q,se,3);case"MMMM":return me(se,q);case"D":return L.$D;case"DD":return N.s(L.$D,2,"0");case"d":return String(L.$W);case"dd":return me(R.weekdaysMin,L.$W,K,2);case"ddd":return me(R.weekdaysShort,L.$W,K,3);case"dddd":return K[L.$W];case"H":return String(z);case"HH":return N.s(z,2,"0");case"h":return Le(1);case"hh":return Le(2);case"a":return Ie(z,H,!0);case"A":return Ie(z,H,!1);case"m":return String(H);case"mm":return N.s(H,2,"0");case"s":return String(L.$s);case"ss":return N.s(L.$s,2,"0");case"SSS":return N.s(L.$ms,3,"0");case"Z":return O}return null}(we)||O.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(I,L,R){var U,O=this,z=N.p(L),H=B(I),q=(H.utcOffset()-this.utcOffset())*n,K=this-H,se=function(){return N.m(O,H)};switch(z){case f:U=se()/12;break;case d:U=se();break;case h:U=se()/3;break;case c:U=(K-q)/6048e5;break;case u:U=(K-q)/864e5;break;case l:U=K/i;break;case a:U=K/n;break;case o:U=K/r;break;default:U=K}return R?U:N.a(U)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return _[this.$L]},S.locale=function(I,L){if(!I)return this.$L;var R=this.clone(),U=A(I,L,!0);return U&&(R.$L=U),R},S.clone=function(){return N.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},M}(),D=F.prototype;return B.prototype=D,[["$ms",s],["$s",o],["$m",a],["$H",l],["$W",u],["$M",d],["$y",f],["$D",m]].forEach(function(M){D[M[1]]=function(S){return this.$g(S,M[0],M[1])}}),B.extend=function(M,S){return M.$i||(M(S,F,B),M.$i=!0),B},B.locale=A,B.isDayjs=C,B.unix=function(M){return B(1e3*M)},B.en=_[b],B.Ls=_,B.p={},B})})(iC);var MO=iC.exports;const _s=Eo(MO);var mc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yo=typeof window>"u"||"Deno"in globalThis;function Nr(){}function OO(t,e){return typeof t=="function"?t(e):t}function Jg(t){return typeof t=="number"&&t>=0&&t!==1/0}function sC(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Sa(t,e){return typeof t=="function"?t(e):t}function un(t,e){return typeof t=="function"?t(e):t}function Qx(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==Oy(o,e.options))return!1}else if(!$u(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Zx(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ju(e.options.mutationKey)!==ju(s))return!1}else if(!$u(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Oy(t,e){return((e==null?void 0:e.queryKeyHashFn)||ju)(t)}function ju(t){return JSON.stringify(t,(e,r)=>tv(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function $u(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(r=>!$u(t[r],e[r])):!1}function oC(t,e){if(t===e)return t;const r=Jx(t)&&Jx(e);if(r||tv(t)&&tv(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,a=r?[]:{};let l=0;for(let u=0;u<o;u++){const c=r?u:s[u];(!r&&n.includes(c)||r)&&t[c]===void 0&&e[c]===void 0?(a[c]=void 0,l++):(a[c]=oC(t[c],e[c]),a[c]===t[c]&&t[c]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function ev(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function Jx(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tv(t){if(!ew(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ew(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ew(t){return Object.prototype.toString.call(t)==="[object Object]"}function DO(t){return new Promise(e=>{setTimeout(e,t)})}function rv(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?oC(t,e):e}function LO(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function kO(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Dy=Symbol();function aC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Dy?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Zs,ji,La,DS,NO=(DS=class extends mc{constructor(){super();xe(this,Zs);xe(this,ji);xe(this,La);ne(this,La,e=>{if(!yo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){j(this,ji)||this.setEventListener(j(this,La))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,ji))==null||e.call(this),ne(this,ji,void 0))}setEventListener(e){var r;ne(this,La,e),(r=j(this,ji))==null||r.call(this),ne(this,ji,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){j(this,Zs)!==e&&(ne(this,Zs,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof j(this,Zs)=="boolean"?j(this,Zs):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Zs=new WeakMap,ji=new WeakMap,La=new WeakMap,DS),Ly=new NO,ka,$i,Na,LS,FO=(LS=class extends mc{constructor(){super();xe(this,ka,!0);xe(this,$i);xe(this,Na);ne(this,Na,e=>{if(!yo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){j(this,$i)||this.setEventListener(j(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=j(this,$i))==null||e.call(this),ne(this,$i,void 0))}setEventListener(e){var r;ne(this,Na,e),(r=j(this,$i))==null||r.call(this),ne(this,$i,e(this.setOnline.bind(this)))}setOnline(e){j(this,ka)!==e&&(ne(this,ka,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return j(this,ka)}},ka=new WeakMap,$i=new WeakMap,Na=new WeakMap,LS),kd=new FO;function nv(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function BO(t){return Math.min(1e3*2**t,3e4)}function lC(t){return(t??"online")==="online"?kd.isOnline():!0}var uC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Yp(t){return t instanceof uC}function cC(t){let e=!1,r=0,n=!1,i;const s=nv(),o=p=>{var v;n||(h(new uC(p)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},u=()=>Ly.isFocused()&&(t.networkMode==="always"||kd.isOnline())&&t.canRun(),c=()=>lC(t.networkMode)&&t.canRun(),d=p=>{var v;n||(n=!0,(v=t.onSuccess)==null||v.call(t,p),i==null||i(),s.resolve(p))},h=p=>{var v;n||(n=!0,(v=t.onError)==null||v.call(t,p),i==null||i(),s.reject(p))},f=()=>new Promise(p=>{var v;i=y=>{(n||u())&&p(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var p;i=void 0,n||(p=t.onContinue)==null||p.call(t)}),m=()=>{if(n)return;let p;const v=r===0?t.initialPromise:void 0;try{p=v??t.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(d).catch(y=>{var _;if(n)return;const x=t.retry??(yo?0:3),g=t.retryDelay??BO,w=typeof g=="function"?g(r,y):g,b=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(e||!b){h(y);return}r++,(_=t.onFail)==null||_.call(t,r,y),DO(w).then(()=>u()?void 0:f()).then(()=>{e?h(y):m()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():f().then(m),s)}}function UO(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var jt=UO(),Js,kS,hC=(kS=class{constructor(){xe(this,Js)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Jg(this.gcTime)&&ne(this,Js,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yo?1/0:5*60*1e3))}clearGcTimeout(){j(this,Js)&&(clearTimeout(j(this,Js)),ne(this,Js,void 0))}},Js=new WeakMap,kS),Fa,Ba,kr,Xt,sc,eo,sn,ti,NS,jO=(NS=class extends hC{constructor(e){super();xe(this,sn);xe(this,Fa);xe(this,Ba);xe(this,kr);xe(this,Xt);xe(this,sc);xe(this,eo);ne(this,eo,!1),ne(this,sc,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,kr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,Fa,$O(this.options)),this.state=e.state??j(this,Fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=j(this,Xt))==null?void 0:e.promise}setOptions(e){this.options={...j(this,sc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&j(this,kr).remove(this)}setData(e,r){const n=rv(this.state.data,e,this.options);return Be(this,sn,ti).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Be(this,sn,ti).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=j(this,Xt))==null?void 0:n.promise;return(i=j(this,Xt))==null||i.cancel(e),r?r.then(Nr).catch(Nr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(j(this,Fa))}isActive(){return this.observers.some(e=>un(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Dy||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!sC(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=j(this,Xt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=j(this,Xt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),j(this,kr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(j(this,Xt)&&(j(this,eo)?j(this,Xt).cancel({revert:!0}):j(this,Xt).cancelRetry()),this.scheduleGc()),j(this,kr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Be(this,sn,ti).call(this,{type:"invalidate"})}fetch(e,r){var l,u,c;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(j(this,Xt))return j(this,Xt).continueRetry(),j(this,Xt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const n=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(ne(this,eo,!0),n.signal)})},s=()=>{const d=aC(this.options,r),h={queryKey:this.queryKey,meta:this.meta};return i(h),ne(this,eo,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),ne(this,Ba,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Be(this,sn,ti).call(this,{type:"fetch",meta:(c=o.fetchOptions)==null?void 0:c.meta});const a=d=>{var h,f,m,p;Yp(d)&&d.silent||Be(this,sn,ti).call(this,{type:"error",error:d}),Yp(d)||((f=(h=j(this,kr).config).onError)==null||f.call(h,d,this),(p=(m=j(this,kr).config).onSettled)==null||p.call(m,this.state.data,d,this)),this.scheduleGc()};return ne(this,Xt,cC({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:d=>{var h,f,m,p;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(v){a(v);return}(f=(h=j(this,kr).config).onSuccess)==null||f.call(h,d,this),(p=(m=j(this,kr).config).onSettled)==null||p.call(m,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{Be(this,sn,ti).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{Be(this,sn,ti).call(this,{type:"pause"})},onContinue:()=>{Be(this,sn,ti).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),j(this,Xt).start()}},Fa=new WeakMap,Ba=new WeakMap,kr=new WeakMap,Xt=new WeakMap,sc=new WeakMap,eo=new WeakMap,sn=new WeakSet,ti=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...dC(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Yp(i)&&i.revert&&j(this,Ba)?{...j(this,Ba),fetchStatus:"idle"}:{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),jt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),j(this,kr).notify({query:this,type:"updated",action:e})})},NS);function dC(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:lC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function $O(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Dn,FS,fC=(FS=class extends mc{constructor(e={}){super();xe(this,Dn);this.config=e,ne(this,Dn,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Oy(i,r);let o=this.get(s);return o||(o=new jO({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){j(this,Dn).has(e.queryHash)||(j(this,Dn).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=j(this,Dn).get(e.queryHash);r&&(e.destroy(),r===e&&j(this,Dn).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return j(this,Dn).get(e)}getAll(){return[...j(this,Dn).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Qx(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>Qx(e,n)):r}notify(e){jt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Dn=new WeakMap,FS),Ln,Zt,to,kn,Ri,BS,zO=(BS=class extends hC{constructor(e){super();xe(this,kn);xe(this,Ln);xe(this,Zt);xe(this,to);this.mutationId=e.mutationId,ne(this,Zt,e.mutationCache),ne(this,Ln,[]),this.state=e.state||GO(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){j(this,Ln).includes(e)||(j(this,Ln).push(e),this.clearGcTimeout(),j(this,Zt).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Ln,j(this,Ln).filter(r=>r!==e)),this.scheduleGc(),j(this,Zt).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){j(this,Ln).length||(this.state.status==="pending"?this.scheduleGc():j(this,Zt).remove(this))}continue(){var e;return((e=j(this,to))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,u,c,d,h,f,m,p,v,y,x,g,w,b,_,E;ne(this,to,cC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,A)=>{Be(this,kn,Ri).call(this,{type:"failed",failureCount:C,error:A})},onPause:()=>{Be(this,kn,Ri).call(this,{type:"pause"})},onContinue:()=>{Be(this,kn,Ri).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>j(this,Zt).canRun(this)}));const r=this.state.status==="pending",n=!j(this,to).canStart();try{if(!r){Be(this,kn,Ri).call(this,{type:"pending",variables:e,isPaused:n}),await((s=(i=j(this,Zt).config).onMutate)==null?void 0:s.call(i,e,this));const A=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));A!==this.state.context&&Be(this,kn,Ri).call(this,{type:"pending",context:A,variables:e,isPaused:n})}const C=await j(this,to).start();return await((u=(l=j(this,Zt).config).onSuccess)==null?void 0:u.call(l,C,e,this.state.context,this)),await((d=(c=this.options).onSuccess)==null?void 0:d.call(c,C,e,this.state.context)),await((f=(h=j(this,Zt).config).onSettled)==null?void 0:f.call(h,C,null,this.state.variables,this.state.context,this)),await((p=(m=this.options).onSettled)==null?void 0:p.call(m,C,null,e,this.state.context)),Be(this,kn,Ri).call(this,{type:"success",data:C}),C}catch(C){try{throw await((y=(v=j(this,Zt).config).onError)==null?void 0:y.call(v,C,e,this.state.context,this)),await((g=(x=this.options).onError)==null?void 0:g.call(x,C,e,this.state.context)),await((b=(w=j(this,Zt).config).onSettled)==null?void 0:b.call(w,void 0,C,this.state.variables,this.state.context,this)),await((E=(_=this.options).onSettled)==null?void 0:E.call(_,void 0,C,e,this.state.context)),C}finally{Be(this,kn,Ri).call(this,{type:"error",error:C})}}finally{j(this,Zt).runNext(this)}}},Ln=new WeakMap,Zt=new WeakMap,to=new WeakMap,kn=new WeakSet,Ri=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),jt.batch(()=>{j(this,Ln).forEach(n=>{n.onMutationUpdate(e)}),j(this,Zt).notify({mutation:this,type:"updated",action:e})})},BS);function GO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var br,oc,US,HO=(US=class extends mc{constructor(e={}){super();xe(this,br);xe(this,oc);this.config=e,ne(this,br,new Map),ne(this,oc,Date.now())}build(e,r,n){const i=new zO({mutationCache:this,mutationId:++kc(this,oc)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){const r=Jc(e),n=j(this,br).get(r)??[];n.push(e),j(this,br).set(r,n),this.notify({type:"added",mutation:e})}remove(e){var n;const r=Jc(e);if(j(this,br).has(r)){const i=(n=j(this,br).get(r))==null?void 0:n.filter(s=>s!==e);i&&(i.length===0?j(this,br).delete(r):j(this,br).set(r,i))}this.notify({type:"removed",mutation:e})}canRun(e){var n;const r=(n=j(this,br).get(Jc(e)))==null?void 0:n.find(i=>i.state.status==="pending");return!r||r===e}runNext(e){var n;const r=(n=j(this,br).get(Jc(e)))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...j(this,br).values()].flat()}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Zx(r,n))}findAll(e={}){return this.getAll().filter(r=>Zx(e,r))}notify(e){jt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return jt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Nr))))}},br=new WeakMap,oc=new WeakMap,US);function Jc(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function tw(t){return{onFetch:(e,r)=>{var c,d,h,f,m;const n=e.options,i=(h=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let p=!1;const v=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(e.signal.aborted?p=!0:e.signal.addEventListener("abort",()=>{p=!0}),e.signal)})},y=aC(e.options,e.fetchOptions),x=async(g,w,b)=>{if(p)return Promise.reject();if(w==null&&g.pages.length)return Promise.resolve(g);const _={queryKey:e.queryKey,pageParam:w,direction:b?"backward":"forward",meta:e.options.meta};v(_);const E=await y(_),{maxPages:C}=e.options,A=b?kO:LO;return{pages:A(g.pages,E,C),pageParams:A(g.pageParams,w,C)}};if(i&&s.length){const g=i==="backward",w=g?VO:rw,b={pages:s,pageParams:o},_=w(n,b);a=await x(b,_,g)}else{const g=t??s.length;do{const w=l===0?o[0]??n.initialPageParam:rw(n,a);if(l>0&&w==null)break;a=await x(a,w),l++}while(l<g)}return a};e.options.persister?e.fetchFn=()=>{var p,v;return(v=(p=e.options).persister)==null?void 0:v.call(p,u,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function rw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function VO(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var mt,zi,Gi,Ua,ja,Hi,$a,za,jS,WO=(jS=class{constructor(t={}){xe(this,mt);xe(this,zi);xe(this,Gi);xe(this,Ua);xe(this,ja);xe(this,Hi);xe(this,$a);xe(this,za);ne(this,mt,t.queryCache||new fC),ne(this,zi,t.mutationCache||new HO),ne(this,Gi,t.defaultOptions||{}),ne(this,Ua,new Map),ne(this,ja,new Map),ne(this,Hi,0)}mount(){kc(this,Hi)._++,j(this,Hi)===1&&(ne(this,$a,Ly.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,mt).onFocus())})),ne(this,za,kd.subscribe(async t=>{t&&(await this.resumePausedMutations(),j(this,mt).onOnline())})))}unmount(){var t,e;kc(this,Hi)._--,j(this,Hi)===0&&((t=j(this,$a))==null||t.call(this),ne(this,$a,void 0),(e=j(this,za))==null||e.call(this),ne(this,za,void 0))}isFetching(t){return j(this,mt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return j(this,zi).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=j(this,mt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const r=this.defaultQueryOptions(t),n=j(this,mt).build(this,r);return t.revalidateIfStale&&n.isStaleByTime(Sa(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(e)}}getQueriesData(t){return j(this,mt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=j(this,mt).get(n.queryHash),s=i==null?void 0:i.state.data,o=OO(e,s);if(o!==void 0)return j(this,mt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return jt.batch(()=>j(this,mt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=j(this,mt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=j(this,mt);jt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=j(this,mt),n={type:"active",...t};return jt.batch(()=>(r.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(n,e)))}cancelQueries(t={},e={}){const r={revert:!0,...e},n=jt.batch(()=>j(this,mt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Nr).catch(Nr)}invalidateQueries(t={},e={}){return jt.batch(()=>{if(j(this,mt).findAll(t).forEach(n=>{n.invalidate()}),t.refetchType==="none")return Promise.resolve();const r={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(r,e)})}refetchQueries(t={},e){const r={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},n=jt.batch(()=>j(this,mt).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Nr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Nr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=j(this,mt).build(this,e);return r.isStaleByTime(Sa(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Nr).catch(Nr)}fetchInfiniteQuery(t){return t.behavior=tw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Nr).catch(Nr)}ensureInfiniteQueryData(t){return t.behavior=tw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kd.isOnline()?j(this,zi).resumePausedMutations():Promise.resolve()}getQueryCache(){return j(this,mt)}getMutationCache(){return j(this,zi)}getDefaultOptions(){return j(this,Gi)}setDefaultOptions(t){ne(this,Gi,t)}setQueryDefaults(t,e){j(this,Ua).set(ju(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...j(this,Ua).values()];let r={};return e.forEach(n=>{$u(t,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(t,e){j(this,ja).set(ju(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...j(this,ja).values()];let r={};return e.forEach(n=>{$u(t,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...j(this,Gi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Oy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Dy&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...j(this,Gi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){j(this,mt).clear(),j(this,zi).clear()}},mt=new WeakMap,zi=new WeakMap,Gi=new WeakMap,Ua=new WeakMap,ja=new WeakMap,Hi=new WeakMap,$a=new WeakMap,za=new WeakMap,jS),lr,Ue,ac,Jt,ro,Ga,Vi,Nn,lc,Ha,Va,no,io,Wi,Wa,We,Vl,iv,sv,ov,av,lv,uv,cv,pC,$S,XO=($S=class extends mc{constructor(e,r){super();xe(this,We);xe(this,lr);xe(this,Ue);xe(this,ac);xe(this,Jt);xe(this,ro);xe(this,Ga);xe(this,Vi);xe(this,Nn);xe(this,lc);xe(this,Ha);xe(this,Va);xe(this,no);xe(this,io);xe(this,Wi);xe(this,Wa,new Set);this.options=r,ne(this,lr,e),ne(this,Nn,null),ne(this,Vi,nv()),this.options.experimental_prefetchInRender||j(this,Vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(j(this,Ue).addObserver(this),nw(j(this,Ue),this.options)?Be(this,We,Vl).call(this):this.updateResult(),Be(this,We,av).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return hv(j(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return hv(j(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Be(this,We,lv).call(this),Be(this,We,uv).call(this),j(this,Ue).removeObserver(this)}setOptions(e,r){const n=this.options,i=j(this,Ue);if(this.options=j(this,lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof un(this.options.enabled,j(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Be(this,We,cv).call(this),j(this,Ue).setOptions(this.options),n._defaulted&&!ev(this.options,n)&&j(this,lr).getQueryCache().notify({type:"observerOptionsUpdated",query:j(this,Ue),observer:this});const s=this.hasListeners();s&&iw(j(this,Ue),i,this.options,n)&&Be(this,We,Vl).call(this),this.updateResult(r),s&&(j(this,Ue)!==i||un(this.options.enabled,j(this,Ue))!==un(n.enabled,j(this,Ue))||Sa(this.options.staleTime,j(this,Ue))!==Sa(n.staleTime,j(this,Ue)))&&Be(this,We,iv).call(this);const o=Be(this,We,sv).call(this);s&&(j(this,Ue)!==i||un(this.options.enabled,j(this,Ue))!==un(n.enabled,j(this,Ue))||o!==j(this,Wi))&&Be(this,We,ov).call(this,o)}getOptimisticResult(e){const r=j(this,lr).getQueryCache().build(j(this,lr),e),n=this.createResult(r,e);return qO(this,n)&&(ne(this,Jt,n),ne(this,Ga,this.options),ne(this,ro,j(this,Ue).state)),n}getCurrentResult(){return j(this,Jt)}trackResult(e,r){const n={};return Object.keys(e).forEach(i=>{Object.defineProperty(n,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),r==null||r(i),e[i])})}),n}trackProp(e){j(this,Wa).add(e)}getCurrentQuery(){return j(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=j(this,lr).defaultQueryOptions(e),n=j(this,lr).getQueryCache().build(j(this,lr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Be(this,We,Vl).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),j(this,Jt)))}createResult(e,r){var C;const n=j(this,Ue),i=this.options,s=j(this,Jt),o=j(this,ro),a=j(this,Ga),u=e!==n?e.state:j(this,ac),{state:c}=e;let d={...c},h=!1,f;if(r._optimisticResults){const A=this.hasListeners(),B=!A&&nw(e,r),N=A&&iw(e,n,r,i);(B||N)&&(d={...d,...dC(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:v}=d;if(r.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&r.select===j(this,lc))f=j(this,Ha);else try{ne(this,lc,r.select),f=r.select(d.data),f=rv(s==null?void 0:s.data,f,r),ne(this,Ha,f),ne(this,Nn,null)}catch(A){ne(this,Nn,A)}else f=d.data;if(r.placeholderData!==void 0&&f===void 0&&v==="pending"){let A;if(s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData))A=s.data;else if(A=typeof r.placeholderData=="function"?r.placeholderData((C=j(this,Va))==null?void 0:C.state.data,j(this,Va)):r.placeholderData,r.select&&A!==void 0)try{A=r.select(A),ne(this,Nn,null)}catch(B){ne(this,Nn,B)}A!==void 0&&(v="success",f=rv(s==null?void 0:s.data,A,r),h=!0)}j(this,Nn)&&(m=j(this,Nn),f=j(this,Ha),p=Date.now(),v="error");const y=d.fetchStatus==="fetching",x=v==="pending",g=v==="error",w=x&&y,b=f!==void 0,E={status:v,fetchStatus:d.fetchStatus,isPending:x,isSuccess:v==="success",isError:g,isInitialLoading:w,isLoading:w,data:f,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!x,isLoadingError:g&&!b,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:g&&b,isStale:ky(e,r),refetch:this.refetch,promise:j(this,Vi)};if(this.options.experimental_prefetchInRender){const A=F=>{E.status==="error"?F.reject(E.error):E.data!==void 0&&F.resolve(E.data)},B=()=>{const F=ne(this,Vi,E.promise=nv());A(F)},N=j(this,Vi);switch(N.status){case"pending":e.queryHash===n.queryHash&&A(N);break;case"fulfilled":(E.status==="error"||E.data!==N.value)&&B();break;case"rejected":(E.status!=="error"||E.error!==N.reason)&&B();break}}return E}updateResult(e){const r=j(this,Jt),n=this.createResult(j(this,Ue),this.options);if(ne(this,ro,j(this,Ue).state),ne(this,Ga,this.options),j(this,ro).data!==void 0&&ne(this,Va,j(this,Ue)),ev(n,r))return;ne(this,Jt,n);const i={},s=()=>{if(!r)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!j(this,Wa).size)return!0;const l=new Set(a??j(this,Wa));return this.options.throwOnError&&l.add("error"),Object.keys(j(this,Jt)).some(u=>{const c=u;return j(this,Jt)[c]!==r[c]&&l.has(c)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),Be(this,We,pC).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Be(this,We,av).call(this)}},lr=new WeakMap,Ue=new WeakMap,ac=new WeakMap,Jt=new WeakMap,ro=new WeakMap,Ga=new WeakMap,Vi=new WeakMap,Nn=new WeakMap,lc=new WeakMap,Ha=new WeakMap,Va=new WeakMap,no=new WeakMap,io=new WeakMap,Wi=new WeakMap,Wa=new WeakMap,We=new WeakSet,Vl=function(e){Be(this,We,cv).call(this);let r=j(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Nr)),r},iv=function(){Be(this,We,lv).call(this);const e=Sa(this.options.staleTime,j(this,Ue));if(yo||j(this,Jt).isStale||!Jg(e))return;const n=sC(j(this,Jt).dataUpdatedAt,e)+1;ne(this,no,setTimeout(()=>{j(this,Jt).isStale||this.updateResult()},n))},sv=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(j(this,Ue)):this.options.refetchInterval)??!1},ov=function(e){Be(this,We,uv).call(this),ne(this,Wi,e),!(yo||un(this.options.enabled,j(this,Ue))===!1||!Jg(j(this,Wi))||j(this,Wi)===0)&&ne(this,io,setInterval(()=>{(this.options.refetchIntervalInBackground||Ly.isFocused())&&Be(this,We,Vl).call(this)},j(this,Wi)))},av=function(){Be(this,We,iv).call(this),Be(this,We,ov).call(this,Be(this,We,sv).call(this))},lv=function(){j(this,no)&&(clearTimeout(j(this,no)),ne(this,no,void 0))},uv=function(){j(this,io)&&(clearInterval(j(this,io)),ne(this,io,void 0))},cv=function(){const e=j(this,lr).getQueryCache().build(j(this,lr),this.options);if(e===j(this,Ue))return;const r=j(this,Ue);ne(this,Ue,e),ne(this,ac,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},pC=function(e){jt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(j(this,Jt))}),j(this,lr).getQueryCache().notify({query:j(this,Ue),type:"observerResultsUpdated"})})},$S);function YO(t,e){return un(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nw(t,e){return YO(t,e)||t.state.data!==void 0&&hv(t,e,e.refetchOnMount)}function hv(t,e,r){if(un(e.enabled,t)!==!1){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&ky(t,e)}return!1}function iw(t,e,r,n){return(t!==e||un(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&ky(t,r)}function ky(t,e){return un(e.enabled,t)!==!1&&t.isStaleByTime(Sa(e.staleTime,t))}function qO(t,e){return!ev(t.getCurrentResult(),e)}var mC=P.createContext(void 0),KO=t=>{const e=P.useContext(mC);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QO=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),T.jsx(mC.Provider,{value:t,children:e})),gC=P.createContext(!1),ZO=()=>P.useContext(gC);gC.Provider;function JO(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var eD=P.createContext(JO()),tD=()=>P.useContext(eD);function rD(t,e){return typeof t=="function"?t(...e):!!t}function sw(){}var nD=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},iD=t=>{P.useEffect(()=>{t.clearReset()},[t])},sD=({result:t,errorResetBoundary:e,throwOnError:r,query:n})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&rD(r,[t.error,n]),oD=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},aD=(t,e)=>t.isLoading&&t.isFetching&&!e,lD=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,ow=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function uD(t,e,r){var c,d,h,f,m;const n=KO(),i=ZO(),s=tD(),o=n.defaultQueryOptions(t);(d=(c=n.getDefaultOptions().queries)==null?void 0:c._experimental_beforeQuery)==null||d.call(c,o),o._optimisticResults=i?"isRestoring":"optimistic",oD(o),nD(o,s),iD(s);const a=!n.getQueryCache().get(o.queryHash),[l]=P.useState(()=>new e(n,o)),u=l.getOptimisticResult(o);if(P.useSyncExternalStore(P.useCallback(p=>{const v=i?sw:l.subscribe(jt.batchCalls(p));return l.updateResult(),v},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),P.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),lD(o,u))throw ow(o,l,s);if(sD({result:u,errorResetBoundary:s,throwOnError:o.throwOnError,query:n.getQueryCache().get(o.queryHash)}))throw u.error;if((f=(h=n.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||f.call(h,o,u),o.experimental_prefetchInRender&&!yo&&aD(u,i)){const p=a?ow(o,l,s):(m=n.getQueryCache().get(o.queryHash))==null?void 0:m.promise;p==null||p.catch(sw).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?u:l.trackResult(u)}function vC(t,e){return uD(t,XO)}function cD({src:t,placeholder:e}){const[r,n]=P.useState(t||e),i=P.useCallback(()=>{n(e)},[e]);return P.useEffect(()=>{n(t)},[t]),{imgSrc:r,onError:i}}const hD=P.forwardRef((t,e)=>{const{isLoading:r,loadingIcon:n,loadingPosition:i="left",children:s,className:o,...a}=t,l=()=>{let c;return n?c=n:c=T.jsx(TO,{...a,"aria-label":"Loading"}),c},u=Xe("loading d-flex align-items-center gap-8",{"is-loading":r},o);return T.jsxs("div",{className:u,role:"status",ref:e,children:[(!i||i==="left")&&l(),s,i==="right"&&l()]})}),dD=hD,fD=P.forwardRef(({color:t="primary",type:e="button",size:r="md",children:n,isLoading:i,loadingIcon:s,loadingPosition:o,leftIcon:a,rightIcon:l,className:u,variant:c="filled",...d},h)=>{const f=Xe("btn",{[`btn-filled btn-${t}`]:c==="filled",[`btn-${c}-${t}`]:c==="outline"||c==="ghost","btn-icon":!n,"btn-loading":i,"btn-lg":r==="lg","btn-sm":r==="sm"},u);return T.jsx("button",{ref:h,className:f,type:e,...d,children:i?T.jsx(dD,{isLoading:!0,loadingIcon:s,loadingPosition:o,children:n}):T.jsxs("span",{children:[a,n,l]})})}),ul=fD;function Bf(){return["/assets/themes/edifice-bootstrap/images","/assets/themes/edifice-bootstrap/icons","/assets/themes/edifice-bootstrap/fonts"]}function yC({appCode:t}){return vC({queryKey:["conf"],queryFn:async()=>await Xr.conf().getConf(t)})}function pD(){return vC({queryKey:["session"],queryFn:async()=>await Xr.session().getSession()})}const xC=P.createContext(null);function mD({children:t,params:e}){var r;const n=e.app,{t:i}=Kr(),s=i(n),o=pD(),a=yC({appCode:n}),l=(a==null?void 0:a.isSuccess)&&(o==null?void 0:o.isSuccess),u=((r=o==null?void 0:o.data)==null?void 0:r.currentLanguage)??"fr";P.useEffect(()=>{[{data:"html",value:u},{data:"translate",value:"no"}].forEach(d=>{var h;return(h=document.querySelector("html"))==null?void 0:h.setAttribute(d.data,d.value)})},[u,o.data]),P.useEffect(()=>{document.title=`${s}`},[n,o.data,s]);const c=P.useMemo(()=>{var d,h,f,m,p;return{appCode:n,applications:(d=a==null?void 0:a.data)==null?void 0:d.applications,confQuery:a,currentApp:(h=a==null?void 0:a.data)==null?void 0:h.currentApp,currentLanguage:u,init:l,sessionQuery:o,user:(f=o==null?void 0:o.data)==null?void 0:f.user,userDescription:(m=o==null?void 0:o.data)==null?void 0:m.userDescription,userProfile:(p=o==null?void 0:o.data)==null?void 0:p.userProfile}},[n,a,u,l,o]);return T.jsx(xC.Provider,{value:c,children:t})}function Ti(){const t=P.useContext(xC);if(!t)throw new Error("Cannot be used outside of OdeClientProvider");return t}const gD=P.forwardRef(({src:t,alt:e,imgPlaceholder:r,ratio:n,objectFit:i,className:s,...o},a)=>{const[l]=Bf(),u=r??`${l}/common/image-placeholder.png`,{imgSrc:c,onError:d}=cD({src:t,placeholder:u}),h={"ratio ratio-1x1":n==="1","ratio ratio-4x3":n==="4","ratio ratio-16x9":n==="16","ratio ratio-21x9":n==="21"},f={"object-fit-contain":i==="contain","object-fit-cover":i==="cover","object-fit-fill":i==="fill","object-fit-scale":i==="scale","object-fit-none":i==="none"},m=Xe({...h}),p=Xe({...f},s),v=T.jsx("img",{alt:e,onError:d,ref:a,src:c,className:p,...o});return n?T.jsx("div",{className:m,children:v}):v}),wC=gD,vD=P.forwardRef(({variant:t="square",size:e="md",alt:r,src:n,imgPlaceholder:i,className:s,...o},a)=>{const[l]=Bf(),u=i||`${l}/avatar/no-avatar.svg`,c=Xe("avatar",{"avatar-xs":e==="xs","avatar-sm":e==="sm","avatar-md":e==="md","avatar-lg":e==="lg","avatar-xl":e==="xl",square:t==="square",rounded:t==="rounded","rounded-circle":t==="circle"},s);return T.jsx("div",{ref:a,className:c,children:T.jsx(wC,{src:n||u,alt:r,imgPlaceholder:u,...o})})}),aw=vD,yD=P.forwardRef(({className:t,variant:e={type:"notification",level:"info"},children:r,...n},i)=>{const s=Xe("badge rounded-pill",(e.type==="content"||e.type==="user")&&"background"in e?"bg-gray-200":(e.type==="content"||e.type==="user")&&!("background"in e)?"border border-0":"",e.type==="content"&&`text-${e.level}`,e.type==="notification"&&`badge-notification bg-${e.level} text-light border border-0`,e.type==="user"&&`badge-profile-${e.profile.toLowerCase()}`,e.type==="link"&&"badge-link border border-0",e.type==="chip"&&"bg-gray-200",t);return T.jsx("span",{ref:i,className:s,...n,children:e.type==="chip"?T.jsx("div",{className:"d-flex fw-800 align-items-center",children:r}):r})}),qp=yD,xD=P.forwardRef(({level:t="h1",headingStyle:e="h1",children:r,className:n,...i},s)=>{const o=Xe(e,n);return T.jsx(t,{ref:s,className:o,...i,children:r})}),_C=xD;var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ny(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bC={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bs,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,s=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,a={},l=function(p){return(p=+p)+(p>68?1900:2e3)},u=function(p){return function(v){this[p]=+v}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var y=v.match(/([+-]|\d\d)/g),x=60*y[1]+(+y[2]||0);return x===0?0:y[0]==="+"?-x:x}(p)}],d=function(p){var v=a[p];return v&&(v.indexOf?v:v.s.concat(v.f))},h=function(p,v){var y,x=a.meridiem;if(x){for(var g=1;g<=24;g+=1)if(p.indexOf(x(g,0,v))>-1){y=g>12;break}}else y=p===(v?"pm":"PM");return y},f={A:[o,function(p){this.afternoon=h(p,!1)}],a:[o,function(p){this.afternoon=h(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[i,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[s,u("seconds")],ss:[s,u("seconds")],m:[s,u("minutes")],mm:[s,u("minutes")],H:[s,u("hours")],h:[s,u("hours")],HH:[s,u("hours")],hh:[s,u("hours")],D:[s,u("day")],DD:[i,u("day")],Do:[o,function(p){var v=a.ordinal,y=p.match(/\d+/);if(this.day=y[0],v)for(var x=1;x<=31;x+=1)v(x).replace(/\[|\]/g,"")===p&&(this.day=x)}],M:[s,u("month")],MM:[i,u("month")],MMM:[o,function(p){var v=d("months"),y=(d("monthsShort")||v.map(function(x){return x.slice(0,3)})).indexOf(p)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[o,function(p){var v=d("months").indexOf(p)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,u("year")],YY:[i,function(p){this.year=l(p)}],YYYY:[/\d{4}/,u("year")],Z:c,ZZ:c};function m(p){var v,y;v=p,y=a&&a.formats;for(var x=(p=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(A,B,N){var F=N&&N.toUpperCase();return B||y[N]||r[N]||y[F].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(D,M,S){return M||S.slice(1)})})).match(n),g=x.length,w=0;w<g;w+=1){var b=x[w],_=f[b],E=_&&_[0],C=_&&_[1];x[w]=C?{regex:E,parser:C}:b.replace(/^\[|\]$/g,"")}return function(A){for(var B={},N=0,F=0;N<g;N+=1){var D=x[N];if(typeof D=="string")F+=D.length;else{var M=D.regex,S=D.parser,I=A.slice(F),L=M.exec(I)[0];S.call(B,L),A=A.replace(L,"")}}return function(R){var U=R.afternoon;if(U!==void 0){var O=R.hours;U?O<12&&(R.hours+=12):O===12&&(R.hours=0),delete R.afternoon}}(B),B}}return function(p,v,y){y.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(l=p.parseTwoDigitYear);var x=v.prototype,g=x.parse;x.parse=function(w){var b=w.date,_=w.utc,E=w.args;this.$u=_;var C=E[1];if(typeof C=="string"){var A=E[2]===!0,B=E[3]===!0,N=A||B,F=E[2];B&&(F=E[2]),a=this.$locale(),!A&&F&&(a=y.Ls[F]),this.$d=function(I,L,R){try{if(["x","X"].indexOf(L)>-1)return new Date((L==="X"?1e3:1)*I);var U=m(L)(I),O=U.year,z=U.month,H=U.day,q=U.hours,K=U.minutes,se=U.seconds,de=U.milliseconds,me=U.zone,Le=new Date,Ie=H||(O||z?1:Le.getDate()),we=O||Le.getFullYear(),ce=0;O&&!z||(ce=z>0?z-1:Le.getMonth());var Ae=q||0,ke=K||0,Tt=se||0,Ye=de||0;return me?new Date(Date.UTC(we,ce,Ie,Ae,ke,Tt,Ye+60*me.offset*1e3)):R?new Date(Date.UTC(we,ce,Ie,Ae,ke,Tt,Ye)):new Date(we,ce,Ie,Ae,ke,Tt,Ye)}catch{return new Date("")}}(b,C,_),this.init(),F&&F!==!0&&(this.$L=this.locale(F).$L),N&&b!=this.format(C)&&(this.$d=new Date("")),a={}}else if(C instanceof Array)for(var D=C.length,M=1;M<=D;M+=1){E[1]=C[M-1];var S=y.apply(this,E);if(S.isValid()){this.$d=S.$d,this.$L=S.$L,this.init();break}M===D&&(this.$d=new Date(""))}else g.call(this,w)}}})})(bC);var wD=bC.exports;const _D=Ny(wD);var SC={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bs,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,i,s){var o=i.prototype,a=o.format;s.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,c=function(d,h){return d.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,m,p){var v=p&&p.toUpperCase();return m||h[p]||r[p]||h[v].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,x,g){return x||g.slice(1)})})}(l,u===void 0?{}:u);return a.call(this,c)}}})})(SC);var bD=SC.exports;const SD=Ny(bD);var EC={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(bs,function(){return function(r,n,i){r=r||{};var s=n.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function a(u,c,d,h){return s.fromToBase(u,c,d,h)}i.en.relativeTime=o,s.fromToBase=function(u,c,d,h,f){for(var m,p,v,y=d.$locale().relativeTime||o,x=r.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],g=x.length,w=0;w<g;w+=1){var b=x[w];b.d&&(m=h?i(u).diff(d,b.d,!0):d.diff(u,b.d,!0));var _=(r.rounding||Math.round)(Math.abs(m));if(v=m>0,_<=b.r||!b.r){_<=1&&w>0&&(b=x[w-1]);var E=y[b.l];f&&(_=f(""+_)),p=typeof E=="string"?E.replace("%d",_):E(_,c,b.l,v);break}}if(c)return p;var C=v?y.future:y.past;return typeof C=="function"?C(p):C.replace("%s",p)},s.to=function(u,c){return a(u,c,this,!0)},s.from=function(u,c){return a(u,c,this)};var l=function(u){return u.$u?i.utc():i()};s.toNow=function(u){return this.to(l(this),u)},s.fromNow=function(u){return this.from(l(this),u)}}})})(EC);var ED=EC.exports;const TD=Ny(ED);var CD={exports:{}};(function(t,e){(function(r,n){t.exports=n(_s)})(bs,function(r){function n(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var i=n(r),s={s:"ein paar Sekunden",m:["eine Minute","einer Minute"],mm:"%d Minuten",h:["eine Stunde","einer Stunde"],hh:"%d Stunden",d:["ein Tag","einem Tag"],dd:["%d Tage","%d Tagen"],M:["ein Monat","einem Monat"],MM:["%d Monate","%d Monaten"],y:["ein Jahr","einem Jahr"],yy:["%d Jahre","%d Jahren"]};function o(l,u,c){var d=s[c];return Array.isArray(d)&&(d=d[u?0:1]),d.replace("%d",l)}var a={name:"de",weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),ordinal:function(l){return l+"."},weekStart:1,yearStart:4,formats:{LTS:"HH:mm:ss",LT:"HH:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},relativeTime:{future:"in %s",past:"vor %s",s:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o}};return i.default.locale(a,null,!0),a})})(CD);var AD={exports:{}};(function(t,e){(function(r,n){t.exports=n(_s)})(bs,function(r){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=n(r),s={name:"es",monthsShort:"ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),weekStart:1,formats:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:function(o){return o+""}};return i.default.locale(s,null,!0),s})})(AD);var PD={exports:{}};(function(t,e){(function(r,n){t.exports=n(_s)})(bs,function(r){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=n(r),s={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return i.default.locale(s,null,!0),s})})(PD);var RD={exports:{}};(function(t,e){(function(r,n){t.exports=n(_s)})(bs,function(r){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=n(r),s={name:"it",weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),weekStart:1,monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"tra %s",past:"%s fa",s:"qualche secondo",m:"un minuto",mm:"%d minuti",h:"un' ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:function(o){return o+""}};return i.default.locale(s,null,!0),s})})(RD);var ID={exports:{}};(function(t,e){(function(r,n){t.exports=n(_s)})(bs,function(r){function n(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var i=n(r),s={name:"pt",weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sab".split("_"),weekdaysMin:"Do_2_3_4_5_6_Sa".split("_"),months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),ordinal:function(o){return o+""},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},relativeTime:{future:"em %s",past:"h %s",s:"alguns segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"}};return i.default.locale(s,null,!0),s})})(ID);_s.extend(TD);_s.extend(_D);_s.extend(SD);let MD={data:""},OD=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||MD,DD=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,LD=/\/\*[^]*?\*\/|  +/g,lw=/\n+/g,Bi=(t,e)=>{let r="",n="",i="";for(let s in t){let o=t[s];s[0]=="@"?s[1]=="i"?r=s+" "+o+";":n+=s[1]=="f"?Bi(o,s):s+"{"+Bi(o,s[1]=="k"?"":e)+"}":typeof o=="object"?n+=Bi(o,e?e.replace(/([^,])+/g,a=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Bi.p?Bi.p(s,o):s+":"+o+";")}return r+(e&&i?e+"{"+i+"}":i)+n},Zn={},TC=t=>{if(typeof t=="object"){let e="";for(let r in t)e+=r+TC(t[r]);return e}return t},kD=(t,e,r,n,i)=>{let s=TC(t),o=Zn[s]||(Zn[s]=(l=>{let u=0,c=11;for(;u<l.length;)c=101*c+l.charCodeAt(u++)>>>0;return"go"+c})(s));if(!Zn[o]){let l=s!==t?t:(u=>{let c,d,h=[{}];for(;c=DD.exec(u.replace(LD,""));)c[4]?h.shift():c[3]?(d=c[3].replace(lw," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][c[1]]=c[2].replace(lw," ").trim();return h[0]})(t);Zn[o]=Bi(i?{["@keyframes "+o]:l}:l,r?"":"."+o)}let a=r&&Zn.g?Zn.g:null;return r&&(Zn.g=Zn[o]),((l,u,c,d)=>{d?u.data=u.data.replace(d,l):u.data.indexOf(l)===-1&&(u.data=c?l+u.data:u.data+l)})(Zn[o],e,n,a),o},ND=(t,e,r)=>t.reduce((n,i,s)=>{let o=e[s];if(o&&o.call){let a=o(r),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=l?"."+l:a&&typeof a=="object"?a.props?"":Bi(a,""):a===!1?"":a}return n+i+(o??"")},"");function Uf(t){let e=this||{},r=t.call?t(e.p):t;return kD(r.unshift?r.raw?ND(r,[].slice.call(arguments,1),e.p):r.reduce((n,i)=>Object.assign(n,i&&i.call?i(e.p):i),{}):r,OD(e.target),e.g,e.o,e.k)}let CC,dv,fv;Uf.bind({g:1});let _i=Uf.bind({k:1});function FD(t,e,r,n){Bi.p=e,CC=t,dv=r,fv=n}function Ss(t,e){let r=this||{};return function(){let n=arguments;function i(s,o){let a=Object.assign({},s),l=a.className||i.className;r.p=Object.assign({theme:dv&&dv()},a),r.o=/ *go\d+/.test(l),a.className=Uf.apply(r,n)+(l?" "+l:""),e&&(a.ref=o);let u=t;return t[0]&&(u=a.as||t,delete a.as),fv&&u[0]&&fv(a),CC(u,a)}return e?e(i):i}}var BD=t=>typeof t=="function",Nd=(t,e)=>BD(t)?t(e):t,UD=(()=>{let t=0;return()=>(++t).toString()})(),AC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),jD=20,Yh=new Map,$D=1e3,uw=t=>{if(Yh.has(t))return;let e=setTimeout(()=>{Yh.delete(t),Ao({type:4,toastId:t})},$D);Yh.set(t,e)},zD=t=>{let e=Yh.get(t);e&&clearTimeout(e)},pv=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,jD)};case 1:return e.toast.id&&zD(e.toast.id),{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:r}=e;return t.toasts.find(s=>s.id===r.id)?pv(t,{type:1,toast:r}):pv(t,{type:0,toast:r});case 3:let{toastId:n}=e;return n?uw(n):t.toasts.forEach(s=>{uw(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let i=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+i}))}}},qh=[],Kh={toasts:[],pausedAt:void 0},Ao=t=>{Kh=pv(Kh,t),qh.forEach(e=>{e(Kh)})},GD={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},HD=(t={})=>{let[e,r]=P.useState(Kh);P.useEffect(()=>(qh.push(r),()=>{let i=qh.indexOf(r);i>-1&&qh.splice(i,1)}),[e]);let n=e.toasts.map(i=>{var s,o;return{...t,...t[i.type],...i,duration:i.duration||((s=t[i.type])==null?void 0:s.duration)||(t==null?void 0:t.duration)||GD[i.type],style:{...t.style,...(o=t[i.type])==null?void 0:o.style,...i.style}}});return{...e,toasts:n}},VD=(t,e="blank",r)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...r,id:(r==null?void 0:r.id)||UD()}),gc=t=>(e,r)=>{let n=VD(e,t,r);return Ao({type:2,toast:n}),n.id},Gr=(t,e)=>gc("blank")(t,e);Gr.error=gc("error");Gr.success=gc("success");Gr.loading=gc("loading");Gr.custom=gc("custom");Gr.dismiss=t=>{Ao({type:3,toastId:t})};Gr.remove=t=>Ao({type:4,toastId:t});Gr.promise=(t,e,r)=>{let n=Gr.loading(e.loading,{...r,...r==null?void 0:r.loading});return t.then(i=>(Gr.success(Nd(e.success,i),{id:n,...r,...r==null?void 0:r.success}),i)).catch(i=>{Gr.error(Nd(e.error,i),{id:n,...r,...r==null?void 0:r.error})}),t};var WD=(t,e)=>{Ao({type:1,toast:{id:t,height:e}})},XD=()=>{Ao({type:5,time:Date.now()})},YD=t=>{let{toasts:e,pausedAt:r}=HD(t);P.useEffect(()=>{if(r)return;let s=Date.now(),o=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(s-a.createdAt);if(l<0){a.visible&&Gr.dismiss(a.id);return}return setTimeout(()=>Gr.dismiss(a.id),l)});return()=>{o.forEach(a=>a&&clearTimeout(a))}},[e,r]);let n=P.useCallback(()=>{r&&Ao({type:6,time:Date.now()})},[r]),i=P.useCallback((s,o)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:u}=o||{},c=e.filter(f=>(f.position||u)===(s.position||u)&&f.height),d=c.findIndex(f=>f.id===s.id),h=c.filter((f,m)=>m<d&&f.visible).length;return c.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:WD,startPause:XD,endPause:n,calculateOffset:i}}},qD=_i`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,KD=_i`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,QD=_i`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ZD=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${qD} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${KD} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${QD} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,JD=_i`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,e3=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${JD} 1s linear infinite;
`,t3=_i`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,r3=_i`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,n3=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${t3} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${r3} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,i3=Ss("div")`
  position: absolute;
`,s3=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,o3=_i`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,a3=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${o3} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,l3=({toast:t})=>{let{icon:e,type:r,iconTheme:n}=t;return e!==void 0?typeof e=="string"?P.createElement(a3,null,e):e:r==="blank"?null:P.createElement(s3,null,P.createElement(e3,{...n}),r!=="loading"&&P.createElement(i3,null,r==="error"?P.createElement(ZD,{...n}):P.createElement(n3,{...n})))},u3=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,c3=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,h3="0%{opacity:0;} 100%{opacity:1;}",d3="0%{opacity:1;} 100%{opacity:0;}",f3=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,p3=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,m3=(t,e)=>{let r=t.includes("top")?1:-1,[n,i]=AC()?[h3,d3]:[u3(r),c3(r)];return{animation:e?`${_i(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${_i(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},g3=P.memo(({toast:t,position:e,style:r,children:n})=>{let i=t.height?m3(t.position||e||"top-center",t.visible):{opacity:0},s=P.createElement(l3,{toast:t}),o=P.createElement(p3,{...t.ariaProps},Nd(t.message,t));return P.createElement(f3,{className:t.className,style:{...i,...r,...t.style}},typeof n=="function"?n({icon:s,message:o}):P.createElement(P.Fragment,null,s,o))});FD(P.createElement);var v3=({id:t,className:e,style:r,onHeightUpdate:n,children:i})=>{let s=P.useCallback(o=>{if(o){let a=()=>{let l=o.getBoundingClientRect().height;n(t,l)};a(),new MutationObserver(a).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[t,n]);return P.createElement("div",{ref:s,className:e,style:r},i)},y3=(t,e)=>{let r=t.includes("top"),n=r?{top:0}:{bottom:0},i=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:AC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...n,...i}},x3=Uf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,eh=16,w3=({reverseOrder:t,position:e="top-center",toastOptions:r,gutter:n,children:i,containerStyle:s,containerClassName:o})=>{let{toasts:a,handlers:l}=YD(r);return P.createElement("div",{style:{position:"fixed",zIndex:9999,top:eh,left:eh,right:eh,bottom:eh,pointerEvents:"none",...s},className:o,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(u=>{let c=u.position||e,d=l.calculateOffset(u,{reverseOrder:t,gutter:n,defaultPosition:e}),h=y3(c,d);return P.createElement(v3,{id:u.id,key:u.id,onHeightUpdate:l.updateHeight,className:u.visible?x3:"",style:h},u.type==="custom"?Nd(u.message,u):i?i(u):P.createElement(g3,{toast:u,position:c}))}))},Fy=yc(),Se=t=>vc(t,Fy),By=yc();Se.write=t=>vc(t,By);var jf=yc();Se.onStart=t=>vc(t,jf);var Uy=yc();Se.onFrame=t=>vc(t,Uy);var jy=yc();Se.onFinish=t=>vc(t,jy);var Ea=[];Se.setTimeout=(t,e)=>{const r=Se.now()+e,n=()=>{const s=Ea.findIndex(o=>o.cancel==n);~s&&Ea.splice(s,1),Ki-=~s?1:0},i={time:r,handler:t,cancel:n};return Ea.splice(PC(r),0,i),Ki+=1,RC(),i};var PC=t=>~(~Ea.findIndex(e=>e.time>t)||~Ea.length);Se.cancel=t=>{jf.delete(t),Uy.delete(t),jy.delete(t),Fy.delete(t),By.delete(t)};Se.sync=t=>{mv=!0,Se.batchedUpdates(t),mv=!1};Se.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,Se.onStart(r)}return n.handler=t,n.cancel=()=>{jf.delete(r),e=null},n};var $y=typeof window<"u"?window.requestAnimationFrame:()=>{};Se.use=t=>$y=t;Se.now=typeof performance<"u"?()=>performance.now():Date.now;Se.batchedUpdates=t=>t();Se.catch=console.error;Se.frameLoop="always";Se.advance=()=>{Se.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):MC()};var qi=-1,Ki=0,mv=!1;function vc(t,e){mv?(e.delete(t),t(0)):(e.add(t),RC())}function RC(){qi<0&&(qi=0,Se.frameLoop!=="demand"&&$y(IC))}function _3(){qi=-1}function IC(){~qi&&($y(IC),Se.batchedUpdates(MC))}function MC(){const t=qi;qi=Se.now();const e=PC(qi);if(e&&(OC(Ea.splice(0,e),r=>r.handler()),Ki-=e),!Ki){_3();return}jf.flush(),Fy.flush(t?Math.min(64,qi-t):16.667),Uy.flush(),By.flush(),jy.flush()}function yc(){let t=new Set,e=t;return{add(r){Ki+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Ki-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Ki-=e.size,OC(e,n=>n(r)&&t.add(n)),Ki+=t.size,e=t)}}}function OC(t,e){t.forEach(r=>{try{e(r)}catch(n){Se.catch(n)}})}var b3=Object.defineProperty,S3=(t,e)=>{for(var r in e)b3(t,r,{get:e[r],enumerable:!0})},xn={};S3(xn,{assign:()=>T3,colors:()=>cs,createStringInterpolator:()=>Gy,skipAnimation:()=>LC,to:()=>DC,willAdvance:()=>Hy});function gv(){}var E3=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),X={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function ii(t,e){if(X.arr(t)){if(!X.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Te=(t,e)=>t.forEach(e);function Wn(t,e,r){if(X.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var tr=t=>X.und(t)?[]:X.arr(t)?t:[t];function fu(t,e){if(t.size){const r=Array.from(t);t.clear(),Te(r,e)}}var Wl=(t,...e)=>fu(t,r=>r(...e)),zy=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Gy,DC,cs=null,LC=!1,Hy=gv,T3=t=>{t.to&&(DC=t.to),t.now&&(Se.now=t.now),t.colors!==void 0&&(cs=t.colors),t.skipAnimation!=null&&(LC=t.skipAnimation),t.createStringInterpolator&&(Gy=t.createStringInterpolator),t.requestAnimationFrame&&Se.use(t.requestAnimationFrame),t.batchedUpdates&&(Se.batchedUpdates=t.batchedUpdates),t.willAdvance&&(Hy=t.willAdvance),t.frameLoop&&(Se.frameLoop=t.frameLoop)},pu=new Set,$r=[],Kp=[],Fd=0,$f={get idle(){return!pu.size&&!$r.length},start(t){Fd>t.priority?(pu.add(t),Se.onStart(C3)):(kC(t),Se(vv))},advance:vv,sort(t){if(Fd)Se.onFrame(()=>$f.sort(t));else{const e=$r.indexOf(t);~e&&($r.splice(e,1),NC(t))}},clear(){$r=[],pu.clear()}};function C3(){pu.forEach(kC),pu.clear(),Se(vv)}function kC(t){$r.includes(t)||NC(t)}function NC(t){$r.splice(A3($r,e=>e.priority>t.priority),0,t)}function vv(t){const e=Kp;for(let r=0;r<$r.length;r++){const n=$r[r];Fd=n.priority,n.idle||(Hy(n),n.advance(t),n.idle||e.push(n))}return Fd=0,Kp=$r,Kp.length=0,$r=e,$r.length>0}function A3(t,e){const r=t.findIndex(e);return r<0?t.length:r}var P3={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},fn="[-+]?\\d*\\.?\\d+",Bd=fn+"%";function zf(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var R3=new RegExp("rgb"+zf(fn,fn,fn)),I3=new RegExp("rgba"+zf(fn,fn,fn,fn)),M3=new RegExp("hsl"+zf(fn,Bd,Bd)),O3=new RegExp("hsla"+zf(fn,Bd,Bd,fn)),D3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,L3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,k3=/^#([0-9a-fA-F]{6})$/,N3=/^#([0-9a-fA-F]{8})$/;function F3(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=k3.exec(t))?parseInt(e[1]+"ff",16)>>>0:cs&&cs[t]!==void 0?cs[t]:(e=R3.exec(t))?(Fo(e[1])<<24|Fo(e[2])<<16|Fo(e[3])<<8|255)>>>0:(e=I3.exec(t))?(Fo(e[1])<<24|Fo(e[2])<<16|Fo(e[3])<<8|dw(e[4]))>>>0:(e=D3.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=N3.exec(t))?parseInt(e[1],16)>>>0:(e=L3.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=M3.exec(t))?(cw(hw(e[1]),th(e[2]),th(e[3]))|255)>>>0:(e=O3.exec(t))?(cw(hw(e[1]),th(e[2]),th(e[3]))|dw(e[4]))>>>0:null}function Qp(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function cw(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,s=Qp(i,n,t+1/3),o=Qp(i,n,t),a=Qp(i,n,t-1/3);return Math.round(s*255)<<24|Math.round(o*255)<<16|Math.round(a*255)<<8}function Fo(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function hw(t){return(parseFloat(t)%360+360)%360/360}function dw(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function th(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function fw(t){let e=F3(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,s=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${s})`}var zu=(t,e,r)=>{if(X.fun(t))return t;if(X.arr(t))return zu({range:t,output:e,extrapolate:r});if(X.str(t.output[0]))return Gy(t);const n=t,i=n.output,s=n.range||[0,1],o=n.extrapolateLeft||n.extrapolate||"extend",a=n.extrapolateRight||n.extrapolate||"extend",l=n.easing||(u=>u);return u=>{const c=U3(u,s);return B3(u,s[c],s[c+1],i[c],i[c+1],l,o,a,n.map)}};function B3(t,e,r,n,i,s,o,a,l){let u=l?l(t):t;if(u<e){if(o==="identity")return u;o==="clamp"&&(u=e)}if(u>r){if(a==="identity")return u;a==="clamp"&&(u=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?u=-u:r===1/0?u=u-e:u=(u-e)/(r-e),u=s(u),n===-1/0?u=-u:i===1/0?u=u+n:u=u*(i-n)+n,u)}function U3(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var j3={linear:t=>t},Gu=Symbol.for("FluidValue.get"),el=Symbol.for("FluidValue.observers"),jr=t=>!!(t&&t[Gu]),cr=t=>t&&t[Gu]?t[Gu]():t,pw=t=>t[el]||null;function $3(t,e){t.eventObserved?t.eventObserved(e):t(e)}function Hu(t,e){const r=t[el];r&&r.forEach(n=>{$3(n,e)})}var FC=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");z3(this,t)}},z3=(t,e)=>BC(t,Gu,e);function cl(t,e){if(t[Gu]){let r=t[el];r||BC(t,el,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function Vu(t,e){const r=t[el];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[el]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var BC=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),Qh=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G3=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,mw=new RegExp(`(${Qh.source})(%|[a-z]+)`,"i"),H3=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Gf=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,UC=t=>{const[e,r]=V3(t);if(!e||zy())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&Gf.test(r))return UC(r);if(r)return r}return t},V3=t=>{const e=Gf.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},Zp,W3=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,jC=t=>{Zp||(Zp=cs?new RegExp(`(${Object.keys(cs).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>cr(s).replace(Gf,UC).replace(G3,fw).replace(Zp,fw)),r=e.map(s=>s.match(Qh).map(Number)),i=r[0].map((s,o)=>r.map(a=>{if(!(o in a))throw Error('The arity of each "output" value must be equal');return a[o]})).map(s=>zu({...t,output:s}));return s=>{var l;const o=!mw.test(e[0])&&((l=e.find(u=>mw.test(u)))==null?void 0:l.replace(Qh,""));let a=0;return e[0].replace(Qh,()=>`${i[a++](s)}${o||""}`).replace(H3,W3)}},Vy="react-spring: ",$C=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${Vy}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},X3=$C(console.warn);function Y3(){X3(`${Vy}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var q3=$C(console.warn);function K3(){q3(`${Vy}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Hf(t){return X.str(t)&&(t[0]=="#"||/\d/.test(t)||!zy()&&Gf.test(t)||t in(cs||{}))}var da=zy()?P.useEffect:P.useLayoutEffect,Q3=()=>{const t=P.useRef(!1);return da(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function zC(){const t=P.useState()[1],e=Q3();return()=>{e.current&&t(Math.random())}}function Z3(t,e){const[r]=P.useState(()=>({inputs:e,result:t()})),n=P.useRef(),i=n.current;let s=i;return s?e&&s.inputs&&J3(e,s.inputs)||(s={inputs:e,result:t()}):s=r,P.useEffect(()=>{n.current=s,i==r&&(r.inputs=r.result=void 0)},[s]),s.result}function J3(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var GC=t=>P.useEffect(t,eL),eL=[];function tL(t){const e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}var Wu=Symbol.for("Animated:node"),rL=t=>!!t&&t[Wu]===t,Mn=t=>t&&t[Wu],Wy=(t,e)=>E3(t,Wu,e),Vf=t=>t&&t[Wu]&&t[Wu].getPayload(),HC=class{constructor(){Wy(this,this)}getPayload(){return this.payload||[]}},xc=class extends HC{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,X.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new xc(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return X.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,X.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Xu=class extends xc{constructor(t){super(0),this._string=null,this._toString=zu({output:[t,t]})}static create(t){return new Xu(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(X.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=zu({output:[this.getValue(),t]})),this._value=0,super.reset()}},Ud={dependencies:null},Wf=class extends HC{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return Wn(this.source,(r,n)=>{rL(r)?e[n]=r.getValue(t):jr(r)?e[n]=cr(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Te(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return Wn(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Ud.dependencies&&jr(t)&&Ud.dependencies.add(t);const e=Vf(t);e&&Te(e,r=>this.add(r))}},VC=class extends Wf{constructor(t){super(t)}static create(t){return new VC(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(nL)),!0)}};function nL(t){return(Hf(t)?Xu:xc).create(t)}function yv(t){const e=Mn(t);return e?e.constructor:X.arr(t)?VC:Hf(t)?Xu:xc}var gw=(t,e)=>{const r=!X.fun(t)||t.prototype&&t.prototype.isReactComponent;return P.forwardRef((n,i)=>{const s=P.useRef(null),o=r&&P.useCallback(m=>{s.current=oL(i,m)},[i]),[a,l]=sL(n,e),u=zC(),c=()=>{const m=s.current;if(r&&!m)return;(m?e.applyAnimatedValues(m,a.getValue(!0)):!1)===!1&&u()},d=new iL(c,l),h=P.useRef();da(()=>(h.current=d,Te(l,m=>cl(m,d)),()=>{h.current&&(Te(h.current.deps,m=>Vu(m,h.current)),Se.cancel(h.current.update))})),P.useEffect(c,[]),GC(()=>()=>{const m=h.current;Te(m.deps,p=>Vu(p,m))});const f=e.getComponentProps(a.getValue());return P.createElement(t,{...f,ref:o})})},iL=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&Se.write(this.update)}};function sL(t,e){const r=new Set;return Ud.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new Wf(t),Ud.dependencies=null,[t,r]}function oL(t,e){return t&&(X.fun(t)?t(e):t.current=e),e}var vw=Symbol.for("AnimatedComponent"),aL=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new Wf(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},s=o=>{const a=yw(o)||"Anonymous";return X.str(o)?o=s[o]||(s[o]=gw(o,i)):o=o[vw]||(o[vw]=gw(o,i)),o.displayName=`Animated(${a})`,o};return Wn(t,(o,a)=>{X.arr(t)&&(a=yw(o)),s[a]=s(o)}),{animated:s}},yw=t=>X.str(t)?t:t&&X.str(t.displayName)?t.displayName:X.fun(t)&&t.name||null;function hr(t,...e){return X.fun(t)?t(...e):t}var mu=(t,e)=>t===!0||!!(e&&t&&(X.fun(t)?t(e):tr(t).includes(e))),WC=(t,e)=>X.obj(t)?e&&t[e]:t,XC=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,lL=t=>t,Xy=(t,e=lL)=>{let r=uL;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const s=e(t[i],i);X.und(s)||(n[i]=s)}return n},uL=["config","onProps","onStart","onChange","onPause","onResume","onRest"],cL={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function hL(t){const e={};let r=0;if(Wn(t,(n,i)=>{cL[i]||(e[i]=n,r++)}),r)return e}function Yy(t){const e=hL(t);if(e){const r={to:e};return Wn(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function Yu(t){return t=cr(t),X.arr(t)?t.map(Yu):Hf(t)?xn.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function dL(t){for(const e in t)return!0;return!1}function xv(t){return X.fun(t)||X.arr(t)&&X.obj(t[0])}function xw(t,e){var r;(r=t.ref)==null||r.delete(t),e==null||e.delete(t)}function fL(t,e){var r;e&&t.ref!==e&&((r=t.ref)==null||r.delete(t),e.add(t),t.ref=e)}var pL={default:{tension:170,friction:26}},wv={...pL.default,mass:1,damping:1,easing:j3.linear,clamp:!1},mL=class{constructor(){this.velocity=0,Object.assign(this,wv)}};function gL(t,e,r){r&&(r={...r},ww(r,e),e={...r,...e}),ww(t,e),Object.assign(t,e);for(const o in wv)t[o]==null&&(t[o]=wv[o]);let{frequency:n,damping:i}=t;const{mass:s}=t;return X.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*s,t.friction=4*Math.PI*i*s/n),t}function ww(t,e){if(!X.und(e.decay))t.duration=void 0;else{const r=!X.und(e.tension)||!X.und(e.friction);(r||!X.und(e.frequency)||!X.und(e.damping)||!X.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var _w=[],vL=class{constructor(){this.changed=!1,this.values=_w,this.toValues=null,this.fromValues=_w,this.config=new mL,this.immediate=!1}};function YC(t,{key:e,props:r,defaultProps:n,state:i,actions:s}){return new Promise((o,a)=>{let l,u,c=mu(r.cancel??(n==null?void 0:n.cancel),e);if(c)f();else{X.und(r.pause)||(i.paused=mu(r.pause,e));let m=n==null?void 0:n.pause;m!==!0&&(m=i.paused||mu(m,e)),l=hr(r.delay||0,e),m?(i.resumeQueue.add(h),s.pause()):(s.resume(),h())}function d(){i.resumeQueue.add(h),i.timeouts.delete(u),u.cancel(),l=u.time-Se.now()}function h(){l>0&&!xn.skipAnimation?(i.delayed=!0,u=Se.setTimeout(f,l),i.pauseQueue.add(d),i.timeouts.add(u)):f()}function f(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(d),i.timeouts.delete(u),t<=(i.cancelId||0)&&(c=!0);try{s.start({...r,callId:t,cancel:c},o)}catch(m){a(m)}}})}var qy=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?Ta(t.get()):e.every(r=>r.noop)?qC(t.get()):cn(t.get(),e.every(r=>r.finished)),qC=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),cn=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),Ta=t=>({value:t,cancelled:!0,finished:!1});function KC(t,e,r,n){const{callId:i,parentId:s,onRest:o}=e,{asyncTo:a,promise:l}=r;return!s&&t===a&&!e.reset?l:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const u=Xy(e,(v,y)=>y==="onRest"?void 0:v);let c,d;const h=new Promise((v,y)=>(c=v,d=y)),f=v=>{const y=i<=(r.cancelId||0)&&Ta(n)||i!==r.asyncId&&cn(n,!1);if(y)throw v.result=y,d(v),v},m=(v,y)=>{const x=new bw,g=new Sw;return(async()=>{if(xn.skipAnimation)throw qu(r),g.result=cn(n,!1),d(g),g;f(x);const w=X.obj(v)?{...v}:{...y,to:v};w.parentId=i,Wn(u,(_,E)=>{X.und(w[E])&&(w[E]=_)});const b=await n.start(w);return f(x),r.paused&&await new Promise(_=>{r.resumeQueue.add(_)}),b})()};let p;if(xn.skipAnimation)return qu(r),cn(n,!1);try{let v;X.arr(t)?v=(async y=>{for(const x of y)await m(x)})(t):v=Promise.resolve(t(m,n.stop.bind(n))),await Promise.all([v.then(c),h]),p=cn(n.get(),!0,!1)}catch(v){if(v instanceof bw)p=v.result;else if(v instanceof Sw)p=v.result;else throw v}finally{i==r.asyncId&&(r.asyncId=s,r.asyncTo=s?a:void 0,r.promise=s?l:void 0)}return X.fun(o)&&Se.batchedUpdates(()=>{o(p,n,n.item)}),p})()}function qu(t,e){fu(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var bw=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},Sw=class extends Error{constructor(){super("SkipAnimationSignal")}},_v=t=>t instanceof Ky,yL=1,Ky=class extends FC{constructor(){super(...arguments),this.id=yL++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Mn(this);return t&&t.getValue()}to(...t){return xn.to(this,t)}interpolate(...t){return Y3(),xn.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){Hu(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||$f.sort(this),Hu(this,{type:"priority",parent:this,priority:t})}},xo=Symbol.for("SpringPhase"),QC=1,bv=2,Sv=4,Jp=t=>(t[xo]&QC)>0,Ai=t=>(t[xo]&bv)>0,Pl=t=>(t[xo]&Sv)>0,Ew=(t,e)=>e?t[xo]|=bv|QC:t[xo]&=~bv,Tw=(t,e)=>e?t[xo]|=Sv:t[xo]&=~Sv,xL=class extends Ky{constructor(t,e){if(super(),this.animation=new vL,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!X.und(t)||!X.und(e)){const r=X.obj(t)?{...t}:{...e,from:t};X.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Ai(this)||this._state.asyncTo)||Pl(this)}get goal(){return cr(this.animation.to)}get velocity(){const t=Mn(this);return t instanceof xc?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return Jp(this)}get isAnimating(){return Ai(this)}get isPaused(){return Pl(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:s}=n,o=Vf(n.to);!o&&jr(n.to)&&(i=tr(cr(n.to))),n.values.forEach((u,c)=>{if(u.done)return;const d=u.constructor==Xu?1:o?o[c].lastPosition:i[c];let h=n.immediate,f=d;if(!h){if(f=u.lastPosition,s.tension<=0){u.done=!0;return}let m=u.elapsedTime+=t;const p=n.fromValues[c],v=u.v0!=null?u.v0:u.v0=X.arr(s.velocity)?s.velocity[c]:s.velocity;let y;const x=s.precision||(p==d?.005:Math.min(1,Math.abs(d-p)*.001));if(X.und(s.duration))if(s.decay){const g=s.decay===!0?.998:s.decay,w=Math.exp(-(1-g)*m);f=p+v/(1-g)*(1-w),h=Math.abs(u.lastPosition-f)<=x,y=v*w}else{y=u.lastVelocity==null?v:u.lastVelocity;const g=s.restVelocity||x/10,w=s.clamp?0:s.bounce,b=!X.und(w),_=p==d?u.v0>0:p<d;let E,C=!1;const A=1,B=Math.ceil(t/A);for(let N=0;N<B&&(E=Math.abs(y)>g,!(!E&&(h=Math.abs(d-f)<=x,h)));++N){b&&(C=f==d||f>d==_,C&&(y=-y*w,f=d));const F=-s.tension*1e-6*(f-d),D=-s.friction*.001*y,M=(F+D)/s.mass;y=y+M*A,f=f+y*A}}else{let g=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,u.durationProgress>0&&(u.elapsedTime=s.duration*u.durationProgress,m=u.elapsedTime+=t)),g=(s.progress||0)+m/this._memoizedDuration,g=g>1?1:g<0?0:g,u.durationProgress=g),f=p+s.easing(g)*(d-p),y=(f-u.lastPosition)/t,h=g==1}u.lastVelocity=y,Number.isNaN(f)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[c].done&&(h=!1),h?u.done=!0:e=!1,u.setValue(f,s.round)&&(r=!0)});const a=Mn(this),l=a.getValue();if(e){const u=cr(n.to);(l!==u||r)&&!s.decay?(a.setValue(u),this._onChange(u)):r&&s.decay&&this._onChange(l),this._stop()}else r&&this._onChange(l)}set(t){return Se.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ai(this)){const{to:t,config:e}=this.animation;Se.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return X.und(t)?(r=this.queue||[],this.queue=[]):r=[X.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>qy(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),qu(this._state,t&&this._lastCallId),Se.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=X.obj(r)?r[e]:r,(r==null||xv(r))&&(r=void 0),n=X.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return Jp(this)||(t.reverse&&([r,n]=[n,r]),n=cr(n),X.und(n)?Mn(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,Xy(t,(o,a)=>/^on/.test(a)?WC(o,r):o)),Aw(this,t,"onProps"),Il(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const s=this._state;return YC(++this._lastCallId,{key:r,props:t,defaultProps:n,state:s,actions:{pause:()=>{Pl(this)||(Tw(this,!0),Wl(s.pauseQueue),Il(this,"onPause",cn(this,Rl(this,this.animation.to)),this))},resume:()=>{Pl(this)&&(Tw(this,!1),Ai(this)&&this._resume(),Wl(s.resumeQueue),Il(this,"onResume",cn(this,Rl(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(t.loop&&o.finished&&!(e&&o.noop)){const a=ZC(t);if(a)return this._update(a,!0)}return o})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(Ta(this));const n=!X.und(t.to),i=!X.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(Ta(this));const{key:s,defaultProps:o,animation:a}=this,{to:l,from:u}=a;let{to:c=l,from:d=u}=t;i&&!n&&(!e.default||X.und(c))&&(c=d),e.reverse&&([c,d]=[d,c]);const h=!ii(d,u);h&&(a.from=d),d=cr(d);const f=!ii(c,l);f&&this._focus(c);const m=xv(e.to),{config:p}=a,{decay:v,velocity:y}=p;(n||i)&&(p.velocity=0),e.config&&!m&&gL(p,hr(e.config,s),e.config!==o.config?hr(o.config,s):void 0);let x=Mn(this);if(!x||X.und(c))return r(cn(this,!0));const g=X.und(e.reset)?i&&!e.default:!X.und(d)&&mu(e.reset,s),w=g?d:this.get(),b=Yu(c),_=X.num(b)||X.arr(b)||Hf(b),E=!m&&(!_||mu(o.immediate||e.immediate,s));if(f){const N=yv(c);if(N!==x.constructor)if(E)x=this._set(b);else throw Error(`Cannot animate between ${x.constructor.name} and ${N.name}, as the "to" prop suggests`)}const C=x.constructor;let A=jr(c),B=!1;if(!A){const N=g||!Jp(this)&&h;(f||N)&&(B=ii(Yu(w),b),A=!B),(!ii(a.immediate,E)&&!E||!ii(p.decay,v)||!ii(p.velocity,y))&&(A=!0)}if(B&&Ai(this)&&(a.changed&&!g?A=!0:A||this._stop(l)),!m&&((A||jr(l))&&(a.values=x.getPayload(),a.toValues=jr(c)?null:C==Xu?[1]:tr(b)),a.immediate!=E&&(a.immediate=E,!E&&!g&&this._set(l)),A)){const{onRest:N}=a;Te(wL,D=>Aw(this,e,D));const F=cn(this,Rl(this,l));Wl(this._pendingCalls,F),this._pendingCalls.add(r),a.changed&&Se.batchedUpdates(()=>{var D;a.changed=!g,N==null||N(F,this),g?hr(o.onRest,F):(D=a.onStart)==null||D.call(a,F,this)})}g&&this._set(w),m?r(KC(e.to,e,this._state,this)):A?this._start():Ai(this)&&!f?this._pendingCalls.add(r):r(qC(w))}_focus(t){const e=this.animation;t!==e.to&&(pw(this)&&this._detach(),e.to=t,pw(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;jr(e)&&(cl(e,this),_v(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;jr(t)&&Vu(t,this)}_set(t,e=!0){const r=cr(t);if(!X.und(r)){const n=Mn(this);if(!n||!ii(r,n.getValue())){const i=yv(r);!n||n.constructor!=i?Wy(this,i.create(r)):n.setValue(r),n&&Se.batchedUpdates(()=>{this._onChange(r,e)})}}return Mn(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,Il(this,"onStart",cn(this,Rl(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),hr(this.animation.onChange,t,this)),hr(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Mn(this).reset(cr(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),Ai(this)||(Ew(this,!0),Pl(this)||this._resume())}_resume(){xn.skipAnimation?this.finish():$f.start(this)}_stop(t,e){if(Ai(this)){Ew(this,!1);const r=this.animation;Te(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),Hu(this,{type:"idle",parent:this});const n=e?Ta(this.get()):cn(this.get(),Rl(this,t??r.to));Wl(this._pendingCalls,n),r.changed&&(r.changed=!1,Il(this,"onRest",n,this))}}};function Rl(t,e){const r=Yu(e),n=Yu(t.get());return ii(n,r)}function ZC(t,e=t.loop,r=t.to){const n=hr(e);if(n){const i=n!==!0&&Yy(n),s=(i||t).reverse,o=!i||i.reset;return jd({...t,loop:e,default:!1,pause:void 0,to:!s||xv(r)?r:void 0,from:o?t.from:void 0,reset:o,...i})}}function jd(t){const{to:e,from:r}=t=Yy(t),n=new Set;return X.obj(e)&&Cw(e,n),X.obj(r)&&Cw(r,n),t.keys=n.size?Array.from(n):null,t}function Cw(t,e){Wn(t,(r,n)=>r!=null&&e.add(n))}var wL=["onStart","onRest","onChange","onPause","onResume"];function Aw(t,e,r){t.animation[r]=e[r]!==XC(e,r)?WC(e[r],t.key):void 0}function Il(t,e,...r){var n,i,s,o;(i=(n=t.animation)[e])==null||i.call(n,...r),(o=(s=t.defaultProps)[e])==null||o.call(s,...r)}var _L=["onStart","onChange","onRest"],bL=1,SL=class{constructor(t,e){this.id=bL++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];X.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(jd(t)),this}start(t){let{queue:e}=this;return t?e=tr(t).map(jd):this.queue=[],this._flush?this._flush(this,e):(rA(this,e),EL(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Te(tr(e),n=>r[n].stop(!!t))}else qu(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(X.und(t))this.start({pause:!0});else{const e=this.springs;Te(tr(t),r=>e[r].pause())}return this}resume(t){if(X.und(t))this.start({pause:!1});else{const e=this.springs;Te(tr(t),r=>e[r].resume())}return this}each(t){Wn(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,fu(t,([a,l])=>{l.value=this.get(),a(l,this,this._item)}));const s=!n&&this._started,o=i||s&&r.size?this.get():null;i&&e.size&&fu(e,([a,l])=>{l.value=o,a(l,this,this._item)}),s&&(this._started=!1,fu(r,([a,l])=>{l.value=o,a(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;Se.onFrame(this._onFrame)}};function EL(t,e){return Promise.all(e.map(r=>JC(t,r))).then(r=>qy(t,r))}async function JC(t,e,r){const{keys:n,to:i,from:s,loop:o,onRest:a,onResolve:l}=e,u=X.obj(e.default)&&e.default;o&&(e.loop=!1),i===!1&&(e.to=null),s===!1&&(e.from=null);const c=X.arr(i)||X.fun(i)?i:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):Te(_L,p=>{const v=e[p];if(X.fun(v)){const y=t._events[p];e[p]=({finished:x,cancelled:g})=>{const w=y.get(v);w?(x||(w.finished=!1),g&&(w.cancelled=!0)):y.set(v,{value:null,finished:x||!1,cancelled:g||!1})},u&&(u[p]=e[p])}});const d=t._state;e.pause===!d.paused?(d.paused=e.pause,Wl(e.pause?d.pauseQueue:d.resumeQueue)):d.paused&&(e.pause=!0);const h=(n||Object.keys(t.springs)).map(p=>t.springs[p].start(e)),f=e.cancel===!0||XC(e,"cancel")===!0;(c||f&&d.asyncId)&&h.push(YC(++t._lastAsyncId,{props:e,state:d,actions:{pause:gv,resume:gv,start(p,v){f?(qu(d,t._lastAsyncId),v(Ta(t))):(p.onRest=a,v(KC(c,p,d,t)))}}})),d.paused&&await new Promise(p=>{d.resumeQueue.add(p)});const m=qy(t,await Promise.all(h));if(o&&m.finished&&!(r&&m.noop)){const p=ZC(e,o,i);if(p)return rA(t,[p]),JC(t,p,!0)}return l&&Se.batchedUpdates(()=>l(m,t,t.item)),m}function TL(t,e){const r={...t.springs};return e&&Te(tr(e),n=>{X.und(n.keys)&&(n=jd(n)),X.obj(n.to)||(n={...n,to:void 0}),tA(r,n,i=>eA(i))}),CL(t,r),r}function CL(t,e){Wn(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,cl(r,t))})}function eA(t,e){const r=new xL;return r.key=t,e&&cl(r,e),r}function tA(t,e,r){e.keys&&Te(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function rA(t,e){Te(e,r=>{tA(t.springs,r,n=>eA(n,t))})}var Xf=({children:t,...e})=>{const r=P.useContext($d),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=Z3(()=>({pause:n,immediate:i}),[n,i]);const{Provider:s}=$d;return P.createElement(s,{value:e},t)},$d=AL(Xf,{});Xf.Provider=$d.Provider;Xf.Consumer=$d.Consumer;function AL(t,e){return Object.assign(t,P.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var PL=()=>{const t=[],e=function(n){K3();const i=[];return Te(t,(s,o)=>{if(X.und(n))i.push(s.start());else{const a=r(n,s,o);a&&i.push(s.start(a))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Te(t,n=>n.pause(...arguments)),this},e.resume=function(){return Te(t,n=>n.resume(...arguments)),this},e.set=function(n){Te(t,(i,s)=>{const o=X.fun(n)?n(s,i):n;o&&i.set(o)})},e.start=function(n){const i=[];return Te(t,(s,o)=>{if(X.und(n))i.push(s.start());else{const a=this._getProps(n,s,o);a&&i.push(s.start(a))}}),i},e.stop=function(){return Te(t,n=>n.stop(...arguments)),this},e.update=function(n){return Te(t,(i,s)=>i.update(this._getProps(n,i,s))),this};const r=function(n,i,s){return X.fun(n)?n(s,i):n};return e._getProps=r,e};function nA(t,e,r){const n=X.fun(e)&&e,{reset:i,sort:s,trail:o=0,expires:a=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:d}=n?n():e,h=P.useMemo(()=>n||arguments.length==3?PL():void 0,[]),f=tr(t),m=[],p=P.useRef(null),v=i?null:p.current;da(()=>{p.current=m}),GC(()=>(Te(m,M=>{h==null||h.add(M.ctrl),M.ctrl.ref=h}),()=>{Te(p.current,M=>{M.expired&&clearTimeout(M.expirationId),xw(M.ctrl,h),M.ctrl.stop(!0)})}));const y=IL(f,n?n():e,v),x=i&&p.current||[];da(()=>Te(x,({ctrl:M,item:S,key:I})=>{xw(M,h),hr(u,S,I)}));const g=[];if(v&&Te(v,(M,S)=>{M.expired?(clearTimeout(M.expirationId),x.push(M)):(S=g[S]=y.indexOf(M.key),~S&&(m[S]=M))}),Te(f,(M,S)=>{m[S]||(m[S]={key:y[S],item:M,phase:"mount",ctrl:new SL},m[S].ctrl.item=M)}),g.length){let M=-1;const{leave:S}=n?n():e;Te(g,(I,L)=>{const R=v[L];~I?(M=m.indexOf(R),m[M]={...R,item:f[I]}):S&&m.splice(++M,0,R)})}X.fun(s)&&m.sort((M,S)=>s(M.item,S.item));let w=-o;const b=zC(),_=Xy(e),E=new Map,C=P.useRef(new Map),A=P.useRef(!1);Te(m,(M,S)=>{const I=M.key,L=M.phase,R=n?n():e;let U,O;const z=hr(R.delay||0,I);if(L=="mount")U=R.enter,O="enter";else{const se=y.indexOf(I)<0;if(L!="leave")if(se)U=R.leave,O="leave";else if(U=R.update)O="update";else return;else if(!se)U=R.enter,O="enter";else return}if(U=hr(U,M.item,S),U=X.obj(U)?Yy(U):{to:U},!U.config){const se=d||_.config;U.config=hr(se,M.item,S,O)}w+=o;const H={..._,delay:z+w,ref:c,immediate:R.immediate,reset:!1,...U};if(O=="enter"&&X.und(H.from)){const se=n?n():e,de=X.und(se.initial)||v?se.from:se.initial;H.from=hr(de,M.item,S)}const{onResolve:q}=H;H.onResolve=se=>{hr(q,se);const de=p.current,me=de.find(Le=>Le.key===I);if(me&&!(se.cancelled&&me.phase!="update")&&me.ctrl.idle){const Le=de.every(Ie=>Ie.ctrl.idle);if(me.phase=="leave"){const Ie=hr(a,me.item);if(Ie!==!1){const we=Ie===!0?0:Ie;if(me.expired=!0,!Le&&we>0){we<=2147483647&&(me.expirationId=setTimeout(b,we));return}}}Le&&de.some(Ie=>Ie.expired)&&(C.current.delete(me),l&&(A.current=!0),b())}};const K=TL(M.ctrl,H);O==="leave"&&l?C.current.set(M,{phase:O,springs:K,payload:H}):E.set(M,{phase:O,springs:K,payload:H})});const B=P.useContext(Xf),N=tL(B),F=B!==N&&dL(B);da(()=>{F&&Te(m,M=>{M.ctrl.start({default:B})})},[B]),Te(E,(M,S)=>{if(C.current.size){const I=m.findIndex(L=>L.key===S.key);m.splice(I,1)}}),da(()=>{Te(C.current.size?C.current:E,({phase:M,payload:S},I)=>{const{ctrl:L}=I;I.phase=M,h==null||h.add(L),F&&M=="enter"&&L.start({default:B}),S&&(fL(L,S.ref),(L.ref||h)&&!A.current?L.update(S):(L.start(S),A.current&&(A.current=!1)))})},i?void 0:r);const D=M=>P.createElement(P.Fragment,null,m.map((S,I)=>{const{springs:L}=E.get(S)||S.ctrl,R=M({...L},S.item,S,I);return R&&R.type?P.createElement(R.type,{...R.props,key:X.str(S.key)||X.num(S.key)?S.key:S.ctrl.id,ref:R.ref}):R}));return h?[D,h]:D}var RL=1;function IL(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(s=>{const o=n&&n.find(a=>a.item===s&&a.phase!=="leave"&&!i.has(a));return o?(i.add(o),o.key):RL++})}return X.und(r)?t:X.fun(r)?t.map(r):tr(r)}var ML=class extends Ky{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=zu(...e);const r=this._get(),n=yv(r);Wy(this,n.create(r))}advance(t){const e=this._get(),r=this.get();ii(e,r)||(Mn(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&Pw(this._active)&&em(this)}_get(){const t=X.arr(this.source)?this.source.map(cr):tr(cr(this.source));return this.calc(...t)}_start(){this.idle&&!Pw(this._active)&&(this.idle=!1,Te(Vf(this),t=>{t.done=!1}),xn.skipAnimation?(Se.batchedUpdates(()=>this.advance()),em(this)):$f.start(this))}_attach(){let t=1;Te(tr(this.source),e=>{jr(e)&&cl(e,this),_v(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Te(tr(this.source),t=>{jr(t)&&Vu(t,this)}),this._active.clear(),em(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=tr(this.source).reduce((e,r)=>Math.max(e,(_v(r)?r.priority:0)+1),0))}};function OL(t){return t.idle!==!1}function Pw(t){return!t.size||Array.from(t).every(OL)}function em(t){t.idle||(t.idle=!0,Te(Vf(t),e=>{e.done=!0}),Hu(t,{type:"idle",parent:t}))}xn.assign({createStringInterpolator:jC,to:(t,e)=>new ML(t,e)});var iA=/^--/;function DL(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!iA.test(t)&&!(gu.hasOwnProperty(t)&&gu[t])?e+"px":(""+e).trim()}var Rw={};function LL(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:n,style:i,children:s,scrollTop:o,scrollLeft:a,viewBox:l,...u}=e,c=Object.values(u),d=Object.keys(u).map(h=>r||t.hasAttribute(h)?h:Rw[h]||(Rw[h]=h.replace(/([A-Z])/g,f=>"-"+f.toLowerCase())));s!==void 0&&(t.textContent=s);for(const h in i)if(i.hasOwnProperty(h)){const f=DL(h,i[h]);iA.test(h)?t.style.setProperty(h,f):t.style[h]=f}d.forEach((h,f)=>{t.setAttribute(h,c[f])}),n!==void 0&&(t.className=n),o!==void 0&&(t.scrollTop=o),a!==void 0&&(t.scrollLeft=a),l!==void 0&&t.setAttribute("viewBox",l)}var gu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kL=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),NL=["Webkit","Ms","Moz","O"];gu=Object.keys(gu).reduce((t,e)=>(NL.forEach(r=>t[kL(r,e)]=t[e]),t),gu);var FL=/^(matrix|translate|scale|rotate|skew)/,BL=/^(translate)/,UL=/^(rotate|skew)/,tm=(t,e)=>X.num(t)&&t!==0?t+e:t,Zh=(t,e)=>X.arr(t)?t.every(r=>Zh(r,e)):X.num(t)?t===e:parseFloat(t)===e,jL=class extends Wf{constructor({x:t,y:e,z:r,...n}){const i=[],s=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),s.push(o=>[`translate3d(${o.map(a=>tm(a,"px")).join(",")})`,Zh(o,0)])),Wn(n,(o,a)=>{if(a==="transform")i.push([o||""]),s.push(l=>[l,l===""]);else if(FL.test(a)){if(delete n[a],X.und(o))return;const l=BL.test(a)?"px":UL.test(a)?"deg":"";i.push(tr(o)),s.push(a==="rotate3d"?([u,c,d,h])=>[`rotate3d(${u},${c},${d},${tm(h,l)})`,Zh(h,0)]:u=>[`${a}(${u.map(c=>tm(c,l)).join(",")})`,Zh(u,a.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new $L(i,s)),super(n)}},$L=class extends FC{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Te(this.inputs,(r,n)=>{const i=cr(r[0]),[s,o]=this.transforms[n](X.arr(i)?i:r.map(cr));t+=" "+s,e=e&&o}),e?"none":t}observerAdded(t){t==1&&Te(this.inputs,e=>Te(e,r=>jr(r)&&cl(r,this)))}observerRemoved(t){t==0&&Te(this.inputs,e=>Te(e,r=>jr(r)&&Vu(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),Hu(this,t)}},zL=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];xn.assign({batchedUpdates:pc.unstable_batchedUpdates,createStringInterpolator:jC,colors:P3});var GL=aL(zL,{applyAnimatedValues:LL,createAnimatedStyle:t=>new jL(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),Ev=GL.animated;const HL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M19.935 17.51q1.088 0 1.868.792.78.794.78 1.898 0 1.106-.78 1.898-.78.793-1.844.793t-1.869-.793a2.52 2.52 0 0 1-.78-1.922q0-.432.19-.936l-3.997-2.931q-1.16 1.2-2.79 1.2-1.633 0-2.791-1.176-1.16-1.177-1.183-2.86 0-.215.071-.624l-3.168-1.057a1.25 1.25 0 0 1-.852.337q-.567 0-.946-.385a1.32 1.32 0 0 1-.378-.96q0-.578.378-.938.38-.36.946-.384.474 0 .804.312.33.313.45.745l3.192 1.08a3.8 3.8 0 0 1 1.443-1.56 3.84 3.84 0 0 1 2.033-.577q1.23 0 2.27.745l4.706-4.781q-.378-.72-.378-1.321 0-1.106.78-1.898.78-.793 1.869-.793t1.844.793q.758.792.78 1.898a2.42 2.42 0 0 1-.78 1.873q-.804.77-1.868.793-.616 0-1.3-.408l-4.707 4.805q.734 1.056.733 2.306 0 .888-.402 1.753l3.997 2.907q.78-.624 1.679-.624"})]}),VL=HL,WL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M22.996 13.153q0 2.09-.873 3.987a10.6 10.6 0 0 1-2.336 3.292q-1.462 1.393-3.516 2.21t-4.26.817-4.287-.817-3.49-2.21a12.3 12.3 0 0 1-2.362-3.291A8.1 8.1 0 0 1 1 13.153q0-2.451 1.155-4.589t3.234-3.627q.616-.433 1.386-.337t1.181.673q.462.553.36 1.273-.104.72-.72 1.13a7 7 0 0 0-2.155 2.426 6.38 6.38 0 0 0-.18 5.717 7 7 0 0 0 1.566 2.186q.975.913 2.335 1.466a7.5 7.5 0 0 0 2.85.552 7.3 7.3 0 0 0 2.823-.552 8.3 8.3 0 0 0 2.36-1.466 6.04 6.04 0 0 0 1.567-2.186q.538-1.274.564-2.666 0-1.635-.77-3.051T16.4 7.675a1.75 1.75 0 0 1-.719-1.129q-.128-.697.36-1.273.436-.577 1.206-.673t1.36.337q2.079 1.466 3.234 3.627a9.6 9.6 0 0 1 1.155 4.589M13.833 2.846v8.6q0 .698-.54 1.202-.538.505-1.283.505t-1.309-.505q-.564-.505-.539-1.201v-8.6q0-.697.54-1.202.538-.504 1.308-.504t1.284.504.539 1.201"})]}),Iw=WL,XL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M20.584 13.536v7.458q0 .42-.294.699a1.06 1.06 0 0 1-.667.307H13.91v-5.978h-3.817V22H4.383a.85.85 0 0 1-.668-.307 1.16 1.16 0 0 1-.293-.699v-7.569l8.567-7.375 8.568 7.375q.027.027.027.111m3.31-1.09-.908 1.146a.54.54 0 0 1-.32.168h-.054a.6.6 0 0 1-.32-.084L11.989 4.682 1.687 13.676a.5.5 0 0 1-.347.084.54.54 0 0 1-.32-.168l-.935-1.145a.52.52 0 0 1-.08-.363.6.6 0 0 1 .16-.335l10.703-9.33q.48-.42 1.121-.419.64 0 1.148.419l3.63 3.156V2.56q0-.224.133-.363a.46.46 0 0 1 .347-.14h2.856q.214 0 .347.14a.5.5 0 0 1 .134.363v6.34l3.256 2.85q.16.111.16.335 0 .223-.107.363"})]}),YL=XL,qL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M1.898 22.555c-.072-.145-.096-1.37-.048-2.691l.048-2.402h5.261v5.26l-2.595.049c-1.994.048-2.594 0-2.666-.216m7.76 0c-.049-.145-.073-1.37-.049-2.691l.072-2.402h5.238v5.26l-2.571.049c-2.018.048-2.595 0-2.69-.216m7.759 0c-.048-.145-.072-1.37-.048-2.691l.072-2.402h5.237v5.26l-2.57.049c-1.994.048-2.595 0-2.691-.216m-15.52-7.76c-.071-.168-.095-1.37-.047-2.69l.048-2.403h5.261v5.261l-2.595.048c-1.994.048-2.594 0-2.666-.216m7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.238v5.261l-2.571.048c-2.018.048-2.595 0-2.69-.216m7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.237v5.261l-2.57.048c-1.994.048-2.595 0-2.691-.216M1.897 7.011c-.071-.144-.095-1.345-.047-2.666l.048-2.402h5.261V7.18l-2.595.072c-1.994.048-2.594 0-2.666-.24m7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.238V7.18l-2.571.072c-2.018.048-2.595 0-2.69-.24m7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.237V7.18l-2.57.072c-1.994.048-2.595 0-2.691-.24"})]}),Mw=qL,KL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12M7.123 7.667C8.276 5.958 9.745 5 12.013 5 14.425 5 17 6.941 17 9.5c0 2.113-1.377 2.932-2.418 3.552-.633.376-1.142.68-1.142 1.154v.169a.693.693 0 0 1-.682.703h-2.06a.693.693 0 0 1-.681-.703v-.287c0-1.768 1.269-2.5 2.266-3.075l.073-.042c.863-.499 1.392-.838 1.392-1.499 0-.874-1.082-1.454-1.956-1.454-1.112 0-1.64.53-2.351 1.449a.67.67 0 0 1-.945.121L7.27 8.63a.72.72 0 0 1-.147-.963M9.76 17.97c0-1.12.883-2.03 1.969-2.03 1.085 0 1.968.91 1.968 2.03S12.814 20 11.73 20c-1.086 0-1.969-.91-1.969-2.03",clipRule:"evenodd"})]}),QL=KL,ZL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"m.5 21.257 7.46-8.216 4.052 2.403 4.052-2.403 7.46 8.216zm0-2.738V8.573l5.848 3.531zm0-12.084V3.048h23.024v3.387l-11.512 6.847zm17.176 5.67 5.848-3.532v9.946z"})]}),Ow=ZL,JL=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M13.07 13.07V6.54h-2.14v6.53zm0 4.4v-2.2h-2.14v2.2zM24 12l-2.65 3.01.35 4.04-3.93.86-2.04 3.48L12 21.8l-3.73 1.6-2.04-3.42-3.93-.92.35-4.04L0 12l2.65-3.06-.35-3.99 3.93-.86L8.27.6 12 2.2 15.73.6l2.04 3.48 3.93.86L21.34 9z"})]}),ek=JL,tk=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M11.685 2C8.66 2 6.7 3.277 5.164 5.556A.96.96 0 0 0 5.36 6.84l1.634 1.278a.89.89 0 0 0 1.26-.162c.95-1.226 1.653-1.932 3.136-1.932 1.165 0 2.607.773 2.607 1.939 0 .88-.705 1.333-1.856 1.998-1.342.776-3.118 1.742-3.118 4.157v.382c0 .518.407.938.909.938h2.746c.502 0 .91-.42.91-.938v-.226c0-1.674 4.745-1.743 4.745-6.274 0-3.412-3.432-6-6.648-6m-.38 14.588c-1.447 0-2.625 1.214-2.625 2.706S9.858 22 11.305 22s2.624-1.214 2.624-2.706-1.177-2.706-2.624-2.706"})]}),rk=tk,nk=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",fillRule:"evenodd",d:"M5.051 12.366a456 456 0 0 1-2.746-1.822A6.5 6.5 0 0 1 .74 9.067q-.737-.94-.737-1.745a2.7 2.7 0 0 1 .141-.905c.098-.286.242-.542.424-.752Q1.12 5 2.15 5h19.7c.541-.016 1.071.195 1.507.6q.636.6.636 1.446 0 1.01-.657 1.93a6.2 6.2 0 0 1-1.632 1.567q-5.037 3.338-6.267 4.156l-.242.167-.323.222q-.436.303-.724.487-.288.183-.696.415a4 4 0 0 1-.77.345 2.2 2.2 0 0 1-.67.115h-.026a2.2 2.2 0 0 1-.67-.116 4 4 0 0 1-.77-.344q-.41-.23-.697-.415a30 30 0 0 1-.723-.487q-.433-.3-.565-.389-1.215-.817-3.51-2.334m10.943 3.962q2.276-1.578 6.667-4.416c.478-.306.927-.68 1.339-1.113v10.16q0 .845-.63 1.446c-.437.405-.97.614-1.512.594H2.149c-.545.02-1.08-.192-1.52-.601C.21 21.996 0 21.52 0 20.95V10.8c.416.437.871.81 1.356 1.113q4.848 3.148 6.656 4.416.768.537 1.243.837a7.7 7.7 0 0 0 1.265.614c.475.198.97.303 1.47.313h.026c.5-.01.995-.115 1.47-.313a7.7 7.7 0 0 0 1.265-.614q.48-.3 1.243-.837",clipRule:"evenodd"})]}),ik=nk,sk=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("g",{clipPath:"url(#one-profile_svg__a)",children:T.jsx("path",{fill:"currentColor",d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24m0 4.65a4.26 4.26 0 1 1 0 8.51 4.26 4.26 0 0 1 0-8.51m0 16.64a9.27 9.27 0 0 1-7.09-3.3 5.4 5.4 0 0 1 4.77-2.9c.11 0 .23.03.34.06.63.2 1.29.33 1.98.33.7 0 1.35-.13 1.98-.33.11-.03.23-.05.34-.05a5.4 5.4 0 0 1 4.77 2.89 9.27 9.27 0 0 1-7.09 3.3"})}),T.jsx("defs",{children:T.jsx("clipPath",{id:"one-profile_svg__a",children:T.jsx("path",{fill:"#fff",d:"M0 0h24v24H0z"})})})]}),ok=sk,ak=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M1.27 11.552a7.75 7.75 0 0 1 0-4.156Q1.84 5.33 3.42 3.792a7.9 7.9 0 0 1 2.716-1.777q1.53-.6 3.161-.6 1.605 0 3.136.6 1.53.6 2.716 1.777a7.9 7.9 0 0 1 1.902 2.86 7.8 7.8 0 0 1 .518 3.29 7.65 7.65 0 0 1-.889 3.171q.692.192 1.21.697l4.297 4.156q.864.84.864 2.042t-.864 2.042-2.099.841-2.099-.84l-4.272-4.18a2.42 2.42 0 0 1-.74-1.178 8.3 8.3 0 0 1-3.68.84q-1.63 0-3.16-.6a8.1 8.1 0 0 1-2.717-1.753 7.85 7.85 0 0 1-2.149-3.628m2.495-2.066q0 2.235 1.605 3.796 1.63 1.56 3.926 1.561 2.272 0 3.877-1.561 1.605-1.562 1.63-3.796t-1.63-3.796q-1.63-1.585-3.877-1.585-2.272 0-3.926 1.585-1.605 1.561-1.605 3.796"})]}),lk=ak,uk=({title:t,titleId:e,...r})=>T.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true","aria-labelledby":e,...r,children:[t?T.jsx("title",{id:e,children:t}):null,T.jsx("path",{fill:"currentColor",d:"M0 24.58V.53h24.05v4.28h-2.62V7.1h2.62v4.28h-2.62v2.35h2.62V18h-2.62v2.3h2.62v4.29H0zm4.64-6.85h12.12V14l-4.5-2.67q.9-.46 1.4-1.3t.53-1.85q0-1.4-1.01-2.43T10.7 4.72 8.25 5.75 7.24 8.18q0 1.03.53 1.85t1.4 1.3L4.63 14v3.73z"})]}),ck=uk;var Dw={exports:{}};(function(t,e){(function(r,n){var i="1.0.39",s="",o="?",a="function",l="undefined",u="object",c="string",d="major",h="model",f="name",m="type",p="vendor",v="version",y="architecture",x="console",g="mobile",w="tablet",b="smarttv",_="wearable",E="embedded",C=500,A="Amazon",B="Apple",N="ASUS",F="BlackBerry",D="Browser",M="Chrome",S="Edge",I="Firefox",L="Google",R="Huawei",U="LG",O="Microsoft",z="Motorola",H="Opera",q="Samsung",K="Sharp",se="Sony",de="Xiaomi",me="Zebra",Le="Facebook",Ie="Chromium OS",we="Mac OS",ce=" Browser",Ae=function(Pe,Ce){var ge={};for(var qe in Pe)Ce[qe]&&Ce[qe].length%2===0?ge[qe]=Ce[qe].concat(Pe[qe]):ge[qe]=Pe[qe];return ge},ke=function(Pe){for(var Ce={},ge=0;ge<Pe.length;ge++)Ce[Pe[ge].toUpperCase()]=Pe[ge];return Ce},Tt=function(Pe,Ce){return typeof Pe===c?Ye(Ce).indexOf(Ye(Pe))!==-1:!1},Ye=function(Pe){return Pe.toLowerCase()},Kn=function(Pe){return typeof Pe===c?Pe.replace(/[^\d\.]/g,s).split(".")[0]:n},Is=function(Pe,Ce){if(typeof Pe===c)return Pe=Pe.replace(/^\s\s*/,s),typeof Ce===l?Pe:Pe.substring(0,C)},xr=function(Pe,Ce){for(var ge=0,qe,ar,Lr,Re,ye,wr;ge<Ce.length&&!ye;){var Oo=Ce[ge],Rc=Ce[ge+1];for(qe=ar=0;qe<Oo.length&&!ye&&Oo[qe];)if(ye=Oo[qe++].exec(Pe),ye)for(Lr=0;Lr<Rc.length;Lr++)wr=ye[++ar],Re=Rc[Lr],typeof Re===u&&Re.length>0?Re.length===2?typeof Re[1]==a?this[Re[0]]=Re[1].call(this,wr):this[Re[0]]=Re[1]:Re.length===3?typeof Re[1]===a&&!(Re[1].exec&&Re[1].test)?this[Re[0]]=wr?Re[1].call(this,wr,Re[2]):n:this[Re[0]]=wr?wr.replace(Re[1],Re[2]):n:Re.length===4&&(this[Re[0]]=wr?Re[3].call(this,wr.replace(Re[1],Re[2])):n):this[Re]=wr||n;ge+=2}},Mo=function(Pe,Ce){for(var ge in Ce)if(typeof Ce[ge]===u&&Ce[ge].length>0){for(var qe=0;qe<Ce[ge].length;qe++)if(Tt(Ce[ge][qe],Pe))return ge===o?n:ge}else if(Tt(Ce[ge],Pe))return ge===o?n:ge;return Ce.hasOwnProperty("*")?Ce["*"]:Pe},vp={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Ac={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Pc={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,H+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[v,[f,H+" GX"]],[/\bopr\/([\w\.]+)/i],[v,[f,H]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[f,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/quark(?:pc)?\/([-\w\.]+)/i],[v,[f,"Quark"]],[/\bddg\/([\w\.]+)/i],[v,[f,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UC"+D]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[f,"Smart Lenovo "+D]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+D],v],[/\bfocus\/([\w\.]+)/i],[v,[f,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,H+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,H+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI "+D]],[/fxios\/([-\w\.]+)/i],[v,[f,I]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360"+ce]],[/\b(qq)\/([\w\.]+)/i],[[f,/(.+)/,"$1Browser"],v],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1"+ce],v],[/samsungbrowser\/([\w\.]+)/i],[v,[f,q+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[f,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[f,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[f,v],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,Le],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[f,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,M+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,M+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android "+D]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,Mo,vp]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/(wolvic)\/([\w\.]+)/i],[f,v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[f,[v,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[f,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,Ye]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,s,Ye]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,Ye]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[p,q],[m,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[h,[p,q],[m,g]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[p,B],[m,g]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[p,B],[m,w]],[/(macintosh);/i],[h,[p,B]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[p,K],[m,g]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[p,R],[m,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[p,R],[m,g]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[h,/_/g," "],[p,de],[m,g]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[p,de],[m,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[p,"OPPO"],[m,g]],[/\b(opd2\d{3}a?) bui/i],[h,[p,"OPPO"],[m,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[p,"Vivo"],[m,g]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[h,[p,"Realme"],[m,g]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[p,z],[m,g]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[p,z],[m,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[p,U],[m,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[p,U],[m,g]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[p,"Lenovo"],[m,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[p,"Nokia"],[m,g]],[/(pixel c)\b/i],[h,[p,L],[m,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[p,L],[m,g]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[p,se],[m,g]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[p,se],[m,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[p,"OnePlus"],[m,g]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[p,A],[m,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[p,A],[m,g]],[/(playbook);[-\w\),; ]+(rim)/i],[h,p,[m,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[p,F],[m,g]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[p,N],[m,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[p,N],[m,g]],[/(nexus 9)/i],[h,[p,"HTC"],[m,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[h,/_/g," "],[m,g]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[h,[p,"TCL"],[m,w]],[/(itel) ((\w+))/i],[[p,Ye],h,[m,Mo,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[p,"Acer"],[m,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[p,"Meizu"],[m,g]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[h,[p,"Ulefone"],[m,g]],[/droid.+; (a(?:015|06[35]|142p?))/i],[h,[p,"Nothing"],[m,g]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,h,[m,g]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,h,[m,w]],[/(surface duo)/i],[h,[p,O],[m,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[p,"Fairphone"],[m,g]],[/(u304aa)/i],[h,[p,"AT&T"],[m,g]],[/\bsie-(\w*)/i],[h,[p,"Siemens"],[m,g]],[/\b(rct\w+) b/i],[h,[p,"RCA"],[m,w]],[/\b(venue[\d ]{2,7}) b/i],[h,[p,"Dell"],[m,w]],[/\b(q(?:mv|ta)\w+) b/i],[h,[p,"Verizon"],[m,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[p,"Barnes & Noble"],[m,w]],[/\b(tm\d{3}\w+) b/i],[h,[p,"NuVision"],[m,w]],[/\b(k88) b/i],[h,[p,"ZTE"],[m,w]],[/\b(nx\d{3}j) b/i],[h,[p,"ZTE"],[m,g]],[/\b(gen\d{3}) b.+49h/i],[h,[p,"Swiss"],[m,g]],[/\b(zur\d{3}) b/i],[h,[p,"Swiss"],[m,w]],[/\b((zeki)?tb.*\b) b/i],[h,[p,"Zeki"],[m,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],h,[m,w]],[/\b(ns-?\w{0,9}) b/i],[h,[p,"Insignia"],[m,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[p,"NextBook"],[m,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],h,[m,g]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],h,[m,g]],[/\b(ph-1) /i],[h,[p,"Essential"],[m,g]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[p,"Envizen"],[m,w]],[/\b(trio[-\w\. ]+) b/i],[h,[p,"MachSpeed"],[m,w]],[/\btu_(1491) b/i],[h,[p,"Rotor"],[m,w]],[/(shield[\w ]+) b/i],[h,[p,"Nvidia"],[m,w]],[/(sprint) (\w+)/i],[p,h,[m,g]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[p,O],[m,g]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[p,me],[m,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[p,me],[m,g]],[/smart-tv.+(samsung)/i],[p,[m,b]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[p,q],[m,b]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,U],[m,b]],[/(apple) ?tv/i],[p,[h,B+" TV"],[m,b]],[/crkey/i],[[h,M+"cast"],[p,L],[m,b]],[/droid.+aft(\w+)( bui|\))/i],[h,[p,A],[m,b]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[p,K],[m,b]],[/(bravia[\w ]+)( bui|\))/i],[h,[p,se],[m,b]],[/(mitv-\w{5}) bui/i],[h,[p,de],[m,b]],[/Hbbtv.*(technisat) (.*);/i],[p,h,[m,b]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Is],[h,Is],[m,b]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,b]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,h,[m,x]],[/droid.+; (shield) bui/i],[h,[p,"Nvidia"],[m,x]],[/(playstation [345portablevi]+)/i],[h,[p,se],[m,x]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[p,O],[m,x]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[h,[p,q],[m,_]],[/((pebble))app/i],[p,h,[m,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[p,B],[m,_]],[/droid.+; (glass) \d/i],[h,[p,L],[m,_]],[/droid.+; (wt63?0{2,3})\)/i],[h,[p,me],[m,_]],[/(quest( \d| pro)?)/i],[h,[p,Le],[m,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[m,E]],[/(aeobc)\b/i],[h,[p,A],[m,E]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[h,[m,g]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,g]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,S+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[f,[v,Mo,Ac]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,Mo,Ac],[f,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,we],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,v],[/\(bb(10);/i],[v,[f,F]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[f,M+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,Ie],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},Ct=function(Pe,Ce){if(typeof Pe===u&&(Ce=Pe,Pe=n),!(this instanceof Ct))return new Ct(Pe,Ce).getResult();var ge=typeof r!==l&&r.navigator?r.navigator:n,qe=Pe||(ge&&ge.userAgent?ge.userAgent:s),ar=ge&&ge.userAgentData?ge.userAgentData:n,Lr=Ce?Ae(Pc,Ce):Pc,Re=ge&&ge.userAgent==qe;return this.getBrowser=function(){var ye={};return ye[f]=n,ye[v]=n,xr.call(ye,qe,Lr.browser),ye[d]=Kn(ye[v]),Re&&ge&&ge.brave&&typeof ge.brave.isBrave==a&&(ye[f]="Brave"),ye},this.getCPU=function(){var ye={};return ye[y]=n,xr.call(ye,qe,Lr.cpu),ye},this.getDevice=function(){var ye={};return ye[p]=n,ye[h]=n,ye[m]=n,xr.call(ye,qe,Lr.device),Re&&!ye[m]&&ar&&ar.mobile&&(ye[m]=g),Re&&ye[h]=="Macintosh"&&ge&&typeof ge.standalone!==l&&ge.maxTouchPoints&&ge.maxTouchPoints>2&&(ye[h]="iPad",ye[m]=w),ye},this.getEngine=function(){var ye={};return ye[f]=n,ye[v]=n,xr.call(ye,qe,Lr.engine),ye},this.getOS=function(){var ye={};return ye[f]=n,ye[v]=n,xr.call(ye,qe,Lr.os),Re&&!ye[f]&&ar&&ar.platform&&ar.platform!="Unknown"&&(ye[f]=ar.platform.replace(/chrome os/i,Ie).replace(/macos/i,we)),ye},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return qe},this.setUA=function(ye){return qe=typeof ye===c&&ye.length>C?Is(ye,C):ye,this},this.setUA(qe),this};Ct.VERSION=i,Ct.BROWSER=ke([f,v,d]),Ct.CPU=ke([y]),Ct.DEVICE=ke([h,p,m,x,g,b,w,_,E]),Ct.ENGINE=Ct.OS=ke([f,v]),t.exports&&(e=t.exports=Ct),e.UAParser=Ct;var Dr=typeof r!==l&&(r.jQuery||r.Zepto);if(Dr&&!Dr.ua){var Ms=new Ct;Dr.ua=Ms.getResult(),Dr.ua.get=function(){return Ms.getUA()},Dr.ua.set=function(Pe){Ms.setUA(Pe);var Ce=Ms.getResult();for(var ge in Ce)Dr.ua[ge]=Ce[ge]}}})(typeof window=="object"?window:vt)})(Dw,Dw.exports);var Po=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Po||{}),sA=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(sA||{}),Tv=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Tv||{}),ve=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ve||{}),jn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(jn||{}),Y=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(Y||{}),Ca=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ca||{}),he=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(he||{}),Z=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Z||{}),ui=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ui||{}),hs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(hs||{}),Xn=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Xn||{}),pr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(pr||{}),Fn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Fn||{}),Qy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Qy||{}),Hr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Hr||{}),Rt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Rt||{}),St=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(St||{}),Hn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Hn||{});const hk={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},J={ADAPTER:hk,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var rm=/iPhone/i,Lw=/iPod/i,kw=/iPad/i,Nw=/\biOS-universal(?:.+)Mac\b/i,nm=/\bAndroid(?:.+)Mobile\b/i,Fw=/Android/i,Bo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,rh=/Silk/i,Jn=/Windows Phone/i,Bw=/\bWindows(?:.+)ARM\b/i,Uw=/BlackBerry/i,jw=/BB10/i,$w=/Opera Mini/i,zw=/\b(CriOS|Chrome)(?:.+)Mobile/i,Gw=/Mobile(?:.+)Firefox\b/i,Hw=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function dk(t){return function(e){return e.test(t)}}function Vw(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=dk(r),s={apple:{phone:i(rm)&&!i(Jn),ipod:i(Lw),tablet:!i(rm)&&(i(kw)||Hw(e))&&!i(Jn),universal:i(Nw),device:(i(rm)||i(Lw)||i(kw)||i(Nw)||Hw(e))&&!i(Jn)},amazon:{phone:i(Bo),tablet:!i(Bo)&&i(rh),device:i(Bo)||i(rh)},android:{phone:!i(Jn)&&i(Bo)||!i(Jn)&&i(nm),tablet:!i(Jn)&&!i(Bo)&&!i(nm)&&(i(rh)||i(Fw)),device:!i(Jn)&&(i(Bo)||i(rh)||i(nm)||i(Fw))||i(/\bokhttp\b/i)},windows:{phone:i(Jn),tablet:i(Bw),device:i(Jn)||i(Bw)},other:{blackberry:i(Uw),blackberry10:i(jw),opera:i($w),firefox:i(Gw),chrome:i(zw),device:i(Uw)||i(jw)||i($w)||i(Gw)||i(zw)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const fk=Vw.default??Vw,ci=fk(globalThis.navigator);J.RETINA_PREFIX=/@([0-9\.]+)x/;J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var oA={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,d,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,d||l,h),m=r?r+u:u;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],f]:l._events[m].push(f):(l._events[m]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,m=new Array(f);h<f;h++)m[h]=d[h].fn;return m},a.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,h,f,m){var p=r?r+u:u;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,x,g;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,c),!0;case 3:return v.fn.call(v.context,c,d),!0;case 4:return v.fn.call(v.context,c,d,h),!0;case 5:return v.fn.call(v.context,c,d,h,f),!0;case 6:return v.fn.call(v.context,c,d,h,f,m),!0}for(g=1,x=new Array(y-1);g<y;g++)x[g-1]=arguments[g];v.fn.apply(v.context,x)}else{var w=v.length,b;for(g=0;g<w;g++)switch(v[g].once&&this.removeListener(u,v[g].fn,void 0,!0),y){case 1:v[g].fn.call(v[g].context);break;case 2:v[g].fn.call(v[g].context,c);break;case 3:v[g].fn.call(v[g].context,c,d);break;case 4:v[g].fn.call(v[g].context,c,d,h);break;default:if(!x)for(b=1,x=new Array(y-1);b<y;b++)x[b-1]=arguments[b];v[g].fn.apply(v[g].context,x)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,h){var f=r?r+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===c&&(!h||m.once)&&(!d||m.context===d)&&o(this,f);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==c||h&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(oA);var pk=oA.exports;const wc=Eo(pk);var Zy={exports:{}};Zy.exports=Yf;Zy.exports.default=Yf;function Yf(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=aA(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,c,d,h,f;if(n&&(s=xk(t,e,s,r)),t.length>80*r){a=u=t[0],l=c=t[1];for(var m=r;m<i;m+=r)d=t[m],h=t[m+1],d<a&&(a=d),h<l&&(l=h),d>u&&(u=d),h>c&&(c=h);f=Math.max(u-a,c-l),f=f!==0?32767/f:0}return Ku(s,o,r,a,l,f,0),o}function aA(t,e,r,n,i){var s,o;if(i===Pv(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Ww(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Ww(s,t[s],t[s+1],o);return o&&qf(o,o.next)&&(Zu(o),o=o.next),o}function wo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(qf(r,r.next)||lt(r.prev,r,r.next)===0)){if(Zu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ku(t,e,r,n,i,s,o){if(t){!o&&s&&Ek(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?gk(t,n,i,s):mk(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Zu(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=vk(wo(t),e,r),Ku(t,e,r,n,i,s,2)):o===2&&yk(t,e,r,n,i,s):Ku(wo(t),e,r,n,i,s,1);break}}}}function mk(t){var e=t.prev,r=t,n=t.next;if(lt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,c=i<s?i<o?i:o:s<o?s:o,d=a<l?a<u?a:u:l<u?l:u,h=i>s?i>o?i:o:s>o?s:o,f=a>l?a>u?a:u:l>u?l:u,m=n.next;m!==e;){if(m.x>=c&&m.x<=h&&m.y>=d&&m.y<=f&&fa(i,a,s,l,o,u,m.x,m.y)&&lt(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function gk(t,e,r,n){var i=t.prev,s=t,o=t.next;if(lt(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,c=i.y,d=s.y,h=o.y,f=a<l?a<u?a:u:l<u?l:u,m=c<d?c<h?c:h:d<h?d:h,p=a>l?a>u?a:u:l>u?l:u,v=c>d?c>h?c:h:d>h?d:h,y=Cv(f,m,e,r,n),x=Cv(p,v,e,r,n),g=t.prevZ,w=t.nextZ;g&&g.z>=y&&w&&w.z<=x;){if(g.x>=f&&g.x<=p&&g.y>=m&&g.y<=v&&g!==i&&g!==o&&fa(a,c,l,d,u,h,g.x,g.y)&&lt(g.prev,g,g.next)>=0||(g=g.prevZ,w.x>=f&&w.x<=p&&w.y>=m&&w.y<=v&&w!==i&&w!==o&&fa(a,c,l,d,u,h,w.x,w.y)&&lt(w.prev,w,w.next)>=0))return!1;w=w.nextZ}for(;g&&g.z>=y;){if(g.x>=f&&g.x<=p&&g.y>=m&&g.y<=v&&g!==i&&g!==o&&fa(a,c,l,d,u,h,g.x,g.y)&&lt(g.prev,g,g.next)>=0)return!1;g=g.prevZ}for(;w&&w.z<=x;){if(w.x>=f&&w.x<=p&&w.y>=m&&w.y<=v&&w!==i&&w!==o&&fa(a,c,l,d,u,h,w.x,w.y)&&lt(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function vk(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!qf(i,s)&&lA(i,n,n.next,s)&&Qu(i,s)&&Qu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Zu(n),Zu(n.next),n=t=s),n=n.next}while(n!==t);return wo(n)}function yk(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&Ak(o,a)){var l=uA(o,a);o=wo(o,o.next),l=wo(l,l.next),Ku(o,e,r,n,i,s,0),Ku(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function xk(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=aA(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(Ck(u));for(i.sort(wk),s=0;s<i.length;s++)r=_k(i[s],r);return r}function wk(t,e){return t.x-e.x}function _k(t,e){var r=bk(t,e);if(!r)return e;var n=uA(r,t);return wo(n,n.next),wo(r,r.next)}function bk(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,c=o.y,d=1/0,h;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&fa(i<c?n:s,i,u,c,i<c?s:n,i,r.x,r.y)&&(h=Math.abs(i-r.y)/(n-r.x),Qu(r,t)&&(h<d||h===d&&(r.x>o.x||r.x===o.x&&Sk(o,r)))&&(o=r,d=h)),r=r.next;while(r!==l);return o}function Sk(t,e){return lt(t.prev,t,e.prev)<0&&lt(e.next,t,t.next)<0}function Ek(t,e,r,n){var i=t;do i.z===0&&(i.z=Cv(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Tk(i)}function Tk(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function Cv(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ck(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function fa(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function Ak(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Pk(t,e)&&(Qu(t,e)&&Qu(e,t)&&Rk(t,e)&&(lt(t.prev,t,e.prev)||lt(t,e.prev,e))||qf(t,e)&&lt(t.prev,t,t.next)>0&&lt(e.prev,e,e.next)>0)}function lt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function qf(t,e){return t.x===e.x&&t.y===e.y}function lA(t,e,r,n){var i=ih(lt(t,e,r)),s=ih(lt(t,e,n)),o=ih(lt(r,n,t)),a=ih(lt(r,n,e));return!!(i!==s&&o!==a||i===0&&nh(t,r,e)||s===0&&nh(t,n,e)||o===0&&nh(r,t,n)||a===0&&nh(r,e,n))}function nh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function ih(t){return t>0?1:t<0?-1:0}function Pk(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&lA(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Qu(t,e){return lt(t.prev,t,t.next)<0?lt(t,e,t.next)>=0&&lt(t,t.prev,e)>=0:lt(t,e,t.prev)<0||lt(t,t.next,e)<0}function Rk(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function uA(t,e){var r=new Av(t.i,t.x,t.y),n=new Av(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Ww(t,e,r,n){var i=new Av(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Zu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Av(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Yf.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Pv(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,c=a<l-1?e[a+1]*r:t.length;o-=Math.abs(Pv(t,u,c,r))}var d=0;for(a=0;a<n.length;a+=3){var h=n[a]*r,f=n[a+1]*r,m=n[a+2]*r;d+=Math.abs((t[h]-t[m])*(t[f+1]-t[h+1])-(t[h]-t[f])*(t[m+1]-t[h+1]))}return o===0&&d===0?0:Math.abs((d-o)/o)};function Pv(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Yf.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Ik=Zy.exports;const Mk=Eo(Ik);var zd={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */zd.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof vt=="object"&&vt;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,c=26,d=38,h=700,f=72,m=128,p="-",v=/^xn--/,y=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,b=Math.floor,_=String.fromCharCode,E;function C(O){throw new RangeError(g[O])}function A(O,z){for(var H=O.length,q=[];H--;)q[H]=z(O[H]);return q}function B(O,z){var H=O.split("@"),q="";H.length>1&&(q=H[0]+"@",O=H[1]),O=O.replace(x,".");var K=O.split("."),se=A(K,z).join(".");return q+se}function N(O){for(var z=[],H=0,q=O.length,K,se;H<q;)K=O.charCodeAt(H++),K>=55296&&K<=56319&&H<q?(se=O.charCodeAt(H++),(se&64512)==56320?z.push(((K&1023)<<10)+(se&1023)+65536):(z.push(K),H--)):z.push(K);return z}function F(O){return A(O,function(z){var H="";return z>65535&&(z-=65536,H+=_(z>>>10&1023|55296),z=56320|z&1023),H+=_(z),H}).join("")}function D(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:l}function M(O,z){return O+22+75*(O<26)-((z!=0)<<5)}function S(O,z,H){var q=0;for(O=H?b(O/h):O>>1,O+=b(O/z);O>w*c>>1;q+=l)O=b(O/w);return b(q+(w+1)*O/(O+d))}function I(O){var z=[],H=O.length,q,K=0,se=m,de=f,me,Le,Ie,we,ce,Ae,ke,Tt,Ye;for(me=O.lastIndexOf(p),me<0&&(me=0),Le=0;Le<me;++Le)O.charCodeAt(Le)>=128&&C("not-basic"),z.push(O.charCodeAt(Le));for(Ie=me>0?me+1:0;Ie<H;){for(we=K,ce=1,Ae=l;Ie>=H&&C("invalid-input"),ke=D(O.charCodeAt(Ie++)),(ke>=l||ke>b((a-K)/ce))&&C("overflow"),K+=ke*ce,Tt=Ae<=de?u:Ae>=de+c?c:Ae-de,!(ke<Tt);Ae+=l)Ye=l-Tt,ce>b(a/Ye)&&C("overflow"),ce*=Ye;q=z.length+1,de=S(K-we,q,we==0),b(K/q)>a-se&&C("overflow"),se+=b(K/q),K%=q,z.splice(K++,0,se)}return F(z)}function L(O){var z,H,q,K,se,de,me,Le,Ie,we,ce,Ae=[],ke,Tt,Ye,Kn;for(O=N(O),ke=O.length,z=m,H=0,se=f,de=0;de<ke;++de)ce=O[de],ce<128&&Ae.push(_(ce));for(q=K=Ae.length,K&&Ae.push(p);q<ke;){for(me=a,de=0;de<ke;++de)ce=O[de],ce>=z&&ce<me&&(me=ce);for(Tt=q+1,me-z>b((a-H)/Tt)&&C("overflow"),H+=(me-z)*Tt,z=me,de=0;de<ke;++de)if(ce=O[de],ce<z&&++H>a&&C("overflow"),ce==z){for(Le=H,Ie=l;we=Ie<=se?u:Ie>=se+c?c:Ie-se,!(Le<we);Ie+=l)Kn=Le-we,Ye=l-we,Ae.push(_(M(we+Kn%Ye,0))),Le=b(Kn/Ye);Ae.push(_(M(Le,0))),se=S(H,Tt,q==K),H=0,++q}++H,++z}return Ae.join("")}function R(O){return B(O,function(z){return v.test(z)?I(z.slice(4).toLowerCase()):z})}function U(O){return B(O,function(z){return y.test(z)?"xn--"+L(z):z})}if(o={version:"1.4.1",ucs2:{decode:N,encode:F},decode:I,encode:L,toASCII:U,toUnicode:R},n&&i)if(t.exports==n)i.exports=o;else for(E in o)o.hasOwnProperty(E)&&(n[E]=o[E]);else r.punycode=o})(vt)})(zd,zd.exports);var Ok=zd.exports,Dk=Error,Lk=EvalError,kk=RangeError,Nk=ReferenceError,cA=SyntaxError,_c=TypeError,Fk=URIError,Bk=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Xw=typeof Symbol<"u"&&Symbol,Uk=Bk,jk=function(){return typeof Xw!="function"||typeof Symbol!="function"||typeof Xw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Uk()},im={__proto__:null,foo:{}},$k=Object,zk=function(){return{__proto__:im}.foo===im.foo&&!(im instanceof $k)},Gk="Function.prototype.bind called on incompatible ",Hk=Object.prototype.toString,Vk=Math.max,Wk="[object Function]",Yw=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},Xk=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},Yk=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},qk=function(e){var r=this;if(typeof r!="function"||Hk.apply(r)!==Wk)throw new TypeError(Gk+r);for(var n=Xk(arguments,1),i,s=function(){if(this instanceof i){var c=r.apply(this,Yw(n,arguments));return Object(c)===c?c:this}return r.apply(e,Yw(n,arguments))},o=Vk(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+Yk(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},Kk=qk,Jy=Function.prototype.bind||Kk,Qk=Function.prototype.call,Zk=Object.prototype.hasOwnProperty,Jk=Jy,eN=Jk.call(Qk,Zk),Fe,tN=Dk,rN=Lk,nN=kk,iN=Nk,tl=cA,Aa=_c,sN=Fk,hA=Function,sm=function(t){try{return hA('"use strict"; return ('+t+").constructor;")()}catch{}},ao=Object.getOwnPropertyDescriptor;if(ao)try{ao({},"")}catch{ao=null}var om=function(){throw new Aa},oN=ao?function(){try{return arguments.callee,om}catch{try{return ao(arguments,"callee").get}catch{return om}}}():om,Uo=jk(),aN=zk(),Ot=Object.getPrototypeOf||(aN?function(t){return t.__proto__}:null),Xo={},lN=typeof Uint8Array>"u"||!Ot?Fe:Ot(Uint8Array),lo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":Uo&&Ot?Ot([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":Xo,"%AsyncGenerator%":Xo,"%AsyncGeneratorFunction%":Xo,"%AsyncIteratorPrototype%":Xo,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":tN,"%eval%":eval,"%EvalError%":rN,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":hA,"%GeneratorFunction%":Xo,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Uo&&Ot?Ot(Ot([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Uo||!Ot?Fe:Ot(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":nN,"%ReferenceError%":iN,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Uo||!Ot?Fe:Ot(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Uo&&Ot?Ot(""[Symbol.iterator]()):Fe,"%Symbol%":Uo?Symbol:Fe,"%SyntaxError%":tl,"%ThrowTypeError%":oN,"%TypedArray%":lN,"%TypeError%":Aa,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":sN,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet};if(Ot)try{null.error}catch(t){var uN=Ot(Ot(t));lo["%Error.prototype%"]=uN}var cN=function t(e){var r;if(e==="%AsyncFunction%")r=sm("async function () {}");else if(e==="%GeneratorFunction%")r=sm("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=sm("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Ot&&(r=Ot(i.prototype))}return lo[e]=r,r},qw={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bc=Jy,Gd=eN,hN=bc.call(Function.call,Array.prototype.concat),dN=bc.call(Function.apply,Array.prototype.splice),Kw=bc.call(Function.call,String.prototype.replace),Hd=bc.call(Function.call,String.prototype.slice),fN=bc.call(Function.call,RegExp.prototype.exec),pN=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mN=/\\(\\)?/g,gN=function(e){var r=Hd(e,0,1),n=Hd(e,-1);if(r==="%"&&n!=="%")throw new tl("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new tl("invalid intrinsic syntax, expected opening `%`");var i=[];return Kw(e,pN,function(s,o,a,l){i[i.length]=a?Kw(l,mN,"$1"):o||s}),i},vN=function(e,r){var n=e,i;if(Gd(qw,n)&&(i=qw[n],n="%"+i[0]+"%"),Gd(lo,n)){var s=lo[n];if(s===Xo&&(s=cN(n)),typeof s>"u"&&!r)throw new Aa("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new tl("intrinsic "+e+" does not exist!")},hl=function(e,r){if(typeof e!="string"||e.length===0)throw new Aa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Aa('"allowMissing" argument must be a boolean');if(fN(/^%?[^%]*%?$/,e)===null)throw new tl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=gN(e),i=n.length>0?n[0]:"",s=vN("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],dN(n,hN([0,1],u)));for(var c=1,d=!0;c<n.length;c+=1){var h=n[c],f=Hd(h,0,1),m=Hd(h,-1);if((f==='"'||f==="'"||f==="`"||m==='"'||m==="'"||m==="`")&&f!==m)throw new tl("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),i+="."+h,o="%"+i+"%",Gd(lo,o))a=lo[o];else if(a!=null){if(!(h in a)){if(!r)throw new Aa("base intrinsic for "+e+" exists, but the property is not available.");return}if(ao&&c+1>=n.length){var p=ao(a,h);d=!!p,d&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[h]}else d=Gd(a,h),a=a[h];d&&!l&&(lo[o]=a)}}return a},dA={exports:{}},am,Qw;function e1(){if(Qw)return am;Qw=1;var t=hl,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return am=e,am}var yN=hl,Jh=yN("%Object.getOwnPropertyDescriptor%",!0);if(Jh)try{Jh([],"length")}catch{Jh=null}var fA=Jh,Zw=e1(),xN=cA,jo=_c,Jw=fA,wN=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new jo("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new jo("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new jo("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new jo("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new jo("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new jo("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!Jw&&Jw(e,r);if(Zw)Zw(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new xN("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Rv=e1(),pA=function(){return!!Rv};pA.hasArrayLengthDefineBug=function(){if(!Rv)return null;try{return Rv([],"length",{value:1}).length!==1}catch{return!0}};var _N=pA,bN=hl,e_=wN,SN=_N(),t_=fA,r_=_c,EN=bN("%Math.floor%"),TN=function(e,r){if(typeof e!="function")throw new r_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||EN(r)!==r)throw new r_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&t_){var o=t_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(SN?e_(e,"length",r,!0,!0):e_(e,"length",r)),e};(function(t){var e=Jy,r=hl,n=TN,i=_c,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=e1(),u=r("%Math.max%");t.exports=function(h){if(typeof h!="function")throw new i("a function is required");var f=a(e,o,arguments);return n(f,1+u(0,h.length-(arguments.length-1)),!0)};var c=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(dA);var CN=dA.exports,mA=hl,gA=CN,AN=gA(mA("String.prototype.indexOf")),PN=function(e,r){var n=mA(e,!!r);return typeof n=="function"&&AN(e,".prototype.")>-1?gA(n):n};const RN={},IN=Object.freeze(Object.defineProperty({__proto__:null,default:RN},Symbol.toStringTag,{value:"Module"})),MN=SR(IN);var t1=typeof Map=="function"&&Map.prototype,lm=Object.getOwnPropertyDescriptor&&t1?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Vd=t1&&lm&&typeof lm.get=="function"?lm.get:null,n_=t1&&Map.prototype.forEach,r1=typeof Set=="function"&&Set.prototype,um=Object.getOwnPropertyDescriptor&&r1?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Wd=r1&&um&&typeof um.get=="function"?um.get:null,i_=r1&&Set.prototype.forEach,ON=typeof WeakMap=="function"&&WeakMap.prototype,vu=ON?WeakMap.prototype.has:null,DN=typeof WeakSet=="function"&&WeakSet.prototype,yu=DN?WeakSet.prototype.has:null,LN=typeof WeakRef=="function"&&WeakRef.prototype,s_=LN?WeakRef.prototype.deref:null,kN=Boolean.prototype.valueOf,NN=Object.prototype.toString,FN=Function.prototype.toString,BN=String.prototype.match,n1=String.prototype.slice,Qi=String.prototype.replace,UN=String.prototype.toUpperCase,o_=String.prototype.toLowerCase,vA=RegExp.prototype.test,a_=Array.prototype.concat,Bn=Array.prototype.join,jN=Array.prototype.slice,l_=Math.floor,Iv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cm=Object.getOwnPropertySymbols,Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,rl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Kt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===rl||!0)?Symbol.toStringTag:null,yA=Object.prototype.propertyIsEnumerable,u_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function c_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||vA.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-l_(-t):l_(t);if(n!==t){var i=String(n),s=n1.call(e,i.length+1);return Qi.call(i,r,"$&_")+"."+Qi.call(Qi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qi.call(e,r,"$&_")}var Ov=MN,h_=Ov.custom,d_=_A(h_)?h_:null,xA={__proto__:null,double:'"',single:"'"},$N={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},zN=function t(e,r,n,i){var s=r||{};if(si(s,"quoteStyle")&&!si(xA,s.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(si(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=si(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(si(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(si(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return SA(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?c_(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?c_(e,u):u}var c=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return Dv(e)?"[Array]":"[Object]";var d=oF(s,n);if(typeof i>"u")i=[];else if(bA(i,e)>=0)return"[Circular]";function h(D,M,S){if(M&&(i=jN.call(i),i.push(M)),S){var I={depth:s.depth};return si(s,"quoteStyle")&&(I.quoteStyle=s.quoteStyle),t(D,I,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!f_(e)){var f=QN(e),m=sh(e,h);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(m.length>0?" { "+Bn.call(m,", ")+" }":"")}if(_A(e)){var p=rl?Qi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Mv.call(e);return typeof e=="object"&&!rl?Ml(p):p}if(nF(e)){for(var v="<"+o_.call(String(e.nodeName)),y=e.attributes||[],x=0;x<y.length;x++)v+=" "+y[x].name+"="+wA(GN(y[x].value),"double",s);return v+=">",e.childNodes&&e.childNodes.length&&(v+="..."),v+="</"+o_.call(String(e.nodeName))+">",v}if(Dv(e)){if(e.length===0)return"[]";var g=sh(e,h);return d&&!sF(g)?"["+Lv(g,d)+"]":"[ "+Bn.call(g,", ")+" ]"}if(VN(e)){var w=sh(e,h);return!("cause"in Error.prototype)&&"cause"in e&&!yA.call(e,"cause")?"{ ["+String(e)+"] "+Bn.call(a_.call("[cause]: "+h(e.cause),w),", ")+" }":w.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Bn.call(w,", ")+" }"}if(typeof e=="object"&&o){if(d_&&typeof e[d_]=="function"&&Ov)return Ov(e,{depth:c-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ZN(e)){var b=[];return n_&&n_.call(e,function(D,M){b.push(h(M,e,!0)+" => "+h(D,e))}),p_("Map",Vd.call(e),b,d)}if(tF(e)){var _=[];return i_&&i_.call(e,function(D){_.push(h(D,e))}),p_("Set",Wd.call(e),_,d)}if(JN(e))return hm("WeakMap");if(rF(e))return hm("WeakSet");if(eF(e))return hm("WeakRef");if(XN(e))return Ml(h(Number(e)));if(qN(e))return Ml(h(Iv.call(e)));if(YN(e))return Ml(kN.call(e));if(WN(e))return Ml(h(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof vt<"u"&&e===vt)return"{ [object globalThis] }";if(!HN(e)&&!f_(e)){var E=sh(e,h),C=u_?u_(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",B=!C&&Kt&&Object(e)===e&&Kt in e?n1.call(Es(e),8,-1):A?"Object":"",N=C||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",F=N+(B||A?"["+Bn.call(a_.call([],B||[],A||[]),": ")+"] ":"");return E.length===0?F+"{}":d?F+"{"+Lv(E,d)+"}":F+"{ "+Bn.call(E,", ")+" }"}return String(e)};function wA(t,e,r){var n=r.quoteStyle||e,i=xA[n];return i+t+i}function GN(t){return Qi.call(String(t),/"/g,"&quot;")}function Dv(t){return Es(t)==="[object Array]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function HN(t){return Es(t)==="[object Date]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function f_(t){return Es(t)==="[object RegExp]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function VN(t){return Es(t)==="[object Error]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function WN(t){return Es(t)==="[object String]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function XN(t){return Es(t)==="[object Number]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function YN(t){return Es(t)==="[object Boolean]"&&(!Kt||!(typeof t=="object"&&Kt in t))}function _A(t){if(rl)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Mv)return!1;try{return Mv.call(t),!0}catch{}return!1}function qN(t){if(!t||typeof t!="object"||!Iv)return!1;try{return Iv.call(t),!0}catch{}return!1}var KN=Object.prototype.hasOwnProperty||function(t){return t in this};function si(t,e){return KN.call(t,e)}function Es(t){return NN.call(t)}function QN(t){if(t.name)return t.name;var e=BN.call(FN.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function bA(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ZN(t){if(!Vd||!t||typeof t!="object")return!1;try{Vd.call(t);try{Wd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function JN(t){if(!vu||!t||typeof t!="object")return!1;try{vu.call(t,vu);try{yu.call(t,yu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function eF(t){if(!s_||!t||typeof t!="object")return!1;try{return s_.call(t),!0}catch{}return!1}function tF(t){if(!Wd||!t||typeof t!="object")return!1;try{Wd.call(t);try{Vd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function rF(t){if(!yu||!t||typeof t!="object")return!1;try{yu.call(t,yu);try{vu.call(t,vu)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function nF(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function SA(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return SA(n1.call(t,0,e.maxStringLength),e)+n}var i=$N[e.quoteStyle||"single"];i.lastIndex=0;var s=Qi.call(Qi.call(t,i,"\\$1"),/[\x00-\x1f]/g,iF);return wA(s,"single",e)}function iF(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+UN.call(e.toString(16))}function Ml(t){return"Object("+t+")"}function hm(t){return t+" { ? }"}function p_(t,e,r,n){var i=n?Lv(r,n):Bn.call(r,", ");return t+" ("+e+") {"+i+"}"}function sF(t){for(var e=0;e<t.length;e++)if(bA(t[e],`
`)>=0)return!1;return!0}function oF(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Bn.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Bn.call(Array(e+1),r)}}function Lv(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Bn.call(t,","+r)+`
`+e.prev}function sh(t,e){var r=Dv(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=si(t,i)?e(t[i],t):""}var s=typeof cm=="function"?cm(t):[],o;if(rl){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)si(t,l)&&(r&&String(Number(l))===l&&l<t.length||rl&&o["$"+l]instanceof Symbol||(vA.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof cm=="function")for(var u=0;u<s.length;u++)yA.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var EA=hl,dl=PN,aF=zN,lF=_c,oh=EA("%WeakMap%",!0),ah=EA("%Map%",!0),uF=dl("WeakMap.prototype.get",!0),cF=dl("WeakMap.prototype.set",!0),hF=dl("WeakMap.prototype.has",!0),dF=dl("Map.prototype.get",!0),fF=dl("Map.prototype.set",!0),pF=dl("Map.prototype.has",!0),i1=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},mF=function(t,e){var r=i1(t,e);return r&&r.value},gF=function(t,e,r){var n=i1(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},vF=function(t,e){return!!i1(t,e)},yF=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new lF("Side channel does not contain "+aF(s))},get:function(s){if(oh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return uF(e,s)}else if(ah){if(r)return dF(r,s)}else if(n)return mF(n,s)},has:function(s){if(oh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return hF(e,s)}else if(ah){if(r)return pF(r,s)}else if(n)return vF(n,s);return!1},set:function(s,o){oh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new oh),cF(e,s,o)):ah?(r||(r=new ah),fF(r,s,o)):(n||(n={key:{},next:null}),gF(n,s,o))}};return i},xF=String.prototype.replace,wF=/%20/g,dm={RFC1738:"RFC1738",RFC3986:"RFC3986"},s1={default:dm.RFC3986,formatters:{RFC1738:function(t){return xF.call(t,wF,"+")},RFC3986:function(t){return String(t)}},RFC1738:dm.RFC1738,RFC3986:dm.RFC3986},_F=s1,fm=Object.prototype.hasOwnProperty,Gs=Array.isArray,En=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),bF=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Gs(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},TA=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},SF=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Gs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!fm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Gs(e)&&!Gs(r)&&(i=TA(e,n)),Gs(e)&&Gs(r)?(r.forEach(function(s,o){if(fm.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return fm.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},EF=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},TF=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},pm=1024,CF=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;l+=pm){for(var u=o.length>=pm?o.slice(l,l+pm):o,c=[],d=0;d<u.length;++d){var h=u.charCodeAt(d);if(h===45||h===46||h===95||h===126||h>=48&&h<=57||h>=65&&h<=90||h>=97&&h<=122||s===_F.RFC1738&&(h===40||h===41)){c[c.length]=u.charAt(d);continue}if(h<128){c[c.length]=En[h];continue}if(h<2048){c[c.length]=En[192|h>>6]+En[128|h&63];continue}if(h<55296||h>=57344){c[c.length]=En[224|h>>12]+En[128|h>>6&63]+En[128|h&63];continue}d+=1,h=65536+((h&1023)<<10|u.charCodeAt(d)&1023),c[c.length]=En[240|h>>18]+En[128|h>>12&63]+En[128|h>>6&63]+En[128|h&63]}a+=c.join("")}return a},AF=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],c=o[u];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:o,prop:u}),n.push(c))}return bF(r),e},PF=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},RF=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},IF=function(e,r){return[].concat(e,r)},MF=function(e,r){if(Gs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},CA={arrayToObject:TA,assign:EF,combine:IF,compact:AF,decode:TF,encode:CF,isBuffer:RF,isRegExp:PF,maybeMap:MF,merge:SF},AA=yF,ed=CA,xu=s1,OF=Object.prototype.hasOwnProperty,PA={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},On=Array.isArray,DF=Array.prototype.push,RA=function(t,e){DF.apply(t,On(e)?e:[e])},LF=Date.prototype.toISOString,m_=xu.default,Pt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ed.encode,encodeValuesOnly:!1,filter:void 0,format:m_,formatter:xu.formatters[m_],indices:!1,serializeDate:function(e){return LF.call(e)},skipNulls:!1,strictNullHandling:!1},kF=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},mm={},NF=function t(e,r,n,i,s,o,a,l,u,c,d,h,f,m,p,v,y,x){for(var g=e,w=x,b=0,_=!1;(w=w.get(mm))!==void 0&&!_;){var E=w.get(e);if(b+=1,typeof E<"u"){if(E===b)throw new RangeError("Cyclic object value");_=!0}typeof w.get(mm)>"u"&&(b=0)}if(typeof c=="function"?g=c(r,g):g instanceof Date?g=f(g):n==="comma"&&On(g)&&(g=ed.maybeMap(g,function(O){return O instanceof Date?f(O):O})),g===null){if(o)return u&&!v?u(r,Pt.encoder,y,"key",m):r;g=""}if(kF(g)||ed.isBuffer(g)){if(u){var C=v?r:u(r,Pt.encoder,y,"key",m);return[p(C)+"="+p(u(g,Pt.encoder,y,"value",m))]}return[p(r)+"="+p(String(g))]}var A=[];if(typeof g>"u")return A;var B;if(n==="comma"&&On(g))v&&u&&(g=ed.maybeMap(g,u)),B=[{value:g.length>0?g.join(",")||null:void 0}];else if(On(c))B=c;else{var N=Object.keys(g);B=d?N.sort(d):N}var F=l?String(r).replace(/\./g,"%2E"):String(r),D=i&&On(g)&&g.length===1?F+"[]":F;if(s&&On(g)&&g.length===0)return D+"[]";for(var M=0;M<B.length;++M){var S=B[M],I=typeof S=="object"&&S&&typeof S.value<"u"?S.value:g[S];if(!(a&&I===null)){var L=h&&l?String(S).replace(/\./g,"%2E"):String(S),R=On(g)?typeof n=="function"?n(D,L):D:D+(h?"."+L:"["+L+"]");x.set(e,b);var U=AA();U.set(mm,x),RA(A,t(I,R,n,i,s,o,a,l,n==="comma"&&v&&On(g)?null:u,c,d,h,f,m,p,v,y,U))}}return A},FF=function(e){if(!e)return Pt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Pt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xu.default;if(typeof e.format<"u"){if(!OF.call(xu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=xu.formatters[n],s=Pt.filter;(typeof e.filter=="function"||On(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in PA?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Pt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Pt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Pt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Pt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pt.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Pt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Pt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Pt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Pt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Pt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Pt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Pt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pt.strictNullHandling}},BF=function(t,e){var r=t,n=FF(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):On(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=PA[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=AA(),c=0;c<i.length;++c){var d=i[c],h=r[d];n.skipNulls&&h===null||RA(o,NF(h,d,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var f=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},nl=CA,kv=Object.prototype.hasOwnProperty,UF=Array.isArray,pt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:nl.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},jF=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},IA=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},$F="utf8=%26%2310003%3B",zF="utf8=%E2%9C%93",GF=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===zF?u="utf-8":o[l]===$F&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var c=o[l],d=c.indexOf("]="),h=d===-1?c.indexOf("="):d+1,f,m;h===-1?(f=r.decoder(c,pt.decoder,u,"key"),m=r.strictNullHandling?null:""):(f=r.decoder(c.slice(0,h),pt.decoder,u,"key"),m=nl.maybeMap(IA(c.slice(h+1),r),function(v){return r.decoder(v,pt.decoder,u,"value")})),m&&r.interpretNumericEntities&&u==="iso-8859-1"&&(m=jF(String(m))),c.indexOf("[]=")>-1&&(m=UF(m)?[m]:m);var p=kv.call(n,f);p&&r.duplicates==="combine"?n[f]=nl.combine(n[f],m):(!p||r.duplicates==="last")&&(n[f]=m)}return n},HF=function(t,e,r,n){for(var i=n?e:IA(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?{__proto__:null}:{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,c=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},VF=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,c=[];if(u){if(!n.plainObjects&&kv.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}for(var d=0;n.depth>0&&(l=a.exec(s))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&kv.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}if(l){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+s.slice(l.index)+"]")}return HF(c,r,n,i)}},WF=function(e){if(!e)return pt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?pt.charset:e.charset,n=typeof e.duplicates>"u"?pt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:pt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:pt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:pt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:pt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:pt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:pt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:pt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:pt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:pt.decoder,delimiter:typeof e.delimiter=="string"||nl.isRegExp(e.delimiter)?e.delimiter:pt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:pt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:pt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:pt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:pt.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:pt.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:pt.strictNullHandling}},XF=function(t,e){var r=WF(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?GF(t,r):t,i=r.plainObjects?{__proto__:null}:{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=VF(a,n[a],r,typeof t=="string");i=nl.merge(i,l,r)}return r.allowSparse===!0?i:nl.compact(i)},YF=BF,qF=XF,KF=s1,QF={formats:KF,parse:qF,stringify:YF},ZF=Ok;function mi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var JF=/^([a-z0-9.+-]+:)/i,e4=/:[0-9]*$/,t4=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,r4=["<",">",'"',"`"," ","\r",`
`,"	"],n4=["{","}","|","\\","^","`"].concat(r4),Nv=["'"].concat(n4),g_=["%","/","?",";","#"].concat(Nv),v_=["/","?","#"],i4=255,y_=/^[+a-z0-9A-Z_-]{0,63}$/,s4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,o4={javascript:!0,"javascript:":!0},Fv={javascript:!0,"javascript:":!0},Pa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bv=QF;function a4(t,e,r){if(t&&typeof t=="object"&&t instanceof mi)return t;var n=new mi;return n.parse(t,e,r),n}mi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=t4.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=Bv.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=JF.exec(a);if(u){u=u[0];var c=u.toLowerCase();this.protocol=c,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var d=a.substr(0,2)==="//";d&&!(u&&Fv[u])&&(a=a.substr(2),this.slashes=!0)}if(!Fv[u]&&(d||u&&!Pa[u])){for(var h=-1,f=0;f<v_.length;f++){var m=a.indexOf(v_[f]);m!==-1&&(h===-1||m<h)&&(h=m)}var p,v;h===-1?v=a.lastIndexOf("@"):v=a.lastIndexOf("@",h),v!==-1&&(p=a.slice(0,v),a=a.slice(v+1),this.auth=decodeURIComponent(p)),h=-1;for(var f=0;f<g_.length;f++){var m=a.indexOf(g_[f]);m!==-1&&(h===-1||m<h)&&(h=m)}h===-1&&(h=a.length),this.host=a.slice(0,h),a=a.slice(h),this.parseHost(),this.hostname=this.hostname||"";var y=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!y)for(var x=this.hostname.split(/\./),f=0,g=x.length;f<g;f++){var w=x[f];if(w&&!w.match(y_)){for(var b="",_=0,E=w.length;_<E;_++)w.charCodeAt(_)>127?b+="x":b+=w[_];if(!b.match(y_)){var C=x.slice(0,f),A=x.slice(f+1),B=w.match(s4);B&&(C.push(B[1]),A.unshift(B[2])),A.length&&(a="/"+A.join(".")+a),this.hostname=C.join(".");break}}}this.hostname.length>i4?this.hostname="":this.hostname=this.hostname.toLowerCase(),y||(this.hostname=ZF.toASCII(this.hostname));var N=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+N,this.href+=this.host,y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!o4[c])for(var f=0,g=Nv.length;f<g;f++){var D=Nv[f];if(a.indexOf(D)!==-1){var M=encodeURIComponent(D);M===D&&(M=escape(D)),a=a.split(D).join(M)}}var S=a.indexOf("#");S!==-1&&(this.hash=a.substr(S),a=a.slice(0,S));var I=a.indexOf("?");if(I!==-1?(this.search=a.substr(I),this.query=a.substr(I+1),e&&(this.query=Bv.parse(this.query)),a=a.slice(0,I)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Pa[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var N=this.pathname||"",L=this.search||"";this.path=N+L}return this.href=this.format(),this};mi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Bv.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Pa[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};mi.prototype.resolve=function(t){return this.resolveObject(a4(t,!1,!0)).format()};mi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new mi;e.parse(t,!1,!0),t=e}for(var r=new mi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Pa[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Pa[t.protocol]){for(var u=Object.keys(t),c=0;c<u.length;c++){var d=u[c];r[d]=t[d]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Fv[t.protocol]){for(var g=(t.pathname||"").split("/");g.length&&!(t.host=g.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),g[0]!==""&&g.unshift(""),g.length<2&&g.unshift(""),r.pathname=g.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var h=r.pathname||"",f=r.search||"";r.path=h+f}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var m=r.pathname&&r.pathname.charAt(0)==="/",p=t.host||t.pathname&&t.pathname.charAt(0)==="/",v=p||m||r.host&&t.pathname,y=v,x=r.pathname&&r.pathname.split("/")||[],g=t.pathname&&t.pathname.split("/")||[],w=r.protocol&&!Pa[r.protocol];if(w&&(r.hostname="",r.port=null,r.host&&(x[0]===""?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(g[0]===""?g[0]=t.host:g.unshift(t.host)),t.host=null),v=v&&(g[0]===""||x[0]==="")),p)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=g;else if(g.length)x||(x=[]),x.pop(),x=x.concat(g),r.search=t.search,r.query=t.query;else if(t.search!=null){if(w){r.host=x.shift(),r.hostname=r.host;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var _=x.slice(-1)[0],E=(r.host||t.host||x.length>1)&&(_==="."||_==="..")||_==="",C=0,A=x.length;A>=0;A--)_=x[A],_==="."?x.splice(A,1):_===".."?(x.splice(A,1),C++):C&&(x.splice(A,1),C--);if(!v&&!y)for(;C--;C)x.unshift("..");v&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),E&&x.join("/").substr(-1)!=="/"&&x.push("");var B=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(w){r.hostname=B?"":x.length?x.shift():"",r.host=r.hostname;var b=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;b&&(r.auth=b.shift(),r.hostname=b.shift(),r.host=r.hostname)}return v=v||r.host&&x.length,v&&!B&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};mi.prototype.parseHost=function(){var t=this.host,e=e4.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const x_={};function Oe(t,e,r=3){if(x_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),x_[e]=!0}function Jr(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ol(t){return t.split("?")[0].split("#")[0]}function l4(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function u4(t,e,r){return t.replace(new RegExp(l4(e),"g"),r)}function c4(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Nt={toPosix(t){return u4(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Jr(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Jr(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Ol(this.toPosix(e??J.ADAPTER.getBaseUrl())),i=Ol(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Nt.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Jr(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=c4(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Jr(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Jr(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Jr(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Jr(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Jr(t),e&&Jr(e),t=Ol(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Jr(t),t=Ol(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Jr(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ol(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let gm;async function h4(){return gm??(gm=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return pr.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return pr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?pr.PMA:pr.UNPACK})()),gm}let vm;function d4(){return typeof vm>"u"&&(vm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!J.ADAPTER.getWebGLRenderingContext())return!1;const r=J.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),vm}var f4={grad:.9,turn:360,rad:360/(2*Math.PI)},ei=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Lt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Vr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},MA=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},w_=function(t){return{r:Vr(t.r,0,255),g:Vr(t.g,0,255),b:Vr(t.b,0,255),a:Vr(t.a)}},ym=function(t){return{r:Lt(t.r),g:Lt(t.g),b:Lt(t.b),a:Lt(t.a,3)}},p4=/^#([0-9a-f]{3,8})$/i,lh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},OA=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},DA=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},__=function(t){return{h:MA(t.h),s:Vr(t.s,0,100),l:Vr(t.l,0,100),a:Vr(t.a)}},b_=function(t){return{h:Lt(t.h),s:Lt(t.s),l:Lt(t.l),a:Lt(t.a,3)}},S_=function(t){return DA((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},wu=function(t){return{h:(e=OA(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},m4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Uv={string:[[function(t){var e=p4.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Lt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Lt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=v4.exec(t)||y4.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:w_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=m4.exec(t)||g4.exec(t);if(!e)return null;var r,n,i=__({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(f4[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return S_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ei(e)&&ei(r)&&ei(n)?w_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ei(e)||!ei(r)||!ei(n))return null;var o=__({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return S_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ei(e)||!ei(r)||!ei(n))return null;var o=function(a){return{h:MA(a.h),s:Vr(a.s,0,100),v:Vr(a.v,0,100),a:Vr(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return DA(o)},"hsv"]]},E_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},x4=function(t){return typeof t=="string"?E_(t.trim(),Uv.string):typeof t=="object"&&t!==null?E_(t,Uv.object):[null,void 0]},xm=function(t,e){var r=wu(t);return{h:r.h,s:Vr(r.s+100*e,0,100),l:r.l,a:r.a}},wm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},T_=function(t,e){var r=wu(t);return{h:r.h,s:r.s,l:Vr(r.l+100*e,0,100),a:r.a}},jv=function(){function t(e){this.parsed=x4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Lt(wm(this.rgba),2)},t.prototype.isDark=function(){return wm(this.rgba)<.5},t.prototype.isLight=function(){return wm(this.rgba)>=.5},t.prototype.toHex=function(){return e=ym(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?lh(Lt(255*s)):"","#"+lh(r)+lh(n)+lh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return ym(this.rgba)},t.prototype.toRgbString=function(){return e=ym(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return b_(wu(this.rgba))},t.prototype.toHslString=function(){return e=b_(wu(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=OA(this.rgba),{h:Lt(e.h),s:Lt(e.s),v:Lt(e.v),a:Lt(e.a,3)};var e},t.prototype.invert=function(){return Tn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Tn(xm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Tn(xm(this.rgba,-e))},t.prototype.grayscale=function(){return Tn(xm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Tn(T_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Tn(T_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Tn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Lt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=wu(this.rgba);return typeof e=="number"?Tn({h:e,s:r.s,l:r.l,a:r.a}):Lt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Tn(e).toHex()},t}(),Tn=function(t){return t instanceof jv?t:new jv(t)},C_=[],w4=function(t){t.forEach(function(e){C_.indexOf(e)<0&&(e(jv,Uv),C_.push(e))})};function _4(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var c=this.toRgb(),d=1/0,h="black";if(!s.length)for(var f in r)s[f]=new t(r[f]).toRgb();for(var m in r){var p=(a=c,l=s[m],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));p<d&&(d=p,h=m)}return h}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}w4([_4]);const Yo=class td{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof td)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=td.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=td.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Tn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Yo.shared=new Yo,Yo.temp=new Yo,Yo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let tt=Yo;function b4(t){return Oe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),tt.shared.setValue(t).toHex()}function S4(t){return Oe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),tt.shared.setValue(t).toNumber()}function E4(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ve.NORMAL_NPM]=ve.NORMAL,t[ve.ADD_NPM]=ve.ADD,t[ve.SCREEN_NPM]=ve.SCREEN,e[ve.NORMAL]=ve.NORMAL_NPM,e[ve.ADD]=ve.ADD_NPM,e[ve.SCREEN]=ve.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const LA=E4();function kA(t,e){return LA[e?1:0][t]}function T4(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function NA(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Xd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function A_(t){return!(t&t-1)&&!!t}function P_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ra(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Zi(t){return t===0?0:t<0?-1:1}let C4=0;function _o(){return++C4}const $v=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};$v.EMPTY=new $v(0,0,0,0);let R_=$v;const I_={},Cn=Object.create(null),Pi=Object.create(null);class A4{constructor(e,r,n){this._canvas=J.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||J.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function M_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function O_(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function P4(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,l=r-1;for(;o<r&&M_(i,e,o);)++o;if(o===r)return R_.EMPTY;for(;M_(i,e,l);)--l;for(;O_(i,e,s,o,l);)++s;for(;O_(i,e,a,o,l);)--a;return++a,++l,new R_(s,o,a,l)}function R4(t){const e=P4(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function I4(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function bi(t,e=1){var n;const r=(n=J.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var Q=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Q||{});const zv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},D_=(t,e)=>zv(t).priority??e,le={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(zv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(zv).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>D_(s,r)-D_(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Gv{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const M4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function O4(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function D4(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=M4.replace(/%forloop%/gi,O4(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const _m=0,bm=1,Sm=2,Em=3,Tm=4,Cm=5;class qn{constructor(){this.data=0,this.blendMode=ve.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<_m)}set blend(e){!!(this.data&1<<_m)!==e&&(this.data^=1<<_m)}get offsets(){return!!(this.data&1<<bm)}set offsets(e){!!(this.data&1<<bm)!==e&&(this.data^=1<<bm)}get culling(){return!!(this.data&1<<Sm)}set culling(e){!!(this.data&1<<Sm)!==e&&(this.data^=1<<Sm)}get depthTest(){return!!(this.data&1<<Em)}set depthTest(e){!!(this.data&1<<Em)!==e&&(this.data^=1<<Em)}get depthMask(){return!!(this.data&1<<Cm)}set depthMask(e){!!(this.data&1<<Cm)!==e&&(this.data^=1<<Cm)}get clockwiseFrontFace(){return!!(this.data&1<<Tm)}set clockwiseFrontFace(e){!!(this.data&1<<Tm)!==e&&(this.data^=1<<Tm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ve.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new qn;return e.depthTest=!1,e.blend=!0,e}}qn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Hv=[];function FA(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Hv.length-1;n>=0;--n){const i=Hv[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class gn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:c}=this;this._aliasCount++;for(let d=0,h=c.length;d<h;d++)c[d][u](e,r,n,i,s,o,a,l);return c===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(gn.prototype,{dispatch:{value:gn.prototype.emit},run:{value:gn.prototype.emit}});class Ju{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new gn("setRealSize"),this.onUpdate=new gn("update"),this.onError=new gn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Kf extends Ju{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===pr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const L4={scaleMode:ui.NEAREST,alphaMode:pr.NPM},Vv=class qo extends wc{constructor(e=null,r=null){super(),r=Object.assign({},qo.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:c,type:d,target:h,resolution:f,resourceOptions:m}=r;e&&!(e instanceof Ju)&&(e=FA(e,m),e.internal=!0),this.resolution=f||J.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=c,this.type=d,this.target=h,this.alphaMode=n,this.uid=_o(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=A_(this.realWidth)&&A_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Pi[this.cacheId],delete Cn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),qo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=J.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${_o()}`}s=e._pixiId}let o=Pi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new qo(e,r),o.cacheId=s,qo.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Kf(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=Y.RGBA,a=he.FLOAT):e instanceof Int32Array?(o=Y.RGBA_INTEGER,a=he.INT):e instanceof Uint32Array?(o=Y.RGBA_INTEGER,a=he.UNSIGNED_INT):e instanceof Int16Array?(o=Y.RGBA_INTEGER,a=he.SHORT):e instanceof Uint16Array?(o=Y.RGBA_INTEGER,a=he.UNSIGNED_SHORT):e instanceof Int8Array?(o=Y.RGBA,a=he.BYTE):(o=Y.RGBA,a=he.UNSIGNED_BYTE),s.internal=!0,new qo(s,Object.assign({},L4,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Pi[r]&&Pi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Pi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Pi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Pi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Pi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Vv.defaultOptions={mipmap:Xn.POW2,anisotropicLevel:0,scaleMode:ui.LINEAR,wrapMode:hs.CLAMP,alphaMode:pr.UNPACK,target:Ca.TEXTURE_2D,format:Y.RGBA,type:he.UNSIGNED_BYTE},Vv._globalBatch=0;let be=Vv;class Wv{constructor(){this.texArray=null,this.blend=0,this.type=jn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let k4=0;class yt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=k4++,this.disposeRunner=new gn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Hn.ELEMENT_ARRAY_BUFFER:Hn.ARRAY_BUFFER}get index(){return this.type===Hn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new yt(e)}}class Yd{constructor(e,r=0,n=!1,i=he.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Yd(e,r,n,i,s)}}const N4={Float32Array,Uint32Array,Int32Array,Uint8Array};function F4(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],c=t[l],d=NA(c);i[d]||(i[d]=new N4[d](s)),o=i[d];for(let h=0;h<c.length;h++){const f=(h/u|0)*n+a,m=h%u;o[f+m]=c[h]}a+=u}return new Float32Array(s)}const L_={5126:4,5123:2,5121:1};let B4=0;const U4={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class gs{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=B4++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new gn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof yt||(r instanceof Array&&(r=new Float32Array(r)),r=new yt(r));const u=e.split("|");if(u.length>1){for(let d=0;d<u.length;d++)this.addAttribute(u[d],r,n,i,s);return this}let c=this.buffers.indexOf(r);return c===-1&&(this.buffers.push(r),c=this.buffers.length-1),this.attributes[e]=new Yd(c,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof yt||(e instanceof Array&&(e=new Uint16Array(e)),e=new yt(e)),e.type=Hn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new yt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*L_[s.type]/4),s.buffer=0}for(n.data=F4(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new gs;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new yt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Yd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Hn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new gs,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new U4[NA(o.buffers[a].data)](i[a]),r.buffers[a]=new yt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Hn.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,c=0;for(let d=0;d<o.buffers.length;d++)if(o.buffers[d]!==o.indexBuffer){c=d;break}for(const d in o.attributes){const h=o.attributes[d];(h.buffer|0)===c&&(l+=h.size*L_[h.type]/4)}for(let d=0;d<e.length;d++){const h=e[d].indexBuffer.data;for(let f=0;f<h.length;f++)r.indexBuffer.data[f+u]+=a;a+=e[d].buffers[c].data.length/l,u+=h.length}}return r}}class BA extends gs{constructor(e=!1){super(),this._buffer=new yt(null,e,!1),this._indexBuffer=new yt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,he.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,he.FLOAT).addAttribute("aColor",this._buffer,4,!0,he.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,he.FLOAT).addIndex(this._indexBuffer)}}const qd=Math.PI*2,j4=180/Math.PI,$4=Math.PI/180;var $t=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))($t||{});class $e{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new $e(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}$e.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const uh=[new $e,new $e,new $e,new $e];class Ee{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=$t.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ee(0,0,0,0)}clone(){return new Ee(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const C=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=C)return!1;const A=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>A}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=uh[0].set(e.left,e.top),l=uh[1].set(e.left,e.bottom),u=uh[2].set(e.right,e.top),c=uh[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const d=Math.sign(r.a*r.d-r.b*r.c);if(d===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=n||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const h=d*(l.y-a.y),f=d*(a.x-l.x),m=h*n+f*s,p=h*i+f*s,v=h*n+f*o,y=h*i+f*o;if(Math.max(m,p,v,y)<=h*a.x+f*a.y||Math.min(m,p,v,y)>=h*c.x+f*c.y)return!1;const x=d*(a.y-u.y),g=d*(u.x-a.x),w=x*n+g*s,b=x*i+g*s,_=x*n+g*o,E=x*i+g*o;return!(Math.max(w,b,_,E)<=x*a.x+g*a.y||Math.min(w,b,_,E)>=x*c.x+g*c.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ee.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Qf{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=$t.CIRC}clone(){return new Qf(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ee(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Qf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Zf{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=$t.ELIP}clone(){return new Zf(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ee(this.x-this.width,this.y-this.height,this.width,this.height)}}Zf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class uo{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=$t.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new uo(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>r!=c>r&&e<(u-a)*((r-l)/(c-l))+a&&(n=!n)}return n}}uo.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Jf{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=$t.RREC}clone(){return new Jf(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Jf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class nt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new $e;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new $e;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(qd-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new nt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new nt}static get TEMP_MATRIX(){return new nt}}nt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Fs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Bs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Us=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],js=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Xv=[],UA=[],ch=Math.sign;function z4(){for(let t=0;t<16;t++){const e=[];Xv.push(e);for(let r=0;r<16;r++){const n=ch(Fs[t]*Fs[r]+Us[t]*Bs[r]),i=ch(Bs[t]*Fs[r]+js[t]*Bs[r]),s=ch(Fs[t]*Us[r]+Us[t]*js[r]),o=ch(Bs[t]*Us[r]+js[t]*js[r]);for(let a=0;a<16;a++)if(Fs[a]===n&&Bs[a]===i&&Us[a]===s&&js[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new nt;e.set(Fs[t],Bs[t],Us[t],js[t],0,0),UA.push(e)}}z4();const ot={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Fs[t],uY:t=>Bs[t],vX:t=>Us[t],vY:t=>js[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Xv[t][e],sub:(t,e)=>Xv[t][ot.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ot.S:ot.N:Math.abs(e)*2<=Math.abs(t)?t>0?ot.E:ot.W:e>0?t>0?ot.SE:ot.SW:t>0?ot.NE:ot.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=UA[ot.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class hi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new hi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}hi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Yv=class{constructor(){this.worldTransform=new nt,this.localTransform=new nt,this.position=new hi(this.onChange,this,0,0),this.scale=new hi(this.onChange,this,1,1),this.pivot=new hi(this.onChange,this,0,0),this.skew=new hi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};Yv.IDENTITY=new Yv;let o1=Yv;o1.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var G4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,H4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function k_(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Am(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function jA(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Am(2*e);case"bvec3":return Am(3*e);case"bvec4":return Am(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ia=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],V4={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},W4={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function X4(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<Ia.length;l++)if(Ia[l].test(s,o)){r.push(Ia[l].code(i,o)),a=!0;break}if(!a){const l=(s.size===1&&!s.isArray?V4:W4)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const $A={};let $o=$A;function Y4(){if($o===$A||$o!=null&&$o.isContextLost()){const t=J.ADAPTER.createCanvas();let e;J.PREFER_ENV>=Po.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),$o=e}return $o}let hh;function q4(){if(!hh){hh=Hr.MEDIUM;const t=Y4();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(hh=e.precision?Hr.HIGH:Hr.MEDIUM)}}return hh}function N_(t,e){const r=t.getShaderSource(e).split(`
`).map((u,c)=>`${c}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function K4(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||N_(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||N_(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const Q4={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function zA(t){return Q4[t]}let dh=null;const F_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function GA(t,e){if(!dh){const r=Object.keys(F_);dh={};for(let n=0;n<r.length;++n){const i=r[n];dh[t[i]]=F_[i]}}return dh[e]}function B_(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Hr.HIGH&&r!==Hr.HIGH&&(n=Hr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Hr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Dl;function Z4(){if(typeof Dl=="boolean")return Dl;try{Dl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Dl=!1}return Dl}let J4=0;const fh={},qv=class Ko{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=J4++,this.vertexSrc=e||Ko.defaultVertexSrc,this.fragmentSrc=r||Ko.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),fh[n]?(fh[n]++,n+=`-${fh[n]}`):fh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=B_(this.vertexSrc,Ko.defaultVertexPrecision,Hr.HIGH),this.fragmentSrc=B_(this.fragmentSrc,Ko.defaultFragmentPrecision,q4())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return H4}static get defaultFragmentSrc(){return G4}static from(e,r,n){const i=e+r;let s=I_[i];return s||(I_[i]=s=new Ko(e,r,n)),s}};qv.defaultVertexPrecision=Hr.HIGH,qv.defaultFragmentPrecision=ci.apple.device?Hr.HIGH:Hr.MEDIUM;let di=qv,eB=0;class vn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=eB++,this.static=!!r,this.ubo=!!n,e instanceof yt?(this.buffer=e,this.buffer.type=Hn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new yt(new Float32Array(1)),this.buffer.type=Hn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new vn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new vn(e,r,n)}static uboFrom(e,r){return new vn(e,r??!0,!0)}}class Vn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof vn?this.uniformGroup=r:this.uniformGroup=new vn(r):this.uniformGroup=new vn({}),this.disposeRunner=new gn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=di.from(e,r);return new Vn(i,n)}}class tB{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=vn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new di(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new nt,default:this.defaultGroupCache[e]};return new Vn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Kv{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function rB(){return!ci.apple.device}function nB(t){let e=!0;const r=J.ADAPTER.getNavigator();if(ci.tablet||ci.phone){if(ci.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(ci.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class ep{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var iB=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,sB=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Xl=class tn extends ep{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=BA,this.vertexSize=6,this.state=qn.for2d(),this.size=tn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??nB(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??rB(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Oe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return sB}static get defaultFragmentTemplate(){return iB}setShaderGenerator({vertex:e=tn.defaultVertexSrc,fragment:r=tn.defaultFragmentTemplate}={}){this.shaderGenerator=new tB(e,r)}contextChange(){const e=this.renderer.gl;J.PREFER_ENV===Po.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),tn.defaultMaxTextures),this.maxTextures=D4(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=tn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Wv);for(;r.length<i;)r.push(new Kv);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=tn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++be._globalBatch,l=0,u=n[0],c=0;i.copyBoundTextures(s,r);for(let d=0;d<this._bufferSize;++d){const h=e[d];e[d]=null,h._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,c,d),c=d,u=n[++l],++a),h._batchEnabled=a,h.touched=o,u.elements[u.count++]=h)}u.count>0&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,c,this._bufferSize),++l,++a);for(let d=0;d<s.length;d++)s[d]=null;be._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=tn._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,h=l[u];h.start=this._iIndex,h.texArray=e;for(let f=r;f<n;++f){const m=i[f],p=m._texture.baseTexture,v=LA[p.alphaMode?1:0][m.blendMode];i[f]=null,r<f&&h.blend!==v&&(h.size=d-h.start,r=f,h=l[++u],h.texArray=e,h.start=d),this.packInterleavedGeometry(m,s,o,c,d),c+=m.vertexData.length/2*a,d+=m.indices.length,h.blend=v}r<n&&(h.size=d-h.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;tn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=tn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:u,start:c,blend:d}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=d,n.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),tn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Xd(Math.ceil(e/8)),n=P_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Gv(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Xd(Math.ceil(e/12)),n=P_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,l=i/this.vertexSize,u=e.uvs,c=e.indices,d=e.vertexData,h=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),m=tt.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let p=0;p<d.length;p+=2)a[i++]=d[p],a[i++]=d[p+1],a[i++]=u[p],a[i++]=u[p+1],o[i++]=m,a[i++]=h;for(let p=0;p<c.length;p++)n[s++]=l+c[p]}};Xl.defaultBatchSize=4096,Xl.extension={name:"batch",type:Q.RendererPlugin},Xl._drawCallPool=[],Xl._textureArrayPool=[];let $s=Xl;le.add($s);var oB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,aB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Qv=class Yl extends Vn{constructor(e,r,n){const i=di.from(e||Yl.defaultVertexSrc,r||Yl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Yl.defaultResolution,this.multisample=Yl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new qn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return aB}static get defaultFragmentSrc(){return oB}};Qv.defaultResolution=1,Qv.defaultMultisample=St.NONE;let rr=Qv;class Kd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new tt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Kd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Kd.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"background"};le.add(Kd);class HA{constructor(e){this.renderer=e,this.emptyRenderer=new ep(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const c=s[u],d=c._batchLocation;if(d>=0&&d<i&&r[d]===c){o[u]=d;continue}for(;l<i;){const h=r[l];if(h&&h._batchEnabled===n&&h._batchLocation===l){l++;continue}o[u]=l,c._batchLocation=l,r[l]=c;break}}}destroy(){this.renderer=null}}HA.extension={type:Q.RendererSystem,name:"batch"};le.add(HA);let U_=0;class Qd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=U_++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=U_++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(J.PREFER_ENV>=Po.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Qd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Qd.extension={type:Q.RendererSystem,name:"context"};le.add(Qd);class Zv{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new gn("disposeFramebuffer"),this.multisample=St.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new be(null,{scaleMode:ui.NEAREST,resolution:1,mipmap:Xn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new be(null,{scaleMode:ui.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Xn.OFF,format:Y.DEPTH_COMPONENT,type:he.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class VA extends be{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=St.NONE),super(null,e),this.mipmap=Xn.OFF,this.valid=!0,this._clear=new tt([0,0,0,0]),this.framebuffer=new Zv(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Si extends Ju{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=I4(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===pr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class WA extends Si{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Si.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??J.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===pr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class a1{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=ot.add(n,ot.NW),this.x0=l+o*ot.uX(n),this.y0=u+a*ot.uY(n),n=ot.add(n,2),this.x1=l+o*ot.uX(n),this.y1=u+a*ot.uY(n),n=ot.add(n,2),this.x2=l+o*ot.uX(n),this.y2=u+a*ot.uY(n),n=ot.add(n,2),this.x3=l+o*ot.uX(n),this.y3=u+a*ot.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}a1.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const j_=new a1;function ph(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ae extends wc{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ee(0,0,1,1)),e instanceof ae&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=j_,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new $e(o.x,o.y):new $e(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Cn[r.url]&&ae.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ae.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ae(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===j_&&(this._uvs=new a1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=J.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof be){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${_o()}`,be.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${_o()}`}s=e._pixiId}let o=Cn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof be)?(r.resolution||(r.resolution=bi(e)),o=new ae(new be(e,r)),o.baseTexture.cacheId=s,be.addToCache(o.baseTexture,s),ae.addToCache(o,s)):!o&&e instanceof be&&(o=new ae(e),ae.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ae.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ae(be.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new be(e,Object.assign({scaleMode:be.defaultOptions.scaleMode,resolution:bi(r)},i)),{resource:o}=s;o instanceof WA&&(o.url=r);const a=new ae(s);return n||(n=r),be.addToCache(a.baseTexture,n),ae.addToCache(a,n),n!==r&&(be.addToCache(a.baseTexture,r),ae.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Cn[r]&&Cn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Cn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Cn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Cn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Cn[e.textureCacheIds[r]]===e&&delete Cn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,c=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${c}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ae._EMPTY||(ae._EMPTY=new ae(new be),ph(ae._EMPTY),ph(ae._EMPTY.baseTexture)),ae._EMPTY}static get WHITE(){if(!ae._WHITE){const e=J.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ae._WHITE=new ae(be.from(e)),ph(ae._WHITE),ph(ae._WHITE.baseTexture)}return ae._WHITE}}class Ro extends ae{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ro(new VA(e))}}class XA{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=St.NONE){const i=new VA(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ro(i)}getOptimalTexture(e,r,n=1,i=St.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Xd(e),r=Xd(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||St.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}XA.SCREEN_KEY=-1;class lB extends gs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class YA extends gs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new yt(this.vertices),this.uvBuffer=new yt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class uB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=St.NONE,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.bindingSourceFrame=new Ee,this.bindingDestinationFrame=new Ee,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const mh=[new $e,new $e,new $e,new $e],Pm=new nt;class qA{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new XA,this.statePool=[],this.quad=new lB,this.quadUv=new YA,this.tempRect=new Ee,this.activeState={},this.globalUniforms=new vn({outputFrame:new Ee,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new uB,o=n.renderTexture;let a,l;if(o.current){const v=o.current;a=v.resolution,l=v.multisample}else a=n.resolution,l=n.multisample;let u=r[0].resolution||a,c=r[0].multisample??l,d=r[0].padding,h=r[0].autoFit,f=r[0].legacy??!0;for(let v=1;v<r.length;v++){const y=r[v];u=Math.min(u,y.resolution||a),c=Math.min(c,y.multisample??l),d=this.useMaxPadding?Math.max(d,y.padding):d+y.padding,h=h&&y.autoFit,f=f||(y.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=c,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(d);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Pm.copyFrom(n.projection.transform).invert(),m),h?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const p=this.tempRect;p.x=0,p.y=0,p.width=s.sourceFrame.width,p.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,p),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,Fn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,c=this.getOptimalFilterTexture(u.width,u.height,r.resolution);c.filterFrame=u.filterFrame;let d=0;for(d=0;d<n.length-1;++d){d===1&&r.multisample>1&&(c=this.getOptimalFilterTexture(u.width,u.height,r.resolution),c.filterFrame=u.filterFrame),n[d].apply(this,u,c,Fn.CLEAR,r);const h=u;u=c,c=h}n[d].apply(this,u,l.renderTexture,Fn.BLEND,r),d>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(c)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Fn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Fn.CLEAR||r===Fn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(jn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(jn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(nt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=St.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||St.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=mh[0],i=mh[1],s=mh[2],o=mh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),c=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=c-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?Pm.copyFrom(s):Pm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}qA.extension={type:Q.RendererSystem,name:"filter"};le.add(qA);class cB{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=St.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const hB=new Ee;class KA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Zv(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ee,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;J.PREFER_ENV===Po.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Tv.COLOR|Tv.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new cB(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,c._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH_STENCIL):e.depth&&e.stencil?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH24_STENCIL8):e.depth?(l=n.DEPTH_ATTACHMENT,u=n.DEPTH_COMPONENT24):(l=n.STENCIL_ATTACHMENT,u=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,u,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,l,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=St.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=St.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const c=i.colorTextures[0];if(!c)return;l.blitFramebuffer||(l.blitFramebuffer=new Zv(i.width,i.height),l.blitFramebuffer.addColorTexture(0,c)),e=l.blitFramebuffer,e.colorTextures[0]!==c&&(e.colorTextures[0]=c,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=hB,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,l;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,n,i):s.renderbufferStorage(s.RENDERBUFFER,l,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ee}destroy(){this.renderer=null}}KA.extension={type:Q.RendererSystem,name:"framebuffer"};le.add(KA);const Rm={5126:4,5123:2,5121:1};class QA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;J.PREFER_ENV===Po.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let c=u[l];if(c)return u[a.id]=c,c;const d=e.buffers,h=e.attributes,f={},m={};for(const p in d)f[p]=0,m[p]=0;for(const p in h)!h[p].size&&a.attributeData[p]?h[p].size=a.attributeData[p].size:h[p].size||console.warn(`PIXI Geometry attribute '${p}' size cannot be determined (likely the bound shader does not have the attribute)`),f[h[p].buffer]+=h[p].size*Rm[h[p].type];for(const p in h){const v=h[p],y=v.size;v.stride===void 0&&(f[v.buffer]===y*Rm[v.type]?v.stride=0:v.stride=f[v.buffer]),v.start===void 0&&(v.start=m[v.buffer],m[v.buffer]+=y*Rm[v.type])}c=i.createVertexArray(),i.bindVertexArray(c);for(let p=0;p<d.length;p++){const v=d[p];o.bind(v),n&&v._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=c,u[l]=c,i.bindVertexArray(null),o.unbind(Hn.ARRAY_BUFFER),c}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const c=a[u],d=o[c.buffer],h=d._glBuffers[i];if(r.attributeData[u]){l!==h&&(s.bind(d),l=h);const f=r.attributeData[u].location;if(n.enableVertexAttribArray(f),n.vertexAttribPointer(f,c.size,c.type||n.FLOAT,c.normalized,c.stride,c.start),c.instance)if(this.hasInstance)n.vertexAttribDivisor(f,c.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}QA.extension={type:Q.RendererSystem,name:"geometry"};le.add(QA);const $_=new nt;class ZA{constructor(e,r){this._texture=e,this.mapCoord=new nt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&($_.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append($_));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var dB=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,fB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class pB extends rr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||fB,r||dB,n),this.maskSprite=i,this.maskMatrix=new nt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new ZA(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class mB{constructor(e=null){this.type=Rt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=rr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Rt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class JA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new mB;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Rt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Rt.SCISSOR:this.renderer.scissor.push(n);break;case Rt.STENCIL:this.renderer.stencil.push(n);break;case Rt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Rt.COLOR:this.pushColorMask(n);break}n.type===Rt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Rt.SCISSOR:this.renderer.scissor.pop(r);break;case Rt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Rt.SPRITE:this.popSpriteMask(r);break;case Rt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Rt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Rt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Rt.SCISSOR:e.type=Rt.STENCIL:e.type=Rt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new pB])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}JA.extension={type:Q.RendererSystem,name:"mask"};le.add(JA);class eP{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const z_=new nt,G_=[],tP=class rd extends eP{constructor(e){super(e),this.glConst=J.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,G_.pop()??new Ee);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||rd.isMatrixRotated(r.worldTransform)||rd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){rd.isMatrixRotated(s)||(s=s?z_.copyFrom(s):z_.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&G_.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};tP.extension={type:Q.RendererSystem,name:"scissor"};let gB=tP;le.add(gB);class rP extends eP{constructor(e){super(e),this.glConst=J.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}rP.extension={type:Q.RendererSystem,name:"stencil"};le.add(rP);class nP{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Oe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}nP.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_plugin"};le.add(nP);class iP{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new nt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}iP.extension={type:Q.RendererSystem,name:"projection"};le.add(iP);const vB=new o1,H_=new Ee;class sP{constructor(e){this.renderer=e,this._tempMatrix=new nt}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(H_))||e.getLocalBounds(H_,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=Ro.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=vB,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}sP.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"textureGenerator"};le.add(sP);const Ds=new Ee,Ll=new Ee;class oP{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.viewportFrame=new Ee}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ds.width=e.frame.width,Ds.height=e.frame.height,r=Ds),n||(Ll.x=e.frame.x,Ll.y=e.frame.y,Ll.width=r.width,Ll.height=r.height,n=Ll),o=s.framebuffer):(a=i.resolution,r||(Ds.width=i._view.screen.width,Ds.height=i._view.screen.height,r=Ds),n||(n=Ds,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=tt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:c,height:d}=this.viewportFrame;l=Math.round(l),u=Math.round(u),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,c,d)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}oP.extension={type:Q.RendererSystem,name:"renderTexture"};le.add(oP);class yB{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function xB(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=GA(e,s.type),a={type:o,name:s.name,size:zA(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function wB(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=GA(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:jA(l,s.size)}}return r}function _B(t,e){var a;const r=k_(t,t.VERTEX_SHADER,e.vertexSrc),n=k_(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||K4(t,i,r,n),e.attributeData=xB(i,t),e.uniformData=wB(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,c)=>u>c?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(i,u,l[u]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const l in e.uniformData){const u=e.uniformData[l];o[l]={location:t.getUniformLocation(i,l),value:jA(u.type,u.size)}}return new yB(i,o)}function bB(t,e,r,n,i){r.buffer.update(i)}const SB={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},aP={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function EB(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=aP[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function TB(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function CB(t,e){if(!t.autoManage)return{size:0,syncFunc:bB};const r=TB(t.uniforms,e),{uboElements:n,size:i}=EB(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let c=!1;for(let d=0;d<Ia.length;d++){const h=Ia[d];if(h.codeUbo&&h.test(a.data,l)){s.push(`offset = ${a.offset/4};`,Ia[d].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){const d=zA(a.data.type),h=Math.max(aP[a.data.type]/16,1),f=d/h,m=(4-f%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*h}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${m};
                }

                `)}else{const d=SB[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${d};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let AB=0;const gh={textureCount:0,uboCount:0};class lP{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=AB++}systemCheck(){if(!Z4())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(gh.textureCount=0,gh.uboCount=0,this.syncUniformGroup(e.uniformGroup,gh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=X4(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,gh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=CB(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=_B(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}lP.extension={type:Q.RendererSystem,name:"shader"};le.add(lP);class Zd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Zd.defaultOptions={hello:!1},Zd.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"startup"};le.add(Zd);function PB(t,e=[]){return e[ve.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD]=[t.ONE,t.ONE],e[ve.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.NONE]=[0,0],e[ve.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ve.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ve.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ve.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ve.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ve.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ve.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const RB=0,IB=1,MB=2,OB=3,DB=4,LB=5,uP=class Jv{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ve.NONE,this._blendEq=!1,this.map=[],this.map[RB]=this.setBlend,this.map[IB]=this.setOffset,this.map[MB]=this.setCullFace,this.map[OB]=this.setDepthTest,this.map[DB]=this.setFrontFace,this.map[LB]=this.setDepthMask,this.checks=[],this.defaultState=new qn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=PB(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Jv.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Jv.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};uP.extension={type:Q.RendererSystem,name:"state"};let kB=uP;le.add(kB);class NB extends wc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new gn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const ql=class nd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=nd.defaultMaxIdle,this.checkCountMax=nd.defaultCheckCountMax,this.mode=nd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Qy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};ql.defaultMode=Qy.AUTO,ql.defaultMaxIdle=60*60,ql.defaultCheckCountMax=60*10,ql.extension={type:Q.RendererSystem,name:"textureGC"};let zs=ql;le.add(zs);class Im{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=he.UNSIGNED_BYTE,this.internalFormat=Y.RGBA,this.samplerType=0}}function FB(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Z.FLOAT,[t.RGBA]:Z.FLOAT,[t.ALPHA]:Z.FLOAT,[t.LUMINANCE]:Z.FLOAT,[t.LUMINANCE_ALPHA]:Z.FLOAT,[t.R8]:Z.FLOAT,[t.R8_SNORM]:Z.FLOAT,[t.RG8]:Z.FLOAT,[t.RG8_SNORM]:Z.FLOAT,[t.RGB8]:Z.FLOAT,[t.RGB8_SNORM]:Z.FLOAT,[t.RGB565]:Z.FLOAT,[t.RGBA4]:Z.FLOAT,[t.RGB5_A1]:Z.FLOAT,[t.RGBA8]:Z.FLOAT,[t.RGBA8_SNORM]:Z.FLOAT,[t.RGB10_A2]:Z.FLOAT,[t.RGB10_A2UI]:Z.FLOAT,[t.SRGB8]:Z.FLOAT,[t.SRGB8_ALPHA8]:Z.FLOAT,[t.R16F]:Z.FLOAT,[t.RG16F]:Z.FLOAT,[t.RGB16F]:Z.FLOAT,[t.RGBA16F]:Z.FLOAT,[t.R32F]:Z.FLOAT,[t.RG32F]:Z.FLOAT,[t.RGB32F]:Z.FLOAT,[t.RGBA32F]:Z.FLOAT,[t.R11F_G11F_B10F]:Z.FLOAT,[t.RGB9_E5]:Z.FLOAT,[t.R8I]:Z.INT,[t.R8UI]:Z.UINT,[t.R16I]:Z.INT,[t.R16UI]:Z.UINT,[t.R32I]:Z.INT,[t.R32UI]:Z.UINT,[t.RG8I]:Z.INT,[t.RG8UI]:Z.UINT,[t.RG16I]:Z.INT,[t.RG16UI]:Z.UINT,[t.RG32I]:Z.INT,[t.RG32UI]:Z.UINT,[t.RGB8I]:Z.INT,[t.RGB8UI]:Z.UINT,[t.RGB16I]:Z.INT,[t.RGB16UI]:Z.UINT,[t.RGB32I]:Z.INT,[t.RGB32UI]:Z.UINT,[t.RGBA8I]:Z.INT,[t.RGBA8UI]:Z.UINT,[t.RGBA16I]:Z.INT,[t.RGBA16UI]:Z.UINT,[t.RGBA32I]:Z.INT,[t.RGBA32UI]:Z.UINT,[t.DEPTH_COMPONENT16]:Z.FLOAT,[t.DEPTH_COMPONENT24]:Z.FLOAT,[t.DEPTH_COMPONENT32F]:Z.FLOAT,[t.DEPTH_STENCIL]:Z.FLOAT,[t.DEPTH24_STENCIL8]:Z.FLOAT,[t.DEPTH32F_STENCIL8]:Z.FLOAT}:e={[t.RGB]:Z.FLOAT,[t.RGBA]:Z.FLOAT,[t.ALPHA]:Z.FLOAT,[t.LUMINANCE]:Z.FLOAT,[t.LUMINANCE_ALPHA]:Z.FLOAT,[t.DEPTH_STENCIL]:Z.FLOAT},e}function BB(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[he.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA8,[Y.RGB]:t.RGB8,[Y.RG]:t.RG8,[Y.RED]:t.R8,[Y.RGBA_INTEGER]:t.RGBA8UI,[Y.RGB_INTEGER]:t.RGB8UI,[Y.RG_INTEGER]:t.RG8UI,[Y.RED_INTEGER]:t.R8UI,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[he.BYTE]:{[Y.RGBA]:t.RGBA8_SNORM,[Y.RGB]:t.RGB8_SNORM,[Y.RG]:t.RG8_SNORM,[Y.RED]:t.R8_SNORM,[Y.RGBA_INTEGER]:t.RGBA8I,[Y.RGB_INTEGER]:t.RGB8I,[Y.RG_INTEGER]:t.RG8I,[Y.RED_INTEGER]:t.R8I},[he.UNSIGNED_SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16UI,[Y.RGB_INTEGER]:t.RGB16UI,[Y.RG_INTEGER]:t.RG16UI,[Y.RED_INTEGER]:t.R16UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[he.SHORT]:{[Y.RGBA_INTEGER]:t.RGBA16I,[Y.RGB_INTEGER]:t.RGB16I,[Y.RG_INTEGER]:t.RG16I,[Y.RED_INTEGER]:t.R16I},[he.UNSIGNED_INT]:{[Y.RGBA_INTEGER]:t.RGBA32UI,[Y.RGB_INTEGER]:t.RGB32UI,[Y.RG_INTEGER]:t.RG32UI,[Y.RED_INTEGER]:t.R32UI,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[he.INT]:{[Y.RGBA_INTEGER]:t.RGBA32I,[Y.RGB_INTEGER]:t.RGB32I,[Y.RG_INTEGER]:t.RG32I,[Y.RED_INTEGER]:t.R32I},[he.FLOAT]:{[Y.RGBA]:t.RGBA32F,[Y.RGB]:t.RGB32F,[Y.RG]:t.RG32F,[Y.RED]:t.R32F,[Y.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[he.HALF_FLOAT]:{[Y.RGBA]:t.RGBA16F,[Y.RGB]:t.RGB16F,[Y.RG]:t.RG16F,[Y.RED]:t.R16F},[he.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB565},[he.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA4},[he.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGB5_A1},[he.UNSIGNED_INT_2_10_10_10_REV]:{[Y.RGBA]:t.RGB10_A2,[Y.RGBA_INTEGER]:t.RGB10_A2UI},[he.UNSIGNED_INT_10F_11F_11F_REV]:{[Y.RGB]:t.R11F_G11F_B10F},[he.UNSIGNED_INT_5_9_9_9_REV]:{[Y.RGB]:t.RGB9_E5},[he.UNSIGNED_INT_24_8]:{[Y.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[he.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Y.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[he.UNSIGNED_BYTE]:{[Y.RGBA]:t.RGBA,[Y.RGB]:t.RGB,[Y.ALPHA]:t.ALPHA,[Y.LUMINANCE]:t.LUMINANCE,[Y.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[he.UNSIGNED_SHORT_5_6_5]:{[Y.RGB]:t.RGB},[he.UNSIGNED_SHORT_4_4_4_4]:{[Y.RGBA]:t.RGBA},[he.UNSIGNED_SHORT_5_5_5_1]:{[Y.RGBA]:t.RGBA}},e}class cP{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new be,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=BB(e),this.samplerTypes=FB(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Im(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Im(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Z.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Im(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Z.FLOAT,this.webGLVersion===2&&e.type===he.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==Z.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ra(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Xn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=hs.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Xn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ui.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ui.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}cP.extension={type:Q.RendererSystem,name:"texture"};le.add(cP);class hP{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}hP.extension={type:Q.RendererSystem,name:"transformFeedback"};le.add(hP);class Jd{constructor(e){this.renderer=e}init(e){this.screen=new Ee(0,0,e.width,e.height),this.element=e.view||J.ADAPTER.createCanvas(),this.resolution=e.resolution||J.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Jd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Jd.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_view"};le.add(Jd);J.PREFER_ENV=Po.WEBGL2;J.STRICT_TEXTURE_CACHE=!1;J.RENDER_OPTIONS={...Qd.defaultOptions,...Kd.defaultOptions,...Jd.defaultOptions,...Zd.defaultOptions};Object.defineProperties(J,{WRAP_MODE:{get(){return be.defaultOptions.wrapMode},set(t){Oe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),be.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return be.defaultOptions.scaleMode},set(t){Oe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),be.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return be.defaultOptions.mipmap},set(t){Oe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),be.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return be.defaultOptions.anisotropicLevel},set(t){Oe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),be.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Oe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),rr.defaultResolution},set(t){rr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Oe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),rr.defaultMultisample},set(t){rr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return $s.defaultMaxTextures},set(t){Oe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),$s.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return $s.defaultBatchSize},set(t){Oe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),$s.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return $s.canUploadSameBuffer},set(t){Oe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),$s.canUploadSameBuffer=t}},GC_MODE:{get(){return zs.defaultMode},set(t){Oe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),zs.defaultMode=t}},GC_MAX_IDLE:{get(){return zs.defaultMaxIdle},set(t){Oe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),zs.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return zs.defaultCheckCountMax},set(t){Oe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),zs.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return di.defaultVertexPrecision},set(t){Oe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),di.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return di.defaultFragmentPrecision},set(t){Oe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),di.defaultFragmentPrecision=t}}});var bo=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(bo||{});class Mm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const dP=class _r{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Mm(null,null,1/0),this.deltaMS=1/_r.targetFPMS,this.elapsedMS=1/_r.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=bo.NORMAL){return this._addListener(new Mm(e,r,n))}addOnce(e,r,n=bo.NORMAL){return this._addListener(new Mm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*_r.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,_r.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!_r._shared){const e=_r._shared=new _r;e.autoStart=!0,e._protected=!0}return _r._shared}static get system(){if(!_r._system){const e=_r._system=new _r;e.autoStart=!0,e._protected=!0}return _r._system}};dP.targetFPMS=.06;let Ar=dP;Object.defineProperties(J,{TARGET_FPMS:{get(){return Ar.targetFPMS},set(t){Oe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ar.targetFPMS=t}}});class fP{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,bo.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ar.shared:new Ar,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}fP.extension=Q.Application;le.add(fP);const pP=[];le.handleByList(Q.Renderer,pP);function UB(t){for(const e of pP)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var jB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$B=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const zB=jB,mP=$B;class gP{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=St.HIGH?this.multisample=St.HIGH:r>=St.MEDIUM?this.multisample=St.MEDIUM:r>=St.LOW?this.multisample=St.LOW:this.multisample=St.NONE}destroy(){}}gP.extension={type:Q.RendererSystem,name:"_multisample"};le.add(gP);class GB{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class vP{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new GB(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}vP.extension={type:Q.RendererSystem,name:"buffer"};le.add(vP);class yP{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}yP.extension={type:Q.RendererSystem,name:"objectRenderer"};le.add(yP);const id=class e0 extends NB{constructor(e){super(),this.type=sA.WEBGL,e=Object.assign({},J.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new vn({projectionMatrix:new nt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Oe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=e0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:d4()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Oe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Oe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Oe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Oe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Oe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Oe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};id.extension={type:Q.Renderer,priority:1},id.__plugins={},id.__systems={};let l1=id;le.handleByMap(Q.RendererPlugin,l1.__plugins);le.handleByMap(Q.RendererSystem,l1.__systems);le.add(l1);class xP extends Ju{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new be;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ju?this.addResourceAt(e[n],n):this.addResourceAt(FA(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class HB extends xP{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ca.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class VB extends Si{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const wP=class Kl extends xP{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==Kl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<Kl.SIDES;a++)this.items[a].target=Ca.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=Ca.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Ca.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<Kl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Kl.SIDES}};wP.SIDES=6;let WB=wP;class pa extends Si{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=pa.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await J.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===pr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return pa._EMPTY=pa._EMPTY??J.ADAPTER.createCanvas(0,0),pa._EMPTY}}const t0=class sd extends Si{constructor(e,r){r=r||{},super(J.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},sd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Si.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${_o()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=sd.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&sd.SVG_XML.test(e)}};t0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let r0=t0;class XB extends Si{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const n0=class i0 extends Si{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Si.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:l}=e[s];if(a=a||e[s],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const u=a.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);l=l||i0.MIME_TYPES[c]||`video/${c}`}o.src=a,l&&(o.type=l),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Ar.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ar.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ar.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ar.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||i0.TYPES.includes(r)}};n0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],n0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let _P=n0;Hv.push(pa,WA,VB,_P,XB,r0,Kf,WB,HB);class ef{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ee.EMPTY:(e=e||new Ee(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,c=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,c=e.tx,d=e.ty;let h=this.minX,f=this.minY,m=this.maxX,p=this.maxY,v=o*r+l*n+c,y=a*r+u*n+d;h=v<h?v:h,f=y<f?y:f,m=v>m?v:m,p=y>p?y:p,v=o*i+l*n+c,y=a*i+u*n+d,h=v<h?v:h,f=y<f?y:f,m=v>m?v:m,p=y>p?y:p,v=o*r+l*s+c,y=a*r+u*s+d,h=v<h?v:h,f=y<f?y:f,m=v>m?v:m,p=y>p?y:p,v=o*i+l*s+c,y=a*i+u*s+d,h=v<h?v:h,f=y<f?y:f,m=v>m?v:m,p=y>p?y:p,this.minX=h,this.minY=f,this.maxX=m,this.maxY=p}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],c=e[l+1];i=u<i?u:i,s=c<s?c:s,o=u>o?u:o,a=c>a?c:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,c=e.d,d=e.tx,h=e.ty;let f=this.minX,m=this.minY,p=this.maxX,v=this.maxY;for(let y=n;y<i;y+=2){const x=r[y],g=r[y+1],w=a*x+u*g+d,b=c*g+l*x+h;f=Math.min(f,w-s),p=Math.max(p,w+s),m=Math.min(m,b-o),v=Math.max(v,b+o)}this.minX=f,this.minY=m,this.maxX=p,this.maxY=v}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,c=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>c?o:c}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ht extends wc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new o1,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new ef,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ht.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ee),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds||(this._localBounds=new ef);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new YB),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*j4}set angle(e){this.transform.rotation=e*$4}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class YB extends ht{constructor(){super(...arguments),this.sortDirty=null}}ht.prototype.displayObjectUpdateTransform=ht.prototype.updateTransform;const qB=new nt;function KB(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const bP=class s0 extends ht{constructor(){super(),this.children=[],this.sortableChildren=s0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Ra(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Ra(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Ra(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(KB),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==s0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=qB.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Rt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};bP.defaultSortableChildren=!1;let wn=bP;wn.prototype.containerUpdateTransform=wn.prototype.updateTransform;Object.defineProperties(J,{SORTABLE_CHILDREN:{get(){return wn.defaultSortableChildren},set(t){Oe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),wn.defaultSortableChildren=t}}});var tp=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(tp||{});const kl=new $e,QB=new Uint16Array([0,1,2,0,2,3]);class fl extends wn{constructor(e){super(),this._anchor=new hi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new tt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ve.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ae.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=QB,this.pluginName="batch",this.isSprite=!0,this._roundPixels=J.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Zi(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Zi(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,c=e.trim,d=e.orig,h=this._anchor;let f=0,m=0,p=0,v=0;if(c?(m=c.x-h._x*d.width,f=m+c.width,v=c.y-h._y*d.height,p=v+c.height):(m=-h._x*d.width,f=m+d.width,v=-h._y*d.height,p=v+d.height),u[0]=n*m+s*v+a,u[1]=o*v+i*m+l,u[2]=n*f+s*v+a,u[3]=o*v+i*f+l,u[4]=n*f+s*p+a,u[5]=o*p+i*f+l,u[6]=n*m+s*p+a,u[7]=o*p+i*m+l,this._roundPixels){const y=J.RESOLUTION;for(let x=0;x<u.length;++x)u[x]=Math.round(u[x]*y)/y}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,d=s.ty,h=-i._x*n.width,f=h+n.width,m=-i._y*n.height,p=m+n.height;if(r[0]=o*h+l*m+c,r[1]=u*m+a*h+d,r[2]=o*f+l*m+c,r[3]=u*m+a*f+d,r[4]=o*f+l*p+c,r[5]=u*p+a*f+d,r[6]=o*h+l*p+c,r[7]=u*p+a*h+d,this._roundPixels){const v=J.RESOLUTION;for(let y=0;y<r.length;++y)r[y]=Math.round(r[y]*v)/v}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new ef),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,kl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return kl.x>=i&&kl.x<i+r&&(s=-n*this.anchor.y,kl.y>=s&&kl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ae?e:ae.from(e,r);return new fl(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Zi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Zi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ae.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const vh={willReadFrequently:!0},An=class ue{static get experimentalLetterSpacingSupported(){let e=ue._experimentalLetterSpacingSupported;if(e!==void 0){const r=J.ADAPTER.getCanvasRenderingContext2D().prototype;e=ue._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,n,i=ue._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=ue.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",vh);a.font=s;const l=(n?ue.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let c=0;for(let m=0;m<l.length;m++){const p=ue._measureText(l[m],r.letterSpacing,a);u[m]=p,c=Math.max(c,p)}let d=c+r.strokeThickness;r.dropShadow&&(d+=r.dropShadowDistance);const h=r.lineHeight||o.fontSize+r.strokeThickness;let f=Math.max(h,o.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(h+r.leading);return r.dropShadow&&(f+=r.dropShadowDistance),new ue(e,r,d,f,l,u,h+r.leading,c,o)}static _measureText(e,r,n){let i=!1;ue.experimentalLetterSpacingSupported&&(ue.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(ue.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=ue._canvas){const i=n.getContext("2d",vh);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=r,d=ue.collapseSpaces(c),h=ue.collapseNewlines(c);let f=!d;const m=r.wordWrapWidth+u,p=ue.tokenize(e);for(let v=0;v<p.length;v++){let y=p[v];if(ue.isNewline(y)){if(!h){a+=ue.addLine(o),f=!d,o="",s=0;continue}y=" "}if(d){const g=ue.isBreakingSpace(y),w=ue.isBreakingSpace(o[o.length-1]);if(g&&w)continue}const x=ue.getFromCache(y,u,l,i);if(x>m)if(o!==""&&(a+=ue.addLine(o),o="",s=0),ue.canBreakWords(y,r.breakWords)){const g=ue.wordWrapSplit(y);for(let w=0;w<g.length;w++){let b=g[w],_=b,E=1;for(;g[w+E];){const A=g[w+E];if(!ue.canBreakChars(_,A,y,w,r.breakWords))b+=A;else break;_=A,E++}w+=E-1;const C=ue.getFromCache(b,u,l,i);C+s>m&&(a+=ue.addLine(o),f=!1,o="",s=0),o+=b,s+=C}}else{o.length>0&&(a+=ue.addLine(o),o="",s=0);const g=v===p.length-1;a+=ue.addLine(y,!g),f=!1,o="",s=0}else x+s>m&&(f=!1,a+=ue.addLine(o),o="",s=0),(o.length>0||!ue.isBreakingSpace(y)||f)&&(o+=y,s+=x)}return a+=ue.addLine(o,!1),a}static addLine(e,r=!0){return e=ue.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=ue._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!ue.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ue._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:ue._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(ue.isBreakingSpace(s,o)||ue.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return ue.graphemeSegmenter(e)}static measureFont(e){if(ue._fonts[e])return ue._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=ue._canvas,i=ue._context;i.font=e;const s=ue.METRICS_STRING+ue.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(ue.BASELINE_SYMBOL).width);const l=Math.ceil(ue.HEIGHT_MULTIPLIER*a);if(a=a*ue.BASELINE_MULTIPLIER|0,o===0||l===0)return ue._fonts[e]=r,r;n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const u=i.getImageData(0,0,o,l).data,c=u.length,d=o*4;let h=0,f=0,m=!1;for(h=0;h<a;++h){for(let p=0;p<d;p+=4)if(u[f+p]!==255){m=!0;break}if(!m)f+=d;else break}for(r.ascent=a-h,f=c-d,m=!1,h=l;h>a;--h){for(let p=0;p<d;p+=4)if(u[f+p]!==255){m=!0;break}if(!m)f-=d;else break}return r.descent=h-a,r.fontSize=r.ascent+r.descent,ue._fonts[e]=r,r}static clearMetrics(e=""){e?delete ue._fonts[e]:ue._fonts={}}static get _canvas(){var e;if(!ue.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",vh))!=null&&e.measureText)return ue.__canvas=n,n;r=J.ADAPTER.createCanvas()}catch{r=J.ADAPTER.createCanvas()}r.width=r.height=10,ue.__canvas=r}return ue.__canvas}static get _context(){return ue.__context||(ue.__context=ue._canvas.getContext("2d",vh)),ue.__context}};An.METRICS_STRING="|q",An.BASELINE_SYMBOL="M",An.BASELINE_MULTIPLIER=1.4,An.HEIGHT_MULTIPLIER=2,An.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),An.experimentalLetterSpacing=!1,An._fonts={},An._newlines=[10,13],An._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let ki=An;const ZB=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],SP=class Ql{constructor(e){this.styleID=0,this.reset(),Dm(this,e,e)}clone(){const e={};return Dm(e,this,Ql.defaultStyle),new Ql(e)}reset(){Dm(this,Ql.defaultStyle,Ql.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Om(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Om(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){JB(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Om(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!ZB.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};SP.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:tp.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let vs=SP;function Om(t){const e=tt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function JB(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Dm(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const e5={texture:!0,children:!1,baseTexture:!0},EP=class o0 extends fl{constructor(e,r,n){let i=!1;n||(n=J.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ae.from(n);s.orig=new Ee,s.trim=new Ee,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=o0.defaultResolution??J.RESOLUTION,this._autoResolution=o0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return ki.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Oe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ki.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=ki.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,l=i.lineHeight,u=i.lineWidths,c=i.maxLineWidth,d=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let h,f;const m=r.dropShadow?2:1;for(let p=0;p<m;++p){const v=r.dropShadow&&p===0,y=v?Math.ceil(Math.max(1,o)+r.padding*2):0,x=y*this._resolution;if(v){n.fillStyle="black",n.strokeStyle="black";const w=r.dropShadowColor,b=r.dropShadowBlur*this._resolution,_=r.dropShadowDistance*this._resolution;n.shadowColor=tt.shared.setValue(w).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=b,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*_,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*_+x}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let g=(l-d.fontSize)/2;l-d.fontSize<0&&(g=0);for(let w=0;w<a.length;w++)h=r.strokeThickness/2,f=r.strokeThickness/2+w*l+d.ascent+g,r.align==="right"?h+=c-u[w]:r.align==="center"&&(h+=(c-u[w])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[w],h+r.padding,f+r.padding-y,!0),r.fill&&this.drawLetterSpacing(a[w],h+r.padding,f+r.padding-y)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(ki.experimentalLetterSpacingSupported&&(ki.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const l=ki.graphemeSegmenter(e);let u=this.context.measureText(e).width,c=0;for(let d=0;d<l.length;++d){const h=l[d];i?this.context.strokeText(h,a,n):this.context.fillText(h,a,n);let f="";for(let m=d+1;m<l.length;++m)f+=l[m];c=this.context.measureText(f).width,a+=u-c+s,u=c}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=R4(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-a*2,u=this.canvas.height/this._resolution-o-a*2,c=i.slice(),d=e.fillGradientStops.slice();if(!d.length){const h=c.length+1;for(let f=1;f<h;++f)d.push(f/h)}if(c.unshift(i[0]),d.unshift(0),c.push(i[i.length-1]),d.push(1),e.fillGradientType===tp.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,a,l/2,u+a);const h=n.fontProperties.fontSize+e.strokeThickness;for(let f=0;f<r.length;f++){const m=n.lineHeight*(f-1)+h,p=n.lineHeight*f;let v=p;f>0&&m>p&&(v=(p+m)/2);const y=p+h,x=n.lineHeight*(f+1);let g=y;f+1<r.length&&x<y&&(g=(y+x)/2);const w=(g-v)/u;for(let b=0;b<c.length;b++){let _=0;typeof d[b]=="number"?_=d[b]:_=b/c.length;let E=Math.min(1,Math.max(0,v/u+_*w));E=Number(E.toFixed(5)),s.addColorStop(E,c[b])}}}else{s=this.context.createLinearGradient(a,u/2,l+a,u/2);const h=c.length+1;let f=1;for(let m=0;m<c.length;m++){let p;typeof d[m]=="number"?p=d[m]:p=f/h,s.addColorStop(p,c[m]),f++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},e5,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Zi(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Zi(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof vs?this._style=e:this._style=new vs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};EP.defaultAutoResolution=!0;let TP=EP;class tf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class od{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const c=a[u].split("="),d=c[0],h=c[1].replace(/"/gm,""),f=parseFloat(h),m=isNaN(f)?h:f;l[d]=m}n[o].push(l)}const i=new tf;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class a0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new tf,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const c=o[u];r.char.push({id:parseInt(c.getAttribute("id"),10),page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xoffset:parseInt(c.getAttribute("xoffset"),10),yoffset:parseInt(c.getAttribute("yoffset"),10),xadvance:parseInt(c.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class l0{static test(e){return typeof e=="string"&&e.includes("<font>")?a0.test(J.ADAPTER.parseXML(e)):!1}static parse(e){return a0.parse(J.ADAPTER.parseXML(e))}}const Lm=[od,a0,l0];function t5(t){for(let e=0;e<Lm.length;e++)if(Lm[e].test(t))return Lm[e];return null}function r5(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=t.width/n-l-u*2,d=t.height/n-l-u*2,h=o.slice(),f=r.fillGradientStops.slice();if(!f.length){const m=h.length+1;for(let p=1;p<m;++p)f.push(p/m)}if(h.unshift(o[0]),f.unshift(0),h.push(o[o.length-1]),f.push(1),r.fillGradientType===tp.LINEAR_VERTICAL){a=e.createLinearGradient(c/2,u,c/2,d+u);let m=0;const p=(s.fontProperties.fontSize+r.strokeThickness)/d;for(let v=0;v<i.length;v++){const y=s.lineHeight*v;for(let x=0;x<h.length;x++){let g=0;typeof f[x]=="number"?g=f[x]:g=x/h.length;const w=y/d+g*p;let b=Math.max(m,w);b=Math.min(b,1),a.addColorStop(b,h[x]),m=b}}}else{a=e.createLinearGradient(u,d/2,c+u,d/2);const m=h.length+1;let p=1;for(let v=0;v<h.length;v++){let y;typeof f[v]=="number"?y=f[v]:y=p/m,a.addColorStop(y,h[v]),p++}}return a}function n5(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,c=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=r5(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const d=o.dropShadowColor,h=o.dropShadowBlur*s,f=o.dropShadowDistance*s;e.shadowColor=tt.shared.setValue(d).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=h,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,c+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,c+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ad(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function CP(t){return Array.from?Array.from(t):t.split("")}function i5(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...CP(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Ii=class Pn{constructor(e,r,n){var c;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=bi(o.file),u={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let d=0;d<e.page.length;d++){const{id:h,file:f}=e.page[d];u[h]=r instanceof Array?r[d]:r[f],a!=null&&a.fieldType&&a.fieldType!=="none"&&(u[h].baseTexture.alphaMode=pr.NO_PREMULTIPLIED_ALPHA,u[h].baseTexture.mipmap=Xn.OFF)}for(let d=0;d<e.char.length;d++){const{id:h,page:f}=e.char[d];let{x:m,y:p,width:v,height:y,xoffset:x,yoffset:g,xadvance:w}=e.char[d];m/=l,p/=l,v/=l,y/=l,x/=l,g/=l,w/=l;const b=new Ee(m+u[f].frame.x/l,p+u[f].frame.y/l,v,y);this.chars[h]={xOffset:x,yOffset:g,xAdvance:w,kerning:{},texture:new ae(u[f].baseTexture,b),page:f}}for(let d=0;d<e.kerning.length;d++){let{first:h,second:f,amount:m}=e.kerning[d];h/=l,f/=l,m/=l,this.chars[f]&&(this.chars[f].kerning[h]=m)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((c=a==null?void 0:a.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof tf)i=e;else{const o=t5(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ae&&(r=[r]);const s=new Pn(i,r,n);return Pn.available[s.font]=s,s}static uninstall(e){const r=Pn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Pn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:l,...u}=Object.assign({},Pn.defaultOptions,n),c=i5(i),d=r instanceof vs?r:new vs(r),h=a,f=new tf;f.info[0]={face:d.fontFamily,size:d.fontSize},f.common[0]={lineHeight:d.fontSize};let m=0,p=0,v,y,x,g=0;const w=[];for(let _=0;_<c.length;_++){v||(v=J.ADAPTER.createCanvas(),v.width=a,v.height=l,y=v.getContext("2d"),x=new be(v,{resolution:o,...u}),w.push(new ae(x)),f.page.push({id:w.length-1,file:""}));const E=c[_],C=ki.measureText(E,d,!1,v),A=C.width,B=Math.ceil(C.height),N=Math.ceil((d.fontStyle==="italic"?2:1)*A);if(p>=l-B*o){if(p===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${E}')`);--_,v=null,y=null,x=null,p=0,m=0,g=0;continue}if(g=Math.max(B+C.fontProperties.descent,g),N*o+m>=h){if(m===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${E}')`);--_,p+=g*o,p=Math.ceil(p),m=0,g=0;continue}n5(v,y,C,m,p,o,d);const F=ad(C.text);f.char.push({id:F,page:w.length-1,x:m/o,y:p/o,width:N,height:B,xoffset:0,yoffset:0,xadvance:A-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),m+=(N+2*s)*o,m=Math.ceil(m)}if(!(n!=null&&n.skipKerning))for(let _=0,E=c.length;_<E;_++){const C=c[_];for(let A=0;A<E;A++){const B=c[A],N=y.measureText(C).width,F=y.measureText(B).width,D=y.measureText(C+B).width-(N+F);D&&f.kerning.push({first:ad(C),second:ad(B),amount:D})}}const b=new Pn(f,w,!0);return Pn.available[e]!==void 0&&Pn.uninstall(e),Pn.available[e]=b,b}};Ii.ALPHA=[["a","z"],["A","Z"]," "],Ii.NUMERIC=[["0","9"]],Ii.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ii.ASCII=[[" ","~"]],Ii.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ii.ALPHANUMERIC},Ii.available={};let Mi=Ii;class s5{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const km=new $e,V_=new uo,AP=class PP extends wn{constructor(e,r,n,i=jn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||qn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=J.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===jn.TRIANGLES&&r.length<PP.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,c=i.ty,d=this.vertexData;for(let h=0;h<d.length/2;h++){const f=r[h*2],m=r[h*2+1];d[h*2]=s*f+a*m+u,d[h*2+1]=o*f+l*m+c}if(this._roundPixels){const h=J.RESOLUTION;for(let f=0;f<d.length;++f)d[f]=Math.round(d[f]*h)/h}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new s5(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,km);const r=this.geometry.getBuffer("aVertexPosition").data,n=V_.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const l=i[a]*2,u=i[a+1]*2,c=i[a+2]*2;if(n[0]=r[l],n[1]=r[l+1],n[2]=r[u],n[3]=r[u+1],n[4]=r[c],n[5]=r[c+1],V_.contains(km.x,km.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};AP.BATCHABLE_SIZE=100;let W_=AP;class o5 extends gs{constructor(e,r,n){super();const i=new yt(e),s=new yt(r,!0),o=new yt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,he.FLOAT).addAttribute("aTextureCoord",s,2,!1,he.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var a5=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,l5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class X_ extends Vn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:nt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||di.from(l5,a5),n),this._colorDirty=!1,this.uvMatrix=new ZA(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new tt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;tt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var u5=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,c5=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const Y_=[],q_=[],K_=[],h5=class RP extends wn{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},RP.styleDefaults,r);if(!Mi.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new tt(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new hi(()=>{this.dirty=!0},this,0,0),this._roundPixels=J.ROUND_PIXELS,this.dirty=!0,this._resolution=J.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var N;const e=Mi.available[this._fontName],r=this.fontSize,n=r/e.size,i=new $e,s=[],o=[],a=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=CP(l),c=this._maxWidth*e.size/r,d=e.distanceFieldType==="none"?Y_:q_;let h=null,f=0,m=0,p=0,v=-1,y=0,x=0,g=0,w=0;for(let F=0;F<u.length;F++){const D=u[F],M=ad(D);if(/(?:\s)/.test(D)&&(v=F,y=f,w++),D==="\r"||D===`
`){o.push(f),a.push(-1),m=Math.max(m,f),++p,++x,i.x=0,i.y+=e.lineHeight,h=null,w=0;continue}const S=e.chars[M];if(!S)continue;h&&S.kerning[h]&&(i.x+=S.kerning[h]);const I=K_.pop()||{texture:ae.EMPTY,line:0,charCode:0,prevSpaces:0,position:new $e};I.texture=S.texture,I.line=p,I.charCode=M,I.position.x=Math.round(i.x+S.xOffset+this._letterSpacing/2),I.position.y=Math.round(i.y+S.yOffset),I.prevSpaces=w,s.push(I),f=I.position.x+Math.max(S.xAdvance-S.xOffset,S.texture.orig.width),i.x+=S.xAdvance+this._letterSpacing,g=Math.max(g,S.yOffset+S.texture.height),h=M,v!==-1&&c>0&&i.x>c&&(++x,Ra(s,1+v-x,1+F-v),F=v,v=-1,o.push(y),a.push(s.length>0?s[s.length-1].prevSpaces:0),m=Math.max(m,y),p++,i.x=0,i.y+=e.lineHeight,h=null,w=0)}const b=u[u.length-1];b!=="\r"&&b!==`
`&&(/(?:\s)/.test(b)&&(f=y),o.push(f),m=Math.max(m,f),a.push(-1));const _=[];for(let F=0;F<=p;F++){let D=0;this._align==="right"?D=m-o[F]:this._align==="center"?D=(m-o[F])/2:this._align==="justify"&&(D=a[F]<0?0:(m-o[F])/a[F]),_.push(D)}const E=s.length,C={},A=[],B=this._activePagesMeshData;d.push(...B);for(let F=0;F<E;F++){const D=s[F].texture,M=D.baseTexture.uid;if(!C[M]){let S=d.pop();if(!S){const L=new o5;let R,U;e.distanceFieldType==="none"?(R=new X_(ae.EMPTY),U=ve.NORMAL):(R=new X_(ae.EMPTY,{program:di.from(c5,u5),uniforms:{uFWidth:0}}),U=ve.NORMAL_NPM);const O=new W_(L,R);O.blendMode=U,S={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:O,vertices:null,uvs:null,indices:null}}S.index=0,S.indexCount=0,S.vertexCount=0,S.uvsCount=0,S.total=0;const{_textureCache:I}=this;I[M]=I[M]||new ae(D.baseTexture),S.mesh.texture=I[M],S.mesh.tint=this._tintColor.value,A.push(S),C[M]=S}C[M].total++}for(let F=0;F<B.length;F++)A.includes(B[F])||this.removeChild(B[F].mesh);for(let F=0;F<A.length;F++)A[F].mesh.parent!==this&&this.addChild(A[F].mesh);this._activePagesMeshData=A;for(const F in C){const D=C[F],M=D.total;if(!(((N=D.indices)==null?void 0:N.length)>6*M)||D.vertices.length<W_.BATCHABLE_SIZE*2)D.vertices=new Float32Array(4*2*M),D.uvs=new Float32Array(4*2*M),D.indices=new Uint16Array(6*M);else{const S=D.total,I=D.vertices;for(let L=S*4*2;L<I.length;L++)I[L]=0}D.mesh.size=6*M}for(let F=0;F<E;F++){const D=s[F];let M=D.position.x+_[D.line]*(this._align==="justify"?D.prevSpaces:1);this._roundPixels&&(M=Math.round(M));const S=M*n,I=D.position.y*n,L=D.texture,R=C[L.baseTexture.uid],U=L.frame,O=L._uvs,z=R.index++;R.indices[z*6+0]=0+z*4,R.indices[z*6+1]=1+z*4,R.indices[z*6+2]=2+z*4,R.indices[z*6+3]=0+z*4,R.indices[z*6+4]=2+z*4,R.indices[z*6+5]=3+z*4,R.vertices[z*8+0]=S,R.vertices[z*8+1]=I,R.vertices[z*8+2]=S+U.width*n,R.vertices[z*8+3]=I,R.vertices[z*8+4]=S+U.width*n,R.vertices[z*8+5]=I+U.height*n,R.vertices[z*8+6]=S,R.vertices[z*8+7]=I+U.height*n,R.uvs[z*8+0]=O.x0,R.uvs[z*8+1]=O.y0,R.uvs[z*8+2]=O.x1,R.uvs[z*8+3]=O.y1,R.uvs[z*8+4]=O.x2,R.uvs[z*8+5]=O.y2,R.uvs[z*8+6]=O.x3,R.uvs[z*8+7]=O.y3}this._textWidth=m*n,this._textHeight=(i.y+e.lineHeight)*n;for(const F in C){const D=C[F];if(this.anchor.x!==0||this.anchor.y!==0){let L=0;const R=this._textWidth*this.anchor.x,U=this._textHeight*this.anchor.y;for(let O=0;O<D.total;O++)D.vertices[L++]-=R,D.vertices[L++]-=U,D.vertices[L++]-=R,D.vertices[L++]-=U,D.vertices[L++]-=R,D.vertices[L++]-=U,D.vertices[L++]-=R,D.vertices[L++]-=U}this._maxLineHeight=g*n;const M=D.mesh.geometry.getBuffer("aVertexPosition"),S=D.mesh.geometry.getBuffer("aTextureCoord"),I=D.mesh.geometry.getIndex();M.data=D.vertices,S.data=D.uvs,I.data=D.indices,M.update(),S.update(),I.update()}for(let F=0;F<s.length;F++)K_.push(s[F]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Mi.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:l}=this.worldTransform,u=Math.sqrt(s*s+o*o),c=Math.sqrt(a*a+l*l),d=(Math.abs(u)+Math.abs(c))/2,h=this.fontSize/i,f=e._view.resolution;for(const m of this._activePagesMeshData)m.mesh.shader.uniforms.uFWidth=d*r*h*f}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Mi.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Mi.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Mi.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Mi.available[this._fontName].distanceFieldType==="none"?Y_:q_;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ae.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};h5.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const Q_={loader:Q.LoadParser,resolver:Q.ResolveParser,cache:Q.CacheParser,detection:Q.DetectionParser};le.handle(Q.Asset,t=>{const e=t.ref;Object.entries(Q_).filter(([r])=>!!e[r]).forEach(([r,n])=>le.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(Q_).filter(r=>!!e[r]).forEach(r=>le.remove(e[r]))});class d5{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function pl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ts(t,e){const r=t.split("?")[0],n=Nt.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const hn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),u0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function IP(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?IP(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function f5(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),IP(t,i,0,r,n)}else n.push(t);return n}const rf=t=>!Array.isArray(t);class p5{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=hn(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ae){const a=r;n.forEach(l=>{a.baseTexture!==ae.EMPTY.baseTexture&&be.addToCache(a.baseTexture,l),ae.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Hs=new p5;class m5{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=rf(e),o=hn(e,u=>({alias:[u],src:u})),a=o.length,l=o.map(async u=>{const c=Nt.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,r&&r(++n/a)}catch(d){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${d}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=hn(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Nt.toAbsolute(n.src),s=this.promiseCache[i];if(s){const l=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,l,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var _n=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(_n||{});const g5=".json",v5="application/json",y5={extension:{type:Q.LoadParser,priority:_n.Low},name:"loadJson",test(t){return pl(t,v5)||Ts(t,g5)},async load(t){return await(await J.ADAPTER.fetch(t)).json()}};le.add(y5);const x5=".txt",w5="text/plain",_5={name:"loadTxt",extension:{type:Q.LoadParser,priority:_n.Low},test(t){return pl(t,w5)||Ts(t,x5)},async load(t){return await(await J.ADAPTER.fetch(t)).text()}};le.add(_5);const b5=["normal","bold","100","200","300","400","500","600","700","800","900"],S5=[".ttf",".otf",".woff",".woff2"],E5=["font/ttf","font/otf","font/woff","font/woff2"],T5=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function C5(t){const e=Nt.extname(t),r=Nt.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(T5)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const A5=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function P5(t){return A5.test(t)?t:encodeURI(t)}const R5={extension:{type:Q.LoadParser,priority:_n.Low},name:"loadWebFont",test(t){return pl(t,E5)||Ts(t,S5)},async load(t,e){var n,i,s;const r=J.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??C5(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(c=>b5.includes(c)))??["normal"],u=e.data??{};for(let c=0;c<l.length;c++){const d=l[c],h=new FontFace(a,`url(${P5(t)})`,{...u,weight:d});await h.load(),r.add(h),o.push(h)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>J.ADAPTER.getFontFaceSet().delete(e))}};le.add(R5);const I5=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Ma=null,c0=class{constructor(){Ma||(Ma=URL.createObjectURL(new Blob([I5],{type:"application/javascript"}))),this.worker=new Worker(Ma)}};c0.revokeObjectURL=function(){Ma&&(URL.revokeObjectURL(Ma),Ma=null)};const M5=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Oa=null;class MP{constructor(){Oa||(Oa=URL.createObjectURL(new Blob([M5],{type:"application/javascript"}))),this.worker=new Worker(Oa)}}MP.revokeObjectURL=function(){Oa&&(URL.revokeObjectURL(Oa),Oa=null)};let Z_=0,Nm;class O5{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new c0;r.addEventListener("message",n=>{r.terminate(),c0.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Nm===void 0&&(Nm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Nm&&(this._createdWorkers++,e=new MP().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[Z_]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:Z_++,id:n})}}const J_=new O5;function Sc(t,e,r){t.resource.internal=!0;const n=new ae(t),i=()=>{delete e.promiseCache[r],Hs.has(r)&&Hs.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const D5=[".jpeg",".jpg",".png",".webp",".avif"],L5=["image/jpeg","image/png","image/webp","image/avif"];async function k5(t){const e=await J.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const rp={name:"loadTextures",extension:{type:Q.LoadParser,priority:_n.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return pl(t,L5)||Ts(t,D5)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await J_.isImageBitmapSupported()?i=await J_.loadImageBitmap(t):i=await k5(t):i=await new Promise((l,u)=>{const c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=t,c.complete?l(c):(c.onload=()=>l(c),c.onerror=d=>u(d))});const s={...e.data};s.resolution??(s.resolution=bi(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new be(i,s);return o.resource.src=t,Sc(o,r,t)},unload(t){t.destroy(!0)}};le.add(rp);const N5=".svg",F5="image/svg+xml",B5={extension:{type:Q.LoadParser,priority:_n.High},name:"loadSVG",test(t){return pl(t,F5)||Ts(t,N5)},async testParse(t){return r0.test(t)},async parse(t,e,r){var s;const n=new r0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new be(n,{resolution:bi(t),...e==null?void 0:e.data});return i.resource.src=e.src,Sc(i,r,e.src)},async load(t,e){return(await J.ADAPTER.fetch(t)).text()},unload:rp.unload};le.add(B5);const U5=[".mp4",".m4v",".webm",".ogv"],j5=["video/mp4","video/webm","video/ogg"],$5={name:"loadVideo",extension:{type:Q.LoadParser,priority:_n.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return pl(t,j5)||Ts(t,U5)},async load(t,e,r){var o;let n;const i=await(await J.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},l=new _P(s,a);await l.load();const u=new be(l,{alphaMode:await h4(),resolution:bi(t),...e==null?void 0:e.data});u.resource.src=t,n=Sc(u,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};le.add($5);class z5{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return hn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const l=this._createBundleAssetId(e,o);n.push(l),a=[o,l]}else{const l=o.map(u=>this._createBundleAssetId(e,u));n.push(...l),a=[...o,...l]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Oe("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},hn(o).forEach(l=>{const{src:u,srcs:c}=l;let{data:d,format:h,loadParser:f}=l;const m=hn(u||c).map(y=>typeof y=="string"?f5(y):Array.isArray(y)?y:[y]),p=this.getAlias(l);Array.isArray(p)?p.forEach(a):a(p);const v=[];m.forEach(y=>{y.forEach(x=>{let g={};if(typeof x!="object"){g.src=x;for(let w=0;w<this._parsers.length;w++){const b=this._parsers[w];if(b.test(x)){g=b.parse(x);break}}}else d=x.data??d,h=x.format??h,f=x.loadParser??f,g={...g,...x};if(!p)throw new Error(`[Resolver] alias is undefined for this asset: ${g.src}`);g=this.buildResolvedAsset(g,{aliases:p,data:d,format:h,loadParser:f}),v.push(g)})}),p.forEach(y=>{this._assetMap[y]=v})})}resolveBundle(e){const r=rf(e);e=hn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=rf(e);e=hn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(l=>{a.params[l].forEach(u=>{const c=s.filter(d=>d[l]?d[l]===u:!1);c.length&&(s=c)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Nt.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Nt.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class G5{constructor(){this._detections=[],this._initialized=!1,this.resolver=new z5,this.loader=new m5,this.cache=Hs,this._backgroundLoader=new d5(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=rf(e),i=hn(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},c=o.map(d=>{const h=i[d];return l+=Object.keys(h).length,this._mapLoadToResolve(h,u).then(f=>{s[d]=f})});return await Promise.all(c),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Hs.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Hs.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],c=[a.src];a.alias&&c.push(...a.alias),o[i[l]]=u,Hs.set(c,u)}),o}async unload(e){this._initialized||await this.init();const r=hn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=hn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Hs.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return rp.config.preferWorkers}set preferWorkers(e){Oe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const yh=new G5;le.handleByList(Q.LoadParser,yh.loader.parsers).handleByList(Q.ResolveParser,yh.resolver.parsers).handleByList(Q.CacheParser,yh.cache.parsers).handleByList(Q.DetectionParser,yh.detections);const H5={extension:Q.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ae),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};le.add(H5);async function OP(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const V5={extension:{type:Q.DetectionParser,priority:1},test:async()=>OP("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};le.add(V5);const W5={extension:{type:Q.DetectionParser,priority:0},test:async()=>OP("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};le.add(W5);const eb=["png","jpg","jpeg"],X5={extension:{type:Q.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...eb],remove:async t=>t.filter(e=>!eb.includes(e))};le.add(X5);const Y5="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function u1(t){return Y5?!1:document.createElement("video").canPlayType(t)!==""}const q5={extension:{type:Q.DetectionParser,priority:0},test:async()=>u1("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};le.add(q5);const K5={extension:{type:Q.DetectionParser,priority:0},test:async()=>u1("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};le.add(K5);const Q5={extension:{type:Q.DetectionParser,priority:0},test:async()=>u1("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};le.add(Q5);const Z5={extension:Q.ResolveParser,test:rp.test,parse:t=>{var e;return{resolution:parseFloat(((e=J.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Nt.extname(t).slice(1),src:t}}};le.add(Z5);const J5=[".xml",".fnt"],eU={extension:{type:Q.LoadParser,priority:_n.Normal},name:"loadBitmapFont",test(t){return J5.includes(Nt.extname(t).toLowerCase())},async testParse(t){return od.test(t)||l0.test(t)},async parse(t,e,r){const n=od.test(t)?od.parse(t):l0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const c=s[u].file;let d=Nt.join(Nt.dirname(i),c);d=u0(d,i),o.push(d)}const a=await r.load(o),l=o.map(u=>a[u]);return Mi.install(n,l,!0)},async load(t,e){return(await J.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};le.add(eU);const nf={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===$t.CIRC){const m=t.shape;r=m.x,n=m.y,o=a=m.radius,i=s=0}else if(t.type===$t.ELIP){const m=t.shape;r=m.x,n=m.y,o=m.width,a=m.height,i=s=0}else{const m=t.shape,p=m.width/2,v=m.height/2;r=m.x+p,n=m.y+v,o=a=Math.max(0,Math.min(m.radius,Math.min(p,v))),i=p-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let c=0,d=l*4+(i?2:0)+2,h=d,f=u;{const m=i+o,p=s,v=r+m,y=r-m,x=n+p;if(e[c++]=v,e[c++]=x,e[--d]=x,e[--d]=y,s){const g=n-p;e[h++]=y,e[h++]=g,e[--f]=g,e[--f]=v}}for(let m=1;m<l;m++){const p=Math.PI/2*(m/l),v=i+Math.cos(p)*o,y=s+Math.sin(p)*a,x=r+v,g=r-v,w=n+y,b=n-y;e[c++]=x,e[c++]=w,e[--d]=w,e[--d]=g,e[h++]=g,e[h++]=b,e[--f]=b,e[--f]=x}{const m=i,p=s+a,v=r+m,y=r-m,x=n+p,g=n-p;e[c++]=v,e[c++]=x,e[--f]=g,e[--f]=v,i&&(e[c++]=y,e[c++]=x,e[--f]=g,e[--f]=y)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==$t.RREC){const c=t.shape;a=c.x,l=c.y}else{const c=t.shape;a=c.x+c.width/2,l=c.y+c.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let c=2;c<r.length;c+=2)n.push(r[c],r[c+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function tb(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const DP={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){tb(r,!1);const o=[];for(let u=0;u<n.length;u++){const c=n[u];tb(c.points,!0),o.push(r.length/2),r=r.concat(c.points)}const a=Mk(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},tU={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},rU={build(t){nf.build(t)},triangulate(t,e){nf.triangulate(t,e)}};var Fr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Fr||{}),Ji=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ji||{});const il={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class rb{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],l=o[o.length-1]-r,u=a-e,c=i-r,d=n-e,h=Math.abs(l*d-u*c);if(h<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const f=l*l+u*u,m=c*c+d*d,p=l*c+u*d,v=s*Math.sqrt(f)/h,y=s*Math.sqrt(m)/h,x=v*p/f,g=y*p/m,w=v*d+y*u,b=v*c+y*l,_=u*(y+x),E=l*(y+x),C=d*(v+g),A=c*(v+g),B=Math.atan2(E-b,_-w),N=Math.atan2(A-b,C-w);return{cx:w+e,cy:b+r,radius:s,startAngle:B,endAngle:N,anticlockwise:u*c>d*l}}static arc(e,r,n,i,s,o,a,l,u){const c=a-o,d=il._segmentsCount(Math.abs(c)*s,Math.ceil(Math.abs(c)/qd)*40),h=c/(d*2),f=h*2,m=Math.cos(h),p=Math.sin(h),v=d-1,y=v%1/v;for(let x=0;x<=v;++x){const g=x+y*x,w=h+o+f*g,b=Math.cos(w),_=-Math.sin(w);u.push((m*b+p*_)*s+n,(m*-_+p*b)*s+i)}}}class nU{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class c1{static curveLength(e,r,n,i,s,o,a,l){let u=0,c=0,d=0,h=0,f=0,m=0,p=0,v=0,y=0,x=0,g=0,w=e,b=r;for(let _=1;_<=10;++_)c=_/10,d=c*c,h=d*c,f=1-c,m=f*f,p=m*f,v=p*e+3*m*c*n+3*f*d*s+h*a,y=p*r+3*m*c*i+3*f*d*o+h*l,x=w-v,g=b-y,w=v,b=y,u+=Math.sqrt(x*x+g*g);return u}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const c=il._segmentsCount(c1.curveLength(l,u,e,r,n,i,s,o));let d=0,h=0,f=0,m=0,p=0;a.push(l,u);for(let v=1,y=0;v<=c;++v)y=v/c,d=1-y,h=d*d,f=h*d,m=y*y,p=m*y,a.push(f*l+3*h*y*e+3*d*m*n+p*s,f*u+3*h*y*r+3*d*m*i+p*o)}}function nb(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,c=t+r*s,d=e+n*s;let h,f;o?(h=n,f=-r):(h=-n,f=r);const m=l+h,p=u+f,v=c+h,y=d+f;return a.push(m,p,v,y),2}function Ls(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let c=Math.atan2(l,u),d=Math.atan2(i-t,s-e);a&&c<d?c+=Math.PI*2:!a&&c>d&&(d+=Math.PI*2);let h=c;const f=d-c,m=Math.abs(f),p=Math.sqrt(l*l+u*u),v=(15*m*Math.sqrt(p)/Math.PI>>0)+1,y=f/v;if(h+=y,a){o.push(t,e,r,n);for(let x=1,g=h;x<v;x++,g+=y)o.push(t,e,t+Math.sin(g)*p,e+Math.cos(g)*p);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let x=1,g=h;x<v;x++,g+=y)o.push(t+Math.sin(g)*p,e+Math.cos(g)*p,t,e);o.push(i,s,t,e)}return v*2}function iU(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new $e(n[0],n[1]),a=new $e(n[n.length-2],n[n.length-1]),l=r.type!==$t.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const L=(o.x+a.x)*.5,R=(a.y+o.y)*.5;n.unshift(L,R),n.push(L,R)}const c=e.points,d=n.length/2;let h=n.length;const f=c.length/2,m=s.width/2,p=m*m,v=s.miterLimit*s.miterLimit;let y=n[0],x=n[1],g=n[2],w=n[3],b=0,_=0,E=-(x-w),C=y-g,A=0,B=0,N=Math.sqrt(E*E+C*C);E/=N,C/=N,E*=m,C*=m;const F=s.alignment,D=(1-F)*2,M=F*2;l||(s.cap===Ji.ROUND?h+=Ls(y-E*(D-M)*.5,x-C*(D-M)*.5,y-E*D,x-C*D,y+E*M,x+C*M,c,!0)+2:s.cap===Ji.SQUARE&&(h+=nb(y,x,E,C,D,M,!0,c))),c.push(y-E*D,x-C*D,y+E*M,x+C*M);for(let L=1;L<d-1;++L){y=n[(L-1)*2],x=n[(L-1)*2+1],g=n[L*2],w=n[L*2+1],b=n[(L+1)*2],_=n[(L+1)*2+1],E=-(x-w),C=y-g,N=Math.sqrt(E*E+C*C),E/=N,C/=N,E*=m,C*=m,A=-(w-_),B=g-b,N=Math.sqrt(A*A+B*B),A/=N,B/=N,A*=m,B*=m;const R=g-y,U=x-w,O=g-b,z=_-w,H=R*O+U*z,q=U*O-z*R,K=q<0;if(Math.abs(q)<.001*Math.abs(H)){c.push(g-E*D,w-C*D,g+E*M,w+C*M),H>=0&&(s.join===Fr.ROUND?h+=Ls(g,w,g-E*D,w-C*D,g-A*D,w-B*D,c,!1)+4:h+=2,c.push(g-A*M,w-B*M,g+A*D,w+B*D));continue}const se=(-E+y)*(-C+w)-(-E+g)*(-C+x),de=(-A+b)*(-B+w)-(-A+g)*(-B+_),me=(R*de-O*se)/q,Le=(z*se-U*de)/q,Ie=(me-g)*(me-g)+(Le-w)*(Le-w),we=g+(me-g)*D,ce=w+(Le-w)*D,Ae=g-(me-g)*M,ke=w-(Le-w)*M,Tt=Math.min(R*R+U*U,O*O+z*z),Ye=K?D:M,Kn=Tt+Ye*Ye*p,Is=Ie<=Kn;let xr=s.join;if(xr===Fr.MITER&&Ie/p>v&&(xr=Fr.BEVEL),Is)switch(xr){case Fr.MITER:{c.push(we,ce,Ae,ke);break}case Fr.BEVEL:{K?c.push(we,ce,g+E*M,w+C*M,we,ce,g+A*M,w+B*M):c.push(g-E*D,w-C*D,Ae,ke,g-A*D,w-B*D,Ae,ke),h+=2;break}case Fr.ROUND:{K?(c.push(we,ce,g+E*M,w+C*M),h+=Ls(g,w,g+E*M,w+C*M,g+A*M,w+B*M,c,!0)+4,c.push(we,ce,g+A*M,w+B*M)):(c.push(g-E*D,w-C*D,Ae,ke),h+=Ls(g,w,g-E*D,w-C*D,g-A*D,w-B*D,c,!1)+4,c.push(g-A*D,w-B*D,Ae,ke));break}}else{switch(c.push(g-E*D,w-C*D,g+E*M,w+C*M),xr){case Fr.MITER:{K?c.push(Ae,ke,Ae,ke):c.push(we,ce,we,ce),h+=2;break}case Fr.ROUND:{K?h+=Ls(g,w,g+E*M,w+C*M,g+A*M,w+B*M,c,!0)+2:h+=Ls(g,w,g-E*D,w-C*D,g-A*D,w-B*D,c,!1)+2;break}}c.push(g-A*D,w-B*D,g+A*M,w+B*M),h+=2}}y=n[(d-2)*2],x=n[(d-2)*2+1],g=n[(d-1)*2],w=n[(d-1)*2+1],E=-(x-w),C=y-g,N=Math.sqrt(E*E+C*C),E/=N,C/=N,E*=m,C*=m,c.push(g-E*D,w-C*D,g+E*M,w+C*M),l||(s.cap===Ji.ROUND?h+=Ls(g-E*(D-M)*.5,w-C*(D-M)*.5,g-E*D,w-C*D,g+E*M,w+C*M,c,!1)+2:s.cap===Ji.SQUARE&&(h+=nb(g,w,E,C,D,M,!1,c)));const S=e.indices,I=il.epsilon*il.epsilon;for(let L=f;L<h+f-2;++L)y=c[L*2],x=c[L*2+1],g=c[(L+1)*2],w=c[(L+1)*2+1],b=c[(L+2)*2],_=c[(L+2)*2+1],!(Math.abs(y*(w-_)+g*(_-x)+b*(x-w))<I)&&S.push(L,L+1,L+2)}function sU(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==$t.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let c=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(c,c+1),c++;s&&a.push(c,u)}function ib(t,e){t.lineStyle.native?sU(t,e):iU(t,e)}class h1{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,c=2*i-2*r,d=4*(a*a+l*l),h=4*(a*u+l*c),f=u*u+c*c,m=2*Math.sqrt(d+h+f),p=Math.sqrt(d),v=2*d*p,y=2*Math.sqrt(f),x=h/p;return(v*m+p*h*(m-y)+(4*f*d-h*h)*Math.log((2*p+x+m)/(x+y)))/(4*v)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=il._segmentsCount(h1.curveLength(o,a,e,r,n,i));let u=0,c=0;for(let d=1;d<=l;++d){const h=d/l;u=o+(e-o)*h,c=a+(r-a)*h,s.push(u+(e+(n-e)*h-u)*h,c+(r+(i-r)*h-c)*h)}}}const Fm={[$t.POLY]:DP,[$t.CIRC]:nf,[$t.ELIP]:nf,[$t.RECT]:tU,[$t.RREC]:rU},sb=[],xh=[];class sf{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new sf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const zo=new $e,LP=class kP extends BA{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new ef,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),xh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),sb.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new sf(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new sf(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,zo):zo.copyFrom(e),i.shape.contains(zo.x,zo.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(zo.x,zo.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],c=u.fillStyle,d=u.lineStyle;Fm[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||d.visible)&&this.processHoles(u.holes);for(let h=0;h<2;h++){const f=h===0?c:d;if(!f.visible)continue;const m=f.texture.baseTexture,p=this.indices.length,v=this.points.length/2;m.wrapMode=hs.REPEAT,h===0?this.processFill(u):this.processLine(u);const y=this.points.length/2-v;y!==0&&(n&&!this._compareStyles(i,f)&&(n.end(p,v),n=null),n||(n=sb.pop()||new nU,n.begin(f,p,v),this.batches.push(n),i=f),this.addUvs(this.points,e,f.texture,v,y,f.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<kP.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++be._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),xh.push(this.drawCalls[d]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=xh.pop();i||(i=new Wv,i.texArray=new Kv),i.texArray.count=0,i.start=0,i.size=0,i.type=jn.TRIANGLES;let s=0,o=null,a=0,l=!1,u=jn.TRIANGLES,c=0;this.drawCalls.push(i);for(let d=0;d<this.batches.length;d++){const h=this.batches[d],f=8,m=h.style,p=m.texture.baseTexture;l!==!!m.native&&(l=!!m.native,u=l?jn.LINES:jn.TRIANGLES,o=null,s=f,e++),o!==p&&(o=p,p._batchEnabled!==e&&(s===f&&(e++,s=0,i.size>0&&(i=xh.pop(),i||(i=new Wv,i.texArray=new Kv),this.drawCalls.push(i)),i.start=c,i.size=0,i.texArray.count=0,i.type=u),p.touched=1,p._batchEnabled=e,p._batchLocation=s,p.wrapMode=hs.REPEAT,i.texArray.elements[i.texArray.count++]=p,s++)),i.size+=h.size,c+=h.size,a=p._batchLocation,this.addColors(r,m.color,m.alpha,h.attribSize,h.attribStart),this.addTextureIds(n,a,h.attribSize,h.attribStart)}be._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)o[l++]=e[u*2],o[l++]=e[u*2+1],o[l++]=r[u*2],o[l++]=r[u*2+1],a[l++]=n[u],o[l++]=i[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?DP.triangulate(e,this):Fm[e.type].triangulate(e,this)}processLine(e){ib(e,this);for(let r=0;r<e.holes.length;r++)ib(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Fm[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=tt.shared.setValue(r).toLittleEndianNumber(),a=tt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let l=0;l<i;l++)e[s+l]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const l=r.length,u=n.frame;for(;a<s;){let d=e[(i+a)*2],h=e[(i+a)*2+1];if(o){const f=o.a*d+o.c*h+o.tx;h=o.b*d+o.d*h+o.ty,d=f}a++,r.push(d/u.width,h/u.height)}const c=n.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(r,n,l,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,l=r.frame,u=l.width/s.width,c=l.height/s.height;let d=l.x/l.width,h=l.y/l.height,f=Math.floor(e[n]+o),m=Math.floor(e[n+1]+o);for(let p=n+2;p<a;p+=2)f=Math.min(f,Math.floor(e[p]+o)),m=Math.min(m,Math.floor(e[p+1]+o));d-=f,h-=m;for(let p=n;p<a;p+=2)e[p]=(e[p]+d)*u,e[p+1]=(e[p+1]+h)*c}};LP.BATCHABLE_SIZE=100;let oU=LP;class np{constructor(){this.color=16777215,this.alpha=1,this.texture=ae.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new np;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ae.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class d1 extends np{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ji.BUTT,this.join=Fr.MITER,this.miterLimit=10}clone(){const e=new d1;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ji.BUTT,this.join=Fr.MITER,this.miterLimit=10}}const Bm={},h0=class ld extends wn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new np,this._lineStyle=new d1,this._matrix=null,this._holeMode=!1,this.state=qn.for2d(),this._geometry=e||new oU,this._geometry.refCount++,this._transformID=-1,this._tintColor=new tt(16777215),this.blendMode=ve.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new ld(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ae.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ji.BUTT,join:Fr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new uo,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new uo,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),h1.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),c1.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=rb.curveTo(e,r,n,i,s,o);if(a){const{cx:l,cy:u,radius:c,startAngle:d,endAngle:h,anticlockwise:f}=a;this.arc(l,u,c,d,h,f)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=qd:o&&i<=s&&(i+=qd),s-i===0)return this;const a=e+Math.cos(i)*n,l=r+Math.sin(i)*n,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const d=Math.abs(c[c.length-2]-a),h=Math.abs(c[c.length-1]-l);d<u&&h<u||c.push(a,l)}else this.moveTo(a,l),c=this.currentPath.points;return rb.arc(a,l,e,r,n,i,s,o,c),this}beginFill(e=0,r){return this.beginTextureFill({texture:ae.WHITE,color:e,alpha:r})}normalizeColor(e){const r=tt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ae.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ee(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Jf(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Qf(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new Zf(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new uo(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===$t.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),c={vertexData:a,blendMode:r,indices:u,uvs:l,_batchRGB:tt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=c}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,tt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let l=0;l<a;l++)e.texture.bind(n.elements[l],l);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Bm[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new nt,default:vn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;Bm[n]=new Vn(a,o)}r=Bm[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,ld._TEMP_POINT),this._geometry.containsPoint(ld._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=tt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this._geometry.points,c=this.vertexData;let d=0;for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];c[d++]=n*f+s*m+a,c[d++]=o*m+i*f+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};h0.curves=il,h0._TEMP_POINT=new $e;let NP=h0;class ob{constructor(e,r,n){this.geometry=new gs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||he.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new yt(T4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new yt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new yt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===he.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===he.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===he.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===he.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var aU=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,lU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class FP extends ep{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new nt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:he.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Vn.from(lU,aU,{}),this.state=qn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=kA(e.blendMode,u),s.state.set(this.state);const c=s.gl,d=e.worldTransform.copyTo(this.tempMatrix);d.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=d.toArray(!0),this.shader.uniforms.uColor=tt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let h=!1;for(let f=0,m=0;f<o;f+=i,m+=1){let p=o-f;p>i&&(p=i),m>=a.length&&a.push(this._generateOneMoreBuffer(e));const v=a[m];v.uploadDynamic(r,f,p);const y=e._bufferUpdateIDs[m]||0;h=h||v._updateID<y,h&&(v._updateID=e._updateID,v.uploadStatic(r,f,p)),s.geometry.bind(v.geometry),c.drawElements(c.TRIANGLES,p*6,c.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new ob(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new ob(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,c=0;for(let d=0;d<n;++d){const h=e[r+d],f=h._texture,m=h.scale.x,p=h.scale.y,v=f.trim,y=f.orig;v?(l=v.x-h.anchor.x*y.width,a=l+v.width,c=v.y-h.anchor.y*y.height,u=c+v.height):(a=y.width*(1-h.anchor.x),l=y.width*-h.anchor.x,u=y.height*(1-h.anchor.y),c=y.height*-h.anchor.y),i[o]=l*m,i[o+1]=c*p,i[o+s]=a*m,i[o+s+1]=c*p,i[o+s*2]=a*m,i[o+s*2+1]=u*p,i[o+s*3]=l*m,i[o+s*3+1]=u*p,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=tt.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}FP.extension={name:"particle",type:Q.RendererPlugin};le.add(FP);var uU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,cU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,hU=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,ab=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,dU=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const wh=new nt;class BP extends ep{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new YA,this.state=qn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Vn.from(ab,dU,r),this.shader=e.context.webGLVersion>1?Vn.from(cU,uU,r):Vn.from(ab,hU,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,c=e.tileTransform.localTransform,d=e.uvMatrix;let h=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;h&&(l._glTextures[r.CONTEXT_UID]?h=l.wrapMode!==hs.CLAMP:l.wrapMode===hs.CLAMP&&(l.wrapMode=hs.REPEAT));const f=h?this.simpleShader:this.shader,m=a.width,p=a.height,v=e._width,y=e._height;wh.set(c.a*m/v,c.b*m/y,c.c*p/v,c.d*p/y,c.tx/v,c.ty/y),wh.invert(),h?wh.prepend(d.mapCoord):(f.uniforms.uMapCoord=d.mapCoord.toArray(!0),f.uniforms.uClampFrame=d.uClampFrame,f.uniforms.uClampOffset=d.uClampOffset),f.uniforms.uTransform=wh.toArray(!0),f.uniforms.uColor=tt.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(f.uniforms.uColor),f.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),f.uniforms.uSampler=a,r.shader.bind(f),r.geometry.bind(n),this.state.blendMode=kA(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}BP.extension={name:"tilingSprite",type:Q.RendererPlugin};le.add(BP);const UP=class d0{constructor(e){this.stage=new wn,e=Object.assign({forceCanvas:!1},e),this.renderer=UB(e),d0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=d0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};UP._plugins=[];let fU=UP;le.handleByList(Q.Application,fU._plugins);class jP{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}jP.extension=Q.Application;le.add(jP);ht.prototype.name=null;wn.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};const $P=new nt;ht.prototype._cacheAsBitmap=!1;ht.prototype._cacheData=null;ht.prototype._cacheAsBitmapResolution=null;ht.prototype._cacheAsBitmapMultisample=null;class pU{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ht.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new pU),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});ht.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};ht.prototype._initCachedDisplayObject=function(t){var h,f;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Ee,!0);if((f=this.filters)!=null&&f.length){const m=this.filters[0].padding;r.pad(m)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,l=Ro.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${_o()}`;this._cacheData.textureCacheId=u,be.addToCache(l.baseTexture,u),ae.addToCache(l,u);const c=this.transform.localTransform.copyTo($P).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new fl(l);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)};ht.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};ht.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(new Ee,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=Ro.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${_o()}`;this._cacheData.textureCacheId=a,be.addToCache(o.baseTexture,a),ae.addToCache(o,a);const l=$P;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new fl(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};ht.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};ht.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};ht.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,be.removeFromCache(this._cacheData.textureCacheId),ae.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};ht.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};ht.prototype.getGlobalPosition=function(t=new $e,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var mU=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class gU extends rr{constructor(e=1){super(zB,mU,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const vU={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},yU=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function xU(t){const e=vU[t],r=e.length;let n=yU,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const wU=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function _U(t,e){const r=Math.ceil(t/2);let n=wU,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class f0 extends rr{constructor(e,r=8,n=4,i=rr.defaultResolution,s=5){const o=_U(s,e),a=xU(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,Fn.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,Fn.BLIT),this.uniforms.uSampler=l;const c=l;l=a,a=c,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class bU extends rr{constructor(e=8,r=4,n=rr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new f0(!0,e,r,n,i),this.blurYFilter=new f0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Fn.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var SU=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class p0 extends rr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(mP,SU,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=tt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,c=o*(1-n)+a*i,d=o*(1-n)+a*i,h=n+o*(1-n),f=o*(1-n)-a*i,m=o*(1-n)-a*i,p=o*(1-n)+a*i,v=n+o*(1-n),y=[l,u,c,0,0,d,h,f,0,0,m,p,v,0,0,0,0,0,1,0];this._loadMatrix(y,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=tt.shared,[a,l,u]=o.setValue(n).toArray(),[c,d,h]=o.setValue(i).toArray(),f=[.3,.59,.11,0,0,a,l,u,e,0,c,d,h,r,0,a-c,l-d,u-h,0,0];this._loadMatrix(f,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}p0.prototype.grayscale=p0.prototype.greyscale;var EU=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,TU=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class CU extends rr{constructor(e,r){const n=new nt;e.renderable=!1,super(TU,EU,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new $e(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var AU=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,PU=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class RU extends rr{constructor(){super(PU,AU)}}var IU=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class MU extends rr{constructor(e=.5,r=Math.random()){super(mP,IU,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const lb={AlphaFilter:gU,BlurFilter:bU,BlurFilterPass:f0,ColorMatrixFilter:p0,DisplacementFilter:CU,FXAAFilter:RU,NoiseFilter:MU};Object.entries(lb).forEach(([t,e])=>{Object.defineProperty(lb,t,{get(){return Oe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class OU{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Ar.system.add(this.tickerUpdate,this,bo.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Ar.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ui=new OU;class Ec{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ec.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new $e,this.page=new $e,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class of extends Ec{constructor(){super(...arguments),this.client=new $e,this.movement=new $e,this.offset=new $e,this.global=new $e,this.screen=new $e}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,c,d,h,f,m,p){throw new Error("Method not implemented.")}}class rn extends of{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Da extends of{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Da.DOM_DELTA_PIXEL=0,Da.DOM_DELTA_LINE=1,Da.DOM_DELTA_PAGE=2;const DU=2048,LU=new $e,Um=new $e;class kU{constructor(e){this.dispatch=new wc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Ui.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,LU.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<DU&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ui.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const h=c[d],f=this.hitTestMoveRecursive(h,this._isInteractive(r)?r:h.eventMode,n,i,s,o||s(e,n));if(f){if(f.length>0&&!f[f.length-1].parent)continue;const m=e.isInteractive();(f.length>0||m)&&(m&&this._allInteractiveElements.push(e),f.push(e)),this._hitElements.length===0&&(this._hitElements=f),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ui.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const c=l[u],d=this.hitTestRecursive(c,this._isInteractive(r)?r:c.eventMode,n,i,s);if(d){if(d.length>0&&!d[d.length-1].parent)continue;const h=e.isInteractive();return(d.length>0||h)&&d.push(e),d}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Um),!e.hitArea.contains(Um.x,Um.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&!r.composedPath().includes(h.target);)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,c);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let h=s==null?void 0:s.parent;for(;h&&h!==this.rootTarget.parent&&h!==r.target;)h=h.parent;if(!h||h===this.rootTarget.parent){const f=this.clonePointerEvent(r,"pointerenter");for(f.eventPhase=f.AT_TARGET;f.target&&f.target!==s&&f.target!==this.rootTarget.parent;)f.currentTarget=f.target,this.notifyTarget(f),n&&this.notifyTarget(f,"mouseenter"),f.target=f.target.parent;this.freeEvent(f)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof rn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Da)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(rn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Da);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(rn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof rn&&r instanceof rn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof of&&r instanceof of&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const NU=1,FU={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},m0=class g0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new kU(null),Ui.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new rn(null),this.rootWheelEvent=new Da(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...g0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,g0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Ui.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Ui.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ui.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ui.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=NU),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=FU[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};m0.extension={name:"events",type:[Q.RendererSystem,Q.CanvasRendererSystem]},m0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let v0=m0;le.add(v0);function ub(t){return t==="dynamic"||t==="static"}const BU={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??ub(v0.defaultEventMode)},set interactive(t){Oe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??v0.defaultEventMode},set eventMode(t){this._internalInteractive=ub(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,a,o)}),s?l.once(t,a,o):l.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ec))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ht.mixin(BU);const UU={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ht.mixin(UU);const jU=9,_h=100,$U=0,zU=0,cb=2,hb=1,GU=-1e3,HU=-1e3,VU=2;class zP{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(ci.tablet||ci.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${_h}px`,r.style.height=`${_h}px`,r.style.position="absolute",r.style.top=`${$U}px`,r.style.left=`${zU}px`,r.style.zIndex=cb.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${hb}px`,e.style.height=`${hb}px`,e.style.position="absolute",e.style.top=`${GU}px`,e.style.left=`${HU}px`,e.style.zIndex=VU.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(ci.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,c=s/a*l;let d=this.div;d.style.left=`${r}px`,d.style.top=`${n}px`,d.style.width=`${o}px`,d.style.height=`${a}px`;for(let h=0;h<this.children.length;h++){const f=this.children[h];if(f.renderId!==this.renderId)f._accessibleActive=!1,Ra(this.children,h,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,h--;else{d=f._accessibleDiv;let m=f.hitArea;const p=f.worldTransform;f.hitArea?(d.style.left=`${(p.tx+m.x*p.a)*u}px`,d.style.top=`${(p.ty+m.y*p.d)*c}px`,d.style.width=`${m.width*p.a*u}px`,d.style.height=`${m.height*p.d*c}px`):(m=f.getBounds(),this.capHitArea(m),d.style.left=`${m.x*u}px`,d.style.top=`${m.y*c}px`,d.style.width=`${m.width*u}px`,d.style.height=`${m.height*c}px`,d.title!==f.accessibleTitle&&f.accessibleTitle!==null&&(d.title=f.accessibleTitle),d.getAttribute("aria-label")!==f.accessibleHint&&f.accessibleHint!==null&&d.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==d.title||f.tabIndex!==d.tabIndex)&&(d.title=f.accessibleTitle,d.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${_h}px`,r.style.height=`${_h}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=cb.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Ec(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===jU&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}zP.extension={name:"accessibility",type:[Q.RendererPlugin,Q.CanvasRendererPlugin]};le.add(zP);var Bt=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Bt||{});const af={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Rn,Qo;function db(){Qo={bptc:Rn.getExtension("EXT_texture_compression_bptc"),astc:Rn.getExtension("WEBGL_compressed_texture_astc"),etc:Rn.getExtension("WEBGL_compressed_texture_etc"),s3tc:Rn.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Rn.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Rn.getExtension("WEBGL_compressed_texture_pvrtc")||Rn.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Rn.getExtension("WEBGL_compressed_texture_etc1"),atc:Rn.getExtension("WEBGL_compressed_texture_atc")}}const WU={extension:{type:Q.DetectionParser,priority:2},test:async()=>{const t=J.ADAPTER.createCanvas().getContext("webgl");return t?(Rn=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Qo||db();const e=[];for(const r in Qo)Qo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Qo||db(),t.filter(e=>!(e in Qo)))};le.add(WU);class XU extends Kf{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Gv(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Gv(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class co extends XU{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=co._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||co._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:l,levelHeight:u,levelBuffer:c}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,l,u,0,c)}return!0}onBlobLoaded(){this._levelBuffers=co._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,c=o,d=a,h=c+i-1&~(i-1),f=d+s-1&~(s-1),m=h*f*af[r];for(let p=0;p<n;p++)l[p]={levelID:p,levelWidth:n>1?c:h,levelHeight:n>1?d:f,levelBuffer:new Uint8Array(e.buffer,u,m)},u+=m,c=c>>1||1,d=d>>1||1,h=c+i-1&~(i-1),f=d+s-1&~(s-1),m=h*f*af[r];return l}}const jm=4,bh=124,YU=32,fb=20,qU=542327876,Sh={HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},KU={FOURCC:2},Eh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3},QU=1,ZU=2,JU=4,e6=64,t6=512,r6=131072,n6=827611204,i6=861165636,s6=894720068,o6=808540228,a6=4,l6={[n6]:Bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,[i6]:Bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,[s6]:Bt.COMPRESSED_RGBA_S3TC_DXT5_EXT},u6={70:Bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Bt.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Bt.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Bt.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Bt.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Bt.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Bt.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Bt.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Bt.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Bt.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function c6(t){const e=new Uint32Array(t);if(e[0]!==qU)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,bh/Uint32Array.BYTES_PER_ELEMENT),n=r[Sh.HEIGHT],i=r[Sh.WIDTH],s=r[Sh.MIPMAP_COUNT],o=new Uint32Array(t,Sh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,YU/Uint32Array.BYTES_PER_ELEMENT),a=o[QU];if(a&JU){const l=o[KU.FOURCC];if(l!==o6){const x=l6[l],g=jm+bh,w=new Uint8Array(t,g);return[new co(w,{format:x,width:i,height:n,levels:s})]}const u=jm+bh,c=new Uint32Array(e.buffer,u,fb/Uint32Array.BYTES_PER_ELEMENT),d=c[Eh.DXGI_FORMAT],h=c[Eh.RESOURCE_DIMENSION],f=c[Eh.MISC_FLAG],m=c[Eh.ARRAY_SIZE],p=u6[d];if(p===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(f===a6)throw new Error("DDSParser does not support cubemap textures");if(h===6)throw new Error("DDSParser does not supported 3D texture data");const v=new Array,y=jm+bh+fb;if(m===1)v.push(new Uint8Array(t,y));else{const x=af[p];let g=0,w=i,b=n;for(let E=0;E<s;E++){const C=Math.max(1,w+3&-4),A=Math.max(1,b+3&-4),B=C*A*x;g+=B,w=w>>>1,b=b>>>1}let _=y;for(let E=0;E<m;E++)v.push(new Uint8Array(t,_,g)),_+=g}return v.map(x=>new co(x,{format:p,width:i,height:n,levels:s}))}throw a&e6?new Error("DDSParser does not support uncompressed texture data."):a&t6?new Error("DDSParser does not supported YUV uncompressed texture data."):a&r6?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&ZU?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const pb=[171,75,84,88,32,49,49,187,13,10,26,10],h6=67305985,en={ENDIANNESS:12,GL_TYPE:16,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},y0=64,mb={[he.UNSIGNED_BYTE]:1,[he.UNSIGNED_SHORT]:2,[he.INT]:4,[he.UNSIGNED_INT]:4,[he.FLOAT]:4,[he.HALF_FLOAT]:8},d6={[Y.RGBA]:4,[Y.RGB]:3,[Y.RG]:2,[Y.RED]:1,[Y.LUMINANCE]:1,[Y.LUMINANCE_ALPHA]:2,[Y.ALPHA]:1},f6={[he.UNSIGNED_SHORT_4_4_4_4]:2,[he.UNSIGNED_SHORT_5_5_5_1]:2,[he.UNSIGNED_SHORT_5_6_5]:2};function p6(t,e,r=!1){const n=new DataView(e);if(!m6(t,n))return null;const i=n.getUint32(en.ENDIANNESS,!0)===h6,s=n.getUint32(en.GL_TYPE,i),o=n.getUint32(en.GL_FORMAT,i),a=n.getUint32(en.GL_INTERNAL_FORMAT,i),l=n.getUint32(en.PIXEL_WIDTH,i),u=n.getUint32(en.PIXEL_HEIGHT,i)||1,c=n.getUint32(en.PIXEL_DEPTH,i)||1,d=n.getUint32(en.NUMBER_OF_ARRAY_ELEMENTS,i)||1,h=n.getUint32(en.NUMBER_OF_FACES,i),f=n.getUint32(en.NUMBER_OF_MIPMAP_LEVELS,i),m=n.getUint32(en.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||c!==1)throw new Error("Only 2D textures are supported");if(h!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(d!==1)throw new Error("WebGL does not support array textures");const p=4,v=4,y=l+3&-4,x=u+3&-4,g=new Array(d);let w=l*u;s===0&&(w=y*x);let b;if(s!==0?mb[s]?b=mb[s]*d6[o]:b=f6[s]:b=af[a],b===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const _=r?v6(n,m,i):null;let E=w*b,C=l,A=u,B=y,N=x,F=y0+m;for(let D=0;D<f;D++){const M=n.getUint32(F,i);let S=F+4;for(let I=0;I<d;I++){let L=g[I];L||(L=g[I]=new Array(f)),L[D]={levelID:D,levelWidth:f>1||s!==0?C:B,levelHeight:f>1||s!==0?A:N,levelBuffer:new Uint8Array(e,S,E)},S+=E}F+=M+4,F=F%4!==0?F+4-F%4:F,C=C>>1||1,A=A>>1||1,B=C+p-1&~(p-1),N=A+v-1&~(v-1),E=B*N*b}return s!==0?{uncompressed:g.map(D=>{let M=D[0].levelBuffer,S=!1;return s===he.FLOAT?M=new Float32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4):s===he.UNSIGNED_INT?(S=!0,M=new Uint32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)):s===he.INT&&(S=!0,M=new Int32Array(D[0].levelBuffer.buffer,D[0].levelBuffer.byteOffset,D[0].levelBuffer.byteLength/4)),{resource:new Kf(M,{width:D[0].levelWidth,height:D[0].levelHeight}),type:s,format:S?g6(o):o}}),kvData:_}:{compressed:g.map(D=>new co(null,{format:a,width:l,height:u,levels:f,levelBuffers:D})),kvData:_}}function m6(t,e){for(let r=0;r<pb.length;r++)if(e.getUint8(r)!==pb[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function g6(t){switch(t){case Y.RGBA:return Y.RGBA_INTEGER;case Y.RGB:return Y.RGB_INTEGER;case Y.RG:return Y.RG_INTEGER;case Y.RED:return Y.RED_INTEGER;default:return t}}function v6(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(y0+i,r),o=y0+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),c=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,c),i+=4+s+a}return n}const y6={extension:{type:Q.LoadParser,priority:_n.High},name:"loadDDS",test(t){return Ts(t,".dds")},async load(t,e,r){const n=await(await J.ADAPTER.fetch(t)).arrayBuffer(),i=c6(n).map(s=>{const o=new be(s,{mipmap:Xn.OFF,alphaMode:pr.NO_PREMULTIPLIED_ALPHA,resolution:bi(t),...e.data});return Sc(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};le.add(y6);const x6={extension:{type:Q.LoadParser,priority:_n.High},name:"loadKTX",test(t){return Ts(t,".ktx")},async load(t,e,r){const n=await(await J.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=p6(t,n),a=i??s,l={mipmap:Xn.OFF,alphaMode:pr.NO_PREMULTIPLIED_ALPHA,resolution:bi(t),...e.data},u=a.map(c=>{a===s&&Object.assign(l,{type:c.type,format:c.format});const d=c.resource??c,h=new be(d,l);return h.ktxKeyValueData=o,Sc(h,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};le.add(x6);const w6=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],_6={extension:Q.ResolveParser,test:t=>{const e=Nt.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(w6.includes(s))return{resolution:parseFloat(((n=J.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=J.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};le.add(_6);const Th=new Ee,b6=4,GP=class Zl{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(l=>{if(!l){a(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(l)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Zl._flipY(n,i,s),a&&Zl._unpremultiplyAlpha(n);const l=new A4(i,s,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Zl._flipY(n,i,s),a&&Zl._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,l=!1;e&&(e instanceof Ro?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),l=!0,r&&(Th.width=r.width,Th.height=r.height,r=Th)));const u=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===Y.RGBA,!l){n.renderTexture.bind(a);const f=a.framebuffer.glFramebuffers[n.CONTEXT_UID];f.blitFramebuffer&&n.framebuffer.bind(f.blitFramebuffer)}}else i=n.resolution,r||(r=Th,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const c=Math.max(Math.round(r.width*i),1),d=Math.max(Math.round(r.height*i),1),h=new Uint8Array(b6*c*d);return u.readPixels(Math.round(r.x*i),Math.round(r.y*i),c,d,u.RGBA,u.UNSIGNED_BYTE,h),l&&(a==null||a.destroy(!0)),{pixels:h,width:c,height:d,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const l=a*i,u=(n-a-1)*i;o.set(e.subarray(l,l+i)),e.copyWithin(l,u,u+i),e.set(o,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};GP.extension={name:"extract",type:Q.RendererSystem};let S6=GP;le.add(S6);class E6{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function T6(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ae){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function C6(t,e){if(t.baseTexture instanceof be){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function A6(t,e){if(t._texture&&t._texture instanceof ae){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function P6(t,e){return e instanceof TP?(e.updateText(!0),!0):!1}function R6(t,e){if(e instanceof vs){const r=e.toFontString();return ki.measureFont(r),!0}return!1}function I6(t,e){if(t instanceof TP){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function M6(t,e){return t instanceof vs?(e.includes(t)||e.push(t),!0):!1}const HP=class VP{constructor(e){this.limiter=new E6(VP.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(I6),this.registerFindHook(M6),this.registerFindHook(T6),this.registerFindHook(C6),this.registerFindHook(A6),this.registerUploadHook(P6),this.registerUploadHook(R6)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Ar.system.addOnce(this.tick,this,bo.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Ar.system.addOnce(this.tick,this,bo.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof wn)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Ar.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};HP.uploadsPerFrame=4;let x0=HP;Object.defineProperties(J,{UPLOADS_PER_FRAME:{get(){return x0.uploadsPerFrame},set(t){Oe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),x0.uploadsPerFrame=t}}});function WP(t,e){return e instanceof be?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function O6(t,e){if(!(e instanceof NP))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&WP(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function D6(t,e){return t instanceof NP?(e.push(t),!0):!1}class XP extends x0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(D6),this.registerUploadHook(WP),this.registerUploadHook(O6)}}XP.extension={name:"prepare",type:Q.RendererSystem};le.add(XP);const YP=class Jl{constructor(e,r,n){this.linkedSheets=[],(e instanceof be||e instanceof ae)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof ae?i:null,this.baseTexture=i instanceof be?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=bi(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Jl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Jl.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new Ee(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new Ee(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ee(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new Ee(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ae(this.baseTexture,a,c,l,s.rotated?2:0,s.anchor,s.borders),ae.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Jl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Jl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};YP.BATCH_SIZE=1e3;let gb=YP;const L6=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function qP(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Nt.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,qP([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const k6={extension:Q.Asset,cache:{test:t=>t instanceof gb,getCacheableAssets:(t,e)=>qP(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&L6.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=J.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:Q.LoadParser,priority:_n.Normal},async testParse(t,e){return Nt.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,d;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Nt.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const h=u0(o+(i??t.meta.image),e.src);a=(await r.load([h]))[h]}const l=new gb({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await l.parse();const u=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(u)){const h=[];for(const m of u){if(typeof m!="string")continue;let p=o+m;(d=e.data)!=null&&d.ignoreMultiPack||(p=u0(p,e.src),h.push(r.load({src:p,data:{ignoreMultiPack:!0}})))}const f=await Promise.all(h);l.linkedSheets=f,f.forEach(m=>{m.linkedSheets=[l].concat(l.linkedSheets.filter(p=>p!==m))})}return l},unload(t){t.destroy(!0)}}};le.add(k6);const w0=class Zo extends vs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Zo(Object.keys(Zo.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Zo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Zo;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return J.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),l=new FileReader;l.onload=()=>s([a,l.result]),l.onerror=o,l.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Nt.basename(e,Nt.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=S4(e)),typeof e=="number"?b4(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Zo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=J.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};w0.availableFonts={},w0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let $m=w0;const Ch=class Jo extends fl{constructor(e="",r={}){super(ae.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ae.from(n,{scaleMode:J.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ee,i.trim=new Ee,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),u=document.createElementNS(o,"div"),c=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=Jo.defaultMaxWidth,this.maxHeight=Jo.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=Jo.defaultAutoResolution,this._resolution=Jo.defaultResolution??J.RESOLUTION,this.text=e,this.style=r}measureText(e){var c,d;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),u=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(c=this._style)==null?void 0:c.toCSS(i)}),this._styleElement.textContent=(d=this._style)==null?void 0:d.toGlobalCSS()),{width:l+n.padding*2,height:u+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(l=>{i.onload=async()=>{if(a<this._updateID){l();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Jo.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Zi(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Zi(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof $m?(this.ownsStyle=!1,this._style=e):e instanceof vs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=$m.from(e)):(this.ownsStyle=!0,this._style=new $m(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Ch.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Ch.defaultMaxWidth=2024,Ch.defaultMaxHeight=2024,Ch.defaultAutoResolution=!0;var vb;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(vb||(vb={}));const N6=Object.freeze({x:0,y:0});var ma;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(ma||(ma={}));var yb;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(yb||(yb={}));var dn;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter"})(dn||(dn={}));dn.Space,dn.Enter,dn.Esc,dn.Space,dn.Enter;var xb;(function(t){t[t.RightClick=2]="RightClick"})(xb||(xb={}));var wb;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(wb||(wb={}));var _b;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(_b||(_b={}));ma.Backward+"",ma.Forward+"",ma.Backward+"",ma.Forward+"";var _0;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(_0||(_0={}));var b0;(function(t){t.Optimized="optimized"})(b0||(b0={}));_0.WhileDragging,b0.Optimized;({...N6});var bb;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(bb||(bb={}));function Sb(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function f1(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Sb(e[r])&&Sb(t[r])&&Object.keys(e[r]).length>0&&f1(t[r],e[r])})}const KP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Io(){const t=typeof document<"u"?document:{};return f1(t,KP),t}const F6={document:KP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Or(){const t=typeof window<"u"?window:{};return f1(t,F6),t}function B6(t){const e=t;Object.keys(e).forEach(r=>{try{e[r]=null}catch{}try{delete e[r]}catch{}})}function S0(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function lf(){return Date.now()}function U6(t){const e=Or();let r;return e.getComputedStyle&&(r=e.getComputedStyle(t,null)),!r&&t.currentStyle&&(r=t.currentStyle),r||(r=t.style),r}function j6(t,e){e===void 0&&(e="x");const r=Or();let n,i,s;const o=U6(t);return r.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new r.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=s.toString().split(",")),e==="x"&&(r.WebKitCSSMatrix?i=s.m41:n.length===16?i=parseFloat(n[12]):i=parseFloat(n[4])),e==="y"&&(r.WebKitCSSMatrix?i=s.m42:n.length===16?i=parseFloat(n[13]):i=parseFloat(n[5])),i||0}function Ah(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function $6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Er(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let r=1;r<arguments.length;r+=1){const n=r<0||arguments.length<=r?void 0:arguments[r];if(n!=null&&!$6(n)){const i=Object.keys(Object(n)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],l=Object.getOwnPropertyDescriptor(n,a);l!==void 0&&l.enumerable&&(Ah(t[a])&&Ah(n[a])?n[a].__swiper__?t[a]=n[a]:Er(t[a],n[a]):!Ah(t[a])&&Ah(n[a])?(t[a]={},n[a].__swiper__?t[a]=n[a]:Er(t[a],n[a])):t[a]=n[a])}}}return t}function Ph(t,e,r){t.style.setProperty(e,r)}function QP(t){let{swiper:e,targetPosition:r,side:n}=t;const i=Or(),s=-e.translate;let o=null,a;const l=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const u=r>s?"next":"prev",c=(h,f)=>u==="next"&&h>=f||u==="prev"&&h<=f,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/l,1),0),f=.5-Math.cos(h*Math.PI)/2;let m=s+f*(r-s);if(c(m,r)&&(m=r),e.wrapperEl.scrollTo({[n]:m}),c(m,r)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:m})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function fi(t,e){return e===void 0&&(e=""),[...t.children].filter(r=>r.matches(e))}function z6(t,e){e===void 0&&(e=[]);const r=document.createElement(t);return r.classList.add(...Array.isArray(e)?e:[e]),r}function G6(t,e){const r=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function H6(t,e){const r=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&r.push(n):r.push(n),t=n}return r}function es(t,e){return Or().getComputedStyle(t,null).getPropertyValue(e)}function Eb(t){let e=t,r;if(e){for(r=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(r+=1);return r}}function V6(t,e){const r=[];let n=t.parentElement;for(;n;)r.push(n),n=n.parentElement;return r}function Tb(t,e,r){const n=Or();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}let zm;function W6(){const t=Or(),e=Io();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function ZP(){return zm||(zm=W6()),zm}let Gm;function X6(t){let{userAgent:e}=t===void 0?{}:t;const r=ZP(),n=Or(),i=n.navigator.platform,s=e||n.navigator.userAgent,o={ios:!1,android:!1},a=n.screen.width,l=n.screen.height,u=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let m=i==="MacIntel";const p=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&m&&r.touch&&p.indexOf(`${a}x${l}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),m=!1),u&&!f&&(o.os="android",o.android=!0),(c||h||d)&&(o.os="ios",o.ios=!0),o}function Y6(t){return t===void 0&&(t={}),Gm||(Gm=X6(t)),Gm}let Hm;function q6(){const t=Or();let e=!1;function r(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}if(r()){const n=String(t.navigator.userAgent);if(n.includes("Version/")){const[i,s]=n.split("Version/")[1].split(" ")[0].split(".").map(o=>Number(o));e=i<16||i===16&&s<2}}return{isSafari:e||r(),needPerspectiveFix:e,isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function K6(){return Hm||(Hm=q6()),Hm}function Q6(t){let{swiper:e,on:r,emit:n}=t;const i=Or();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},l=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:h,height:f}=e;let m=h,p=f;d.forEach(v=>{let{contentBoxSize:y,contentRect:x,target:g}=v;g&&g!==e.el||(m=x?x.width:(y[0]||y).inlineSize,p=x?x.height:(y[0]||y).blockSize)}),(m!==h||p!==f)&&a()})}),s.observe(e.el))},u=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},c=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};r("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",c)}),r("destroy",()=>{u(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",c)})}function Z6(t){let{swiper:e,extendParams:r,on:n,emit:i}=t;const s=[],o=Or(),a=function(c,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(m=>{if(e.__preventObserver__)return;if(m.length===1){i("observerUpdate",m[0]);return}const p=function(){i("observerUpdate",m[0])};o.requestAnimationFrame?o.requestAnimationFrame(p):o.setTimeout(p,0)});f.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},l=()=>{if(e.params.observer){if(e.params.observeParents){const c=V6(e.hostEl);for(let d=0;d<c.length;d+=1)a(c[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},u=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};r({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",l),n("destroy",u)}var J6={on(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const i=r?"unshift":"push";return t.split(" ").forEach(s=>{n.eventsListeners[s]||(n.eventsListeners[s]=[]),n.eventsListeners[s][i](e)}),n},once(t,e,r){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function i(){n.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(n,o)}return i.__emitterProxy=e,n.on(t,i,r)},onAny(t,e){const r=this;if(!r.eventsListeners||r.destroyed||typeof t!="function")return r;const n=e?"unshift":"push";return r.eventsAnyListeners.indexOf(t)<0&&r.eventsAnyListeners[n](t),r},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const r=e.eventsAnyListeners.indexOf(t);return r>=0&&e.eventsAnyListeners.splice(r,1),e},off(t,e){const r=this;return!r.eventsListeners||r.destroyed||!r.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?r.eventsListeners[n]=[]:r.eventsListeners[n]&&r.eventsListeners[n].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&r.eventsListeners[n].splice(s,1)})}),r},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,r,n;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],r=s.slice(1,s.length),n=t):(e=s[0].events,r=s[0].data,n=s[0].context||t),r.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(l=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(u=>{u.apply(n,[l,...r])}),t.eventsListeners&&t.eventsListeners[l]&&t.eventsListeners[l].forEach(u=>{u.apply(n,r)})}),t}};function e8(){const t=this;let e,r;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?r=t.params.height:r=n.clientHeight,!(e===0&&t.isHorizontal()||r===0&&t.isVertical())&&(e=e-parseInt(es(n,"padding-left")||0,10)-parseInt(es(n,"padding-right")||0,10),r=r-parseInt(es(n,"padding-top")||0,10)-parseInt(es(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(r)&&(r=0),Object.assign(t,{width:e,height:r,size:t.isHorizontal()?e:r}))}function t8(){const t=this;function e(N){return t.isHorizontal()?N:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[N]}function r(N,F){return parseFloat(N.getPropertyValue(e(F))||0)}const n=t.params,{wrapperEl:i,slidesEl:s,size:o,rtlTranslate:a,wrongRTL:l}=t,u=t.virtual&&n.virtual.enabled,c=u?t.virtual.slides.length:t.slides.length,d=fi(s,`.${t.params.slideClass}, swiper-slide`),h=u?t.virtual.slides.length:d.length;let f=[];const m=[],p=[];let v=n.slidesOffsetBefore;typeof v=="function"&&(v=n.slidesOffsetBefore.call(t));let y=n.slidesOffsetAfter;typeof y=="function"&&(y=n.slidesOffsetAfter.call(t));const x=t.snapGrid.length,g=t.slidesGrid.length;let w=n.spaceBetween,b=-v,_=0,E=0;if(typeof o>"u")return;typeof w=="string"&&w.indexOf("%")>=0?w=parseFloat(w.replace("%",""))/100*o:typeof w=="string"&&(w=parseFloat(w)),t.virtualSize=-w,d.forEach(N=>{a?N.style.marginLeft="":N.style.marginRight="",N.style.marginBottom="",N.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Ph(i,"--swiper-centered-offset-before",""),Ph(i,"--swiper-centered-offset-after",""));const C=n.grid&&n.grid.rows>1&&t.grid;C&&t.grid.initSlides(h);let A;const B=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(N=>typeof n.breakpoints[N].slidesPerView<"u").length>0;for(let N=0;N<h;N+=1){A=0;let F;if(d[N]&&(F=d[N]),C&&t.grid.updateSlide(N,F,h,e),!(d[N]&&es(F,"display")==="none")){if(n.slidesPerView==="auto"){B&&(d[N].style[e("width")]="");const D=getComputedStyle(F),M=F.style.transform,S=F.style.webkitTransform;if(M&&(F.style.transform="none"),S&&(F.style.webkitTransform="none"),n.roundLengths)A=t.isHorizontal()?Tb(F,"width"):Tb(F,"height");else{const I=r(D,"width"),L=r(D,"padding-left"),R=r(D,"padding-right"),U=r(D,"margin-left"),O=r(D,"margin-right"),z=D.getPropertyValue("box-sizing");if(z&&z==="border-box")A=I+U+O;else{const{clientWidth:H,offsetWidth:q}=F;A=I+L+R+U+O+(q-H)}}M&&(F.style.transform=M),S&&(F.style.webkitTransform=S),n.roundLengths&&(A=Math.floor(A))}else A=(o-(n.slidesPerView-1)*w)/n.slidesPerView,n.roundLengths&&(A=Math.floor(A)),d[N]&&(d[N].style[e("width")]=`${A}px`);d[N]&&(d[N].swiperSlideSize=A),p.push(A),n.centeredSlides?(b=b+A/2+_/2+w,_===0&&N!==0&&(b=b-o/2-w),N===0&&(b=b-o/2-w),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),E%n.slidesPerGroup===0&&f.push(b),m.push(b)):(n.roundLengths&&(b=Math.floor(b)),(E-Math.min(t.params.slidesPerGroupSkip,E))%t.params.slidesPerGroup===0&&f.push(b),m.push(b),b=b+A+w),t.virtualSize+=A+w,_=A,E+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+y,a&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(i.style.width=`${t.virtualSize+w}px`),n.setWrapperSize&&(i.style[e("width")]=`${t.virtualSize+w}px`),C&&t.grid.updateWrapperSize(A,f,e),!n.centeredSlides){const N=[];for(let F=0;F<f.length;F+=1){let D=f[F];n.roundLengths&&(D=Math.floor(D)),f[F]<=t.virtualSize-o&&N.push(D)}f=N,Math.floor(t.virtualSize-o)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-o)}if(u&&n.loop){const N=p[0]+w;if(n.slidesPerGroup>1){const F=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),D=N*n.slidesPerGroup;for(let M=0;M<F;M+=1)f.push(f[f.length-1]+D)}for(let F=0;F<t.virtual.slidesBefore+t.virtual.slidesAfter;F+=1)n.slidesPerGroup===1&&f.push(f[f.length-1]+N),m.push(m[m.length-1]+N),t.virtualSize+=N}if(f.length===0&&(f=[0]),w!==0){const N=t.isHorizontal()&&a?"marginLeft":e("marginRight");d.filter((F,D)=>!n.cssMode||n.loop?!0:D!==d.length-1).forEach(F=>{F.style[N]=`${w}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let N=0;p.forEach(D=>{N+=D+(w||0)}),N-=w;const F=N-o;f=f.map(D=>D<=0?-v:D>F?F+y:D)}if(n.centerInsufficientSlides){let N=0;if(p.forEach(F=>{N+=F+(w||0)}),N-=w,N<o){const F=(o-N)/2;f.forEach((D,M)=>{f[M]=D-F}),m.forEach((D,M)=>{m[M]=D+F})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:m,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Ph(i,"--swiper-centered-offset-before",`${-f[0]}px`),Ph(i,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const N=-t.snapGrid[0],F=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(D=>D+N),t.slidesGrid=t.slidesGrid.map(D=>D+F)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==x&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),m.length!==g&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),!u&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const N=`${n.containerModifierClass}backface-hidden`,F=t.el.classList.contains(N);h<=n.maxBackfaceHiddenSlides?F||t.el.classList.add(N):F&&t.el.classList.remove(N)}}function r8(t){const e=this,r=[],n=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>n?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{r.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!n)break;r.push(o(a))}else r.push(o(e.activeIndex));for(s=0;s<r.length;s+=1)if(typeof r[s]<"u"){const a=r[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function n8(){const t=this,e=t.slides,r=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-r-t.cssOverflowAdjustment()}function i8(t){t===void 0&&(t=this&&this.translate||0);const e=this,r=e.params,{slides:n,rtlTranslate:i,snapGrid:s}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),n.forEach(l=>{l.classList.remove(r.slideVisibleClass)}),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=r.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let l=0;l<n.length;l+=1){const u=n[l];let c=u.swiperSlideOffset;r.cssMode&&r.centeredSlides&&(c-=n[0].swiperSlideOffset);const d=(o+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+a),h=(o-s[0]+(r.centeredSlides?e.minTranslate():0)-c)/(u.swiperSlideSize+a),f=-(o-c),m=f+e.slidesSizesGrid[l];(f>=0&&f<e.size-1||m>1&&m<=e.size||f<=0&&m>=e.size)&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(l),n[l].classList.add(r.slideVisibleClass)),u.progress=i?-d:d,u.originalProgress=i?-h:h}}function s8(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const r=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const l=s,u=o;if(n===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/n;const c=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=c||i<=0,o=d||i>=1,c&&(i=0),d&&(i=1)}if(r.loop){const c=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[c],f=e.slidesGrid[d],m=e.slidesGrid[e.slidesGrid.length-1],p=Math.abs(t);p>=h?a=(p-h)/m:a=(p+m-f)/m,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(r.watchSlidesProgress||r.centeredSlides&&r.autoHeight)&&e.updateSlidesProgress(t),s&&!l&&e.emit("reachBeginning toEdge"),o&&!u&&e.emit("reachEnd toEdge"),(l&&!s||u&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}function o8(){const t=this,{slides:e,params:r,slidesEl:n,activeIndex:i}=t,s=t.virtual&&r.virtual.enabled,o=l=>fi(n,`.${r.slideClass}${l}, swiper-slide${l}`)[0];e.forEach(l=>{l.classList.remove(r.slideActiveClass,r.slideNextClass,r.slidePrevClass)});let a;if(s)if(r.loop){let l=i-t.virtual.slidesBefore;l<0&&(l=t.virtual.slides.length+l),l>=t.virtual.slides.length&&(l-=t.virtual.slides.length),a=o(`[data-swiper-slide-index="${l}"]`)}else a=o(`[data-swiper-slide-index="${i}"]`);else a=e[i];if(a){a.classList.add(r.slideActiveClass);let l=H6(a,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!l&&(l=e[0]),l&&l.classList.add(r.slideNextClass);let u=G6(a,`.${r.slideClass}, swiper-slide`)[0];r.loop&&!u===0&&(u=e[e.length-1]),u&&u.classList.add(r.slidePrevClass)}t.emitSlidesClasses()}const ud=(t,e)=>{if(!t||t.destroyed||!t.params)return;const r=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(r());if(n){let i=n.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(n.shadowRoot?i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(i=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},Vm=(t,e)=>{if(!t.slides[e])return;const r=t.slides[e].querySelector('[loading="lazy"]');r&&r.removeAttribute("loading")},E0=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const r=t.slides.length;if(!r||!e||e<0)return;e=Math.min(e,r);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((l,u)=>o+n+u)),t.slides.forEach((l,u)=>{a.includes(l.column)&&Vm(t,u)});return}const s=i+n-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%r+r)%r;(a<i||a>s)&&Vm(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,r-1);o+=1)o!==i&&(o>s||o<i)&&Vm(t,o)};function a8(t){const{slidesGrid:e,params:r}=t,n=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?n>=e[s]&&n<e[s+1]-(e[s+1]-e[s])/2?i=s:n>=e[s]&&n<e[s+1]&&(i=s+1):n>=e[s]&&(i=s);return r.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function l8(t){const e=this,r=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let l=t,u;const c=h=>{let f=h-e.virtual.slidesBefore;return f<0&&(f=e.virtual.slides.length+f),f>=e.virtual.slides.length&&(f-=e.virtual.slides.length),f};if(typeof l>"u"&&(l=a8(e)),n.indexOf(r)>=0)u=n.indexOf(r);else{const h=Math.min(i.slidesPerGroupSkip,l);u=h+Math.floor((l-h)/i.slidesPerGroup)}if(u>=n.length&&(u=n.length-1),l===s){u!==a&&(e.snapIndex=u,e.emit("snapIndexChange")),e.params.loop&&e.virtual&&e.params.virtual.enabled&&(e.realIndex=c(l));return}let d;e.virtual&&i.virtual.enabled&&i.loop?d=c(l):e.slides[l]?d=parseInt(e.slides[l].getAttribute("data-swiper-slide-index")||l,10):d=l,Object.assign(e,{previousSnapIndex:a,snapIndex:u,previousRealIndex:o,realIndex:d,previousIndex:s,activeIndex:l}),e.initialized&&E0(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==d&&e.emit("realIndexChange"),e.emit("slideChange"))}function u8(t,e){const r=this,n=r.params;let i=t.closest(`.${n.slideClass}, swiper-slide`);!i&&r.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${n.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<r.slides.length;a+=1)if(r.slides[a]===i){s=!0,o=a;break}}if(i&&s)r.clickedSlide=i,r.virtual&&r.params.virtual.enabled?r.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):r.clickedIndex=o;else{r.clickedSlide=void 0,r.clickedIndex=void 0;return}n.slideToClickedSlide&&r.clickedIndex!==void 0&&r.clickedIndex!==r.activeIndex&&r.slideToClickedSlide()}var c8={updateSize:e8,updateSlides:t8,updateAutoHeight:r8,updateSlidesOffset:n8,updateSlidesProgress:i8,updateProgress:s8,updateSlidesClasses:o8,updateActiveIndex:l8,updateClickedSlide:u8};function h8(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:r,rtlTranslate:n,translate:i,wrapperEl:s}=e;if(r.virtualTranslate)return n?-i:i;if(r.cssMode)return i;let o=j6(s,t);return o+=e.cssOverflowAdjustment(),n&&(o=-o),o||0}function d8(t,e){const r=this,{rtlTranslate:n,params:i,wrapperEl:s,progress:o}=r;let a=0,l=0;const u=0;r.isHorizontal()?a=n?-t:t:l=t,i.roundLengths&&(a=Math.floor(a),l=Math.floor(l)),r.previousTranslate=r.translate,r.translate=r.isHorizontal()?a:l,i.cssMode?s[r.isHorizontal()?"scrollLeft":"scrollTop"]=r.isHorizontal()?-a:-l:i.virtualTranslate||(r.isHorizontal()?a-=r.cssOverflowAdjustment():l-=r.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${l}px, ${u}px)`);let c;const d=r.maxTranslate()-r.minTranslate();d===0?c=0:c=(t-r.minTranslate())/d,c!==o&&r.updateProgress(t),r.emit("setTranslate",r.translate,e)}function f8(){return-this.snapGrid[0]}function p8(){return-this.snapGrid[this.snapGrid.length-1]}function m8(t,e,r,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),n===void 0&&(n=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const l=s.minTranslate(),u=s.maxTranslate();let c;if(n&&t>l?c=l:n&&t<u?c=u:c=t,s.updateProgress(c),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-c;else{if(!s.support.smoothScroll)return QP({swiper:s,targetPosition:-c,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(c),r&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(c),r&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,r&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var g8={getTranslate:h8,setTranslate:d8,minTranslate:f8,maxTranslate:p8,translateTo:m8};function v8(t,e){const r=this;r.params.cssMode||(r.wrapperEl.style.transitionDuration=`${t}ms`,r.wrapperEl.style.transitionDelay=t===0?"0ms":""),r.emit("setTransition",t,e)}function JP(t){let{swiper:e,runCallbacks:r,direction:n,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=n;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),r&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function y8(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;n.cssMode||(n.autoHeight&&r.updateAutoHeight(),JP({swiper:r,runCallbacks:t,direction:e,step:"Start"}))}function x8(t,e){t===void 0&&(t=!0);const r=this,{params:n}=r;r.animating=!1,!n.cssMode&&(r.setTransition(0),JP({swiper:r,runCallbacks:t,direction:e,step:"End"}))}var w8={setTransition:v8,transitionStart:y8,transitionEnd:x8};function _8(t,e,r,n,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:m}=s;if(s.animating&&a.preventInteractionOnTransition||!m&&!n&&!i)return!1;const p=Math.min(s.params.slidesPerGroupSkip,o);let v=p+Math.floor((o-p)/s.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const y=-l[v];if(a.normalizeSlideIndex)for(let g=0;g<u.length;g+=1){const w=-Math.floor(y*100),b=Math.floor(u[g]*100),_=Math.floor(u[g+1]*100);typeof u[g+1]<"u"?w>=b&&w<_-(_-b)/2?o=g:w>=b&&w<_&&(o=g+1):w>=b&&(o=g)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(d||0)!==o))return!1;o!==(c||0)&&r&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let x;if(o>d?x="next":o<d?x="prev":x="reset",h&&-y===s.translate||!h&&y===s.translate)return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(y),x!=="reset"&&(s.transitionStart(r,x),s.transitionEnd(r,x)),!1;if(a.cssMode){const g=s.isHorizontal(),w=h?y:-y;if(e===0){const b=s.virtual&&s.params.virtual.enabled;b&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),b&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[g?"scrollLeft":"scrollTop"]=w})):f[g?"scrollLeft":"scrollTop"]=w,b&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1})}else{if(!s.support.smoothScroll)return QP({swiper:s,targetPosition:w,side:g?"left":"top"}),!0;f.scrollTo({[g?"left":"top"]:w,behavior:"smooth"})}return!0}return s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,n),s.transitionStart(r,x),e===0?s.transitionEnd(r,x):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(w){!s||s.destroyed||w.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(r,x))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function b8(t,e,r,n){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),r===void 0&&(r=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let s=t;return i.params.loop&&(i.virtual&&i.params.virtual.enabled?s=s+i.virtual.slidesBefore:s=i.getSlideIndexByData(s)),i.slideTo(s,e,r,n)}function S8(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const n=this,{enabled:i,params:s,animating:o}=n;if(!i)return n;let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(n.slidesPerViewDynamic("current",!0),1));const l=n.activeIndex<s.slidesPerGroupSkip?1:a,u=n.virtual&&s.virtual.enabled;if(s.loop){if(o&&!u&&s.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+l,t,e,r)}),!0}return s.rewind&&n.isEnd?n.slideTo(0,t,e,r):n.slideTo(n.activeIndex+l,t,e,r)}function E8(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const n=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:l,animating:u}=n;if(!l)return n;const c=n.virtual&&i.virtual.enabled;if(i.loop){if(u&&!c&&i.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const d=a?n.translate:-n.translate;function h(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const f=h(d),m=s.map(y=>h(y));let p=s[m.indexOf(f)-1];if(typeof p>"u"&&i.cssMode){let y;s.forEach((x,g)=>{f>=x&&(y=g)}),typeof y<"u"&&(p=s[y>0?y-1:y])}let v=0;if(typeof p<"u"&&(v=o.indexOf(p),v<0&&(v=n.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(v=v-n.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),i.rewind&&n.isBeginning){const y=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(y,t,e,r)}else if(i.loop&&n.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(v,t,e,r)}),!0;return n.slideTo(v,t,e,r)}function T8(t,e,r){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0);const n=this;return n.slideTo(n.activeIndex,t,e,r)}function C8(t,e,r,n){t===void 0&&(t=this.params.speed),e===void 0&&(e=!0),n===void 0&&(n=.5);const i=this;let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),l=i.rtlTranslate?i.translate:-i.translate;if(l>=i.snapGrid[a]){const u=i.snapGrid[a],c=i.snapGrid[a+1];l-u>(c-u)*n&&(s+=i.params.slidesPerGroup)}else{const u=i.snapGrid[a-1],c=i.snapGrid[a];l-u<=(c-u)*n&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,r)}function A8(){const t=this,{params:e,slidesEl:r}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-n/2||i>t.slides.length-t.loopedSlides+n/2?(t.loopFix(),i=t.getSlideIndex(fi(r,`${o}[data-swiper-slide-index="${s}"]`)[0]),S0(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-n?(t.loopFix(),i=t.getSlideIndex(fi(r,`${o}[data-swiper-slide-index="${s}"]`)[0]),S0(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var P8={slideTo:_8,slideToLoop:b8,slideNext:S8,slidePrev:E8,slideReset:T8,slideToClosest:C8,slideToClickedSlide:A8};function R8(t){const e=this,{params:r,slidesEl:n}=e;if(!r.loop||e.virtual&&e.params.virtual.enabled)return;fi(n,`.${r.slideClass}, swiper-slide`).forEach((s,o)=>{s.setAttribute("data-swiper-slide-index",o)}),e.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next"})}function I8(t){let{slideRealIndex:e,slideTo:r=!0,direction:n,setTranslate:i,activeSlideIndex:s,byController:o,byMousewheel:a}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:c,allowSlideNext:d,slidesEl:h,params:f}=l;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&f.virtual.enabled){r&&(!f.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):f.centeredSlides&&l.snapIndex<f.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=c,l.allowSlideNext=d,l.emit("loopFix");return}const m=f.slidesPerView==="auto"?l.slidesPerViewDynamic():Math.ceil(parseFloat(f.slidesPerView,10));let p=f.loopedSlides||m;p%f.slidesPerGroup!==0&&(p+=f.slidesPerGroup-p%f.slidesPerGroup),l.loopedSlides=p;const v=[],y=[];let x=l.activeIndex;typeof s>"u"?s=l.getSlideIndex(l.slides.filter(E=>E.classList.contains(f.slideActiveClass))[0]):x=s;const g=n==="next"||!n,w=n==="prev"||!n;let b=0,_=0;if(s<p){b=Math.max(p-s,f.slidesPerGroup);for(let E=0;E<p-s;E+=1){const C=E-Math.floor(E/u.length)*u.length;v.push(u.length-C-1)}}else if(s>l.slides.length-p*2){_=Math.max(s-(l.slides.length-p*2),f.slidesPerGroup);for(let E=0;E<_;E+=1){const C=E-Math.floor(E/u.length)*u.length;y.push(C)}}if(w&&v.forEach(E=>{l.slides[E].swiperLoopMoveDOM=!0,h.prepend(l.slides[E]),l.slides[E].swiperLoopMoveDOM=!1}),g&&y.forEach(E=>{l.slides[E].swiperLoopMoveDOM=!0,h.append(l.slides[E]),l.slides[E].swiperLoopMoveDOM=!1}),l.recalcSlides(),f.slidesPerView==="auto"&&l.updateSlides(),f.watchSlidesProgress&&l.updateSlidesOffset(),r){if(v.length>0&&w)if(typeof e>"u"){const E=l.slidesGrid[x],A=l.slidesGrid[x+b]-E;a?l.setTranslate(l.translate-A):(l.slideTo(x+b,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=A,l.touchEventsData.currentTranslate=l.translate))}else i&&(l.slideToLoop(e,0,!1,!0),l.touchEventsData.currentTranslate=l.translate);else if(y.length>0&&g)if(typeof e>"u"){const E=l.slidesGrid[x],A=l.slidesGrid[x-_]-E;a?l.setTranslate(l.translate-A):(l.slideTo(x-_,0,!1,!0),i&&(l.touches[l.isHorizontal()?"startX":"startY"]+=A,l.touchEventsData.currentTranslate=l.translate))}else l.slideToLoop(e,0,!1,!0)}if(l.allowSlidePrev=c,l.allowSlideNext=d,l.controller&&l.controller.control&&!o){const E={slideRealIndex:e,direction:n,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(C=>{!C.destroyed&&C.params.loop&&C.loopFix({...E,slideTo:C.params.slidesPerView===f.slidesPerView?r:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...E,slideTo:l.controller.control.params.slidesPerView===f.slidesPerView?r:!1})}l.emit("loopFix")}function M8(){const t=this,{params:e,slidesEl:r}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;n[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),n.forEach(i=>{r.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var O8={loopCreate:R8,loopFix:I8,loopDestroy:M8};function D8(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const r=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),r.style.cursor="move",r.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function L8(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var k8={setGrabCursor:D8,unsetGrabCursor:L8};function N8(t,e){e===void 0&&(e=this);function r(n){if(!n||n===Io()||n===Or())return null;n.assignedSlot&&(n=n.assignedSlot);const i=n.closest(t);return!i&&!n.getRootNode?null:i||r(n.getRootNode().host)}return r(e)}function F8(t){const e=this,r=Io(),n=Or(),i=e.touchEventsData;i.evCache.push(t);const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&t.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=l.target;if(s.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(u)||"which"in l&&l.which===3||"button"in l&&l.button>0||i.isTouched&&i.isMoved)return;const c=!!s.noSwipingClass&&s.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;c&&l.target&&l.target.shadowRoot&&d&&(u=d[0]);const h=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,f=!!(l.target&&l.target.shadowRoot);if(s.noSwiping&&(f?N8(h,u):u.closest(h))){e.allowClick=!0;return}if(s.swipeHandler&&!u.closest(s.swipeHandler))return;o.currentX=l.pageX,o.currentY=l.pageY;const m=o.currentX,p=o.currentY,v=s.edgeSwipeDetection||s.iOSEdgeSwipeDetection,y=s.edgeSwipeThreshold||s.iOSEdgeSwipeThreshold;if(v&&(m<=y||m>=n.innerWidth-y))if(v==="prevent")t.preventDefault();else return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=p,i.touchStartTime=lf(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let x=!0;u.matches(i.focusableElements)&&(x=!1,u.nodeName==="SELECT"&&(i.isTouched=!1)),r.activeElement&&r.activeElement.matches(i.focusableElements)&&r.activeElement!==u&&r.activeElement.blur();const g=x&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||g)&&!u.isContentEditable&&l.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function B8(t){const e=Io(),r=this,n=r.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=r;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!n.isTouched){n.startMoving&&n.isScrolling&&r.emit("touchMoveOpposite",l);return}const u=n.evCache.findIndex(E=>E.pointerId===l.pointerId);u>=0&&(n.evCache[u]=l);const c=n.evCache.length>1?n.evCache[0]:l,d=c.pageX,h=c.pageY;if(l.preventedByNestedSwiper){s.startX=d,s.startY=h;return}if(!r.allowTouchMove){l.target.matches(n.focusableElements)||(r.allowClick=!1),n.isTouched&&(Object.assign(s,{startX:d,startY:h,prevX:r.touches.currentX,prevY:r.touches.currentY,currentX:d,currentY:h}),n.touchStartTime=lf());return}if(i.touchReleaseOnEdges&&!i.loop){if(r.isVertical()){if(h<s.startY&&r.translate<=r.maxTranslate()||h>s.startY&&r.translate>=r.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else if(d<s.startX&&r.translate<=r.maxTranslate()||d>s.startX&&r.translate>=r.minTranslate())return}if(e.activeElement&&l.target===e.activeElement&&l.target.matches(n.focusableElements)){n.isMoved=!0,r.allowClick=!1;return}if(n.allowTouchCallbacks&&r.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;s.currentX=d,s.currentY=h;const f=s.currentX-s.startX,m=s.currentY-s.startY;if(r.params.threshold&&Math.sqrt(f**2+m**2)<r.params.threshold)return;if(typeof n.isScrolling>"u"){let E;r.isHorizontal()&&s.currentY===s.startY||r.isVertical()&&s.currentX===s.startX?n.isScrolling=!1:f*f+m*m>=25&&(E=Math.atan2(Math.abs(m),Math.abs(f))*180/Math.PI,n.isScrolling=r.isHorizontal()?E>i.touchAngle:90-E>i.touchAngle)}if(n.isScrolling&&r.emit("touchMoveOpposite",l),typeof n.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(n.startMoving=!0),n.isScrolling||r.zoom&&r.params.zoom&&r.params.zoom.enabled&&n.evCache.length>1){n.isTouched=!1;return}if(!n.startMoving)return;r.allowClick=!1,!i.cssMode&&l.cancelable&&l.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&l.stopPropagation();let p=r.isHorizontal()?f:m,v=r.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),v=Math.abs(v)*(o?1:-1)),s.diff=p,p*=i.touchRatio,o&&(p=-p,v=-v);const y=r.touchesDirection;r.swipeDirection=p>0?"prev":"next",r.touchesDirection=v>0?"prev":"next";const x=r.params.loop&&!i.cssMode,g=r.swipeDirection==="next"&&r.allowSlideNext||r.swipeDirection==="prev"&&r.allowSlidePrev;if(!n.isMoved){if(x&&g&&r.loopFix({direction:r.swipeDirection}),n.startTranslate=r.getTranslate(),r.setTransition(0),r.animating){const E=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(E)}n.allowMomentumBounce=!1,i.grabCursor&&(r.allowSlideNext===!0||r.allowSlidePrev===!0)&&r.setGrabCursor(!0),r.emit("sliderFirstMove",l)}let w;n.isMoved&&y!==r.touchesDirection&&x&&g&&Math.abs(p)>=1&&(r.loopFix({direction:r.swipeDirection,setTranslate:!0}),w=!0),r.emit("sliderMove",l),n.isMoved=!0,n.currentTranslate=p+n.startTranslate;let b=!0,_=i.resistanceRatio;if(i.touchReleaseOnEdges&&(_=0),p>0?(x&&g&&!w&&n.currentTranslate>(i.centeredSlides?r.minTranslate()-r.size/2:r.minTranslate())&&r.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>r.minTranslate()&&(b=!1,i.resistance&&(n.currentTranslate=r.minTranslate()-1+(-r.minTranslate()+n.startTranslate+p)**_))):p<0&&(x&&g&&!w&&n.currentTranslate<(i.centeredSlides?r.maxTranslate()+r.size/2:r.maxTranslate())&&r.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:r.slides.length-(i.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),n.currentTranslate<r.maxTranslate()&&(b=!1,i.resistance&&(n.currentTranslate=r.maxTranslate()+1-(r.maxTranslate()-n.startTranslate-p)**_))),b&&(l.preventedByNestedSwiper=!0),!r.allowSlideNext&&r.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&r.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!r.allowSlidePrev&&!r.allowSlideNext&&(n.currentTranslate=n.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,n.currentTranslate=n.startTranslate,s.diff=r.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{n.currentTranslate=n.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&r.freeMode||i.watchSlidesProgress)&&(r.updateActiveIndex(),r.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&r.freeMode&&r.freeMode.onTouchMove(),r.updateProgress(n.currentTranslate),r.setTranslate(n.currentTranslate))}function U8(t){const e=this,r=e.touchEventsData,n=r.evCache.findIndex(g=>g.pointerId===t.pointerId);if(n>=0&&r.evCache.splice(n,1),["pointercancel","pointerout","pointerleave","contextmenu"].includes(t.type)&&!(["pointercancel","contextmenu"].includes(t.type)&&(e.browser.isSafari||e.browser.isWebView)))return;const{params:i,touches:s,rtlTranslate:o,slidesGrid:a,enabled:l}=e;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let u=t;if(u.originalEvent&&(u=u.originalEvent),r.allowTouchCallbacks&&e.emit("touchEnd",u),r.allowTouchCallbacks=!1,!r.isTouched){r.isMoved&&i.grabCursor&&e.setGrabCursor(!1),r.isMoved=!1,r.startMoving=!1;return}i.grabCursor&&r.isMoved&&r.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=lf(),d=c-r.touchStartTime;if(e.allowClick){const g=u.path||u.composedPath&&u.composedPath();e.updateClickedSlide(g&&g[0]||u.target,g),e.emit("tap click",u),d<300&&c-r.lastClickTime<300&&e.emit("doubleTap doubleClick",u)}if(r.lastClickTime=lf(),S0(()=>{e.destroyed||(e.allowClick=!0)}),!r.isTouched||!r.isMoved||!e.swipeDirection||s.diff===0||r.currentTranslate===r.startTranslate){r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;return}r.isTouched=!1,r.isMoved=!1,r.startMoving=!1;let h;if(i.followFinger?h=o?e.translate:-e.translate:h=-r.currentTranslate,i.cssMode)return;if(i.freeMode&&i.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,m=e.slidesSizesGrid[0];for(let g=0;g<a.length;g+=g<i.slidesPerGroupSkip?1:i.slidesPerGroup){const w=g<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;typeof a[g+w]<"u"?h>=a[g]&&h<a[g+w]&&(f=g,m=a[g+w]-a[g]):h>=a[g]&&(f=g,m=a[a.length-1]-a[a.length-2])}let p=null,v=null;i.rewind&&(e.isBeginning?v=i.virtual&&i.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(p=0));const y=(h-a[f])/m,x=f<i.slidesPerGroupSkip-1?1:i.slidesPerGroup;if(d>i.longSwipesMs){if(!i.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=i.longSwipesRatio?e.slideTo(i.rewind&&e.isEnd?p:f+x):e.slideTo(f)),e.swipeDirection==="prev"&&(y>1-i.longSwipesRatio?e.slideTo(f+x):v!==null&&y<0&&Math.abs(y)>i.longSwipesRatio?e.slideTo(v):e.slideTo(f))}else{if(!i.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(u.target===e.navigation.nextEl||u.target===e.navigation.prevEl)?u.target===e.navigation.nextEl?e.slideTo(f+x):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(p!==null?p:f+x),e.swipeDirection==="prev"&&e.slideTo(v!==null?v:f))}}function Cb(){const t=this,{params:e,el:r}=t;if(r&&r.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=n,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function j8(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function $8(){const t=this,{wrapperEl:e,rtlTranslate:r,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(r?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function z8(t){const e=this;ud(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}let Ab=!1;function G8(){}const e2=(t,e)=>{const r=Io(),{params:n,el:i,wrapperEl:s,device:o}=t,a=!!n.nested,l=e==="on"?"addEventListener":"removeEventListener",u=e;i[l]("pointerdown",t.onTouchStart,{passive:!1}),r[l]("pointermove",t.onTouchMove,{passive:!1,capture:a}),r[l]("pointerup",t.onTouchEnd,{passive:!0}),r[l]("pointercancel",t.onTouchEnd,{passive:!0}),r[l]("pointerout",t.onTouchEnd,{passive:!0}),r[l]("pointerleave",t.onTouchEnd,{passive:!0}),r[l]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&i[l]("click",t.onClick,!0),n.cssMode&&s[l]("scroll",t.onScroll),n.updateOnWindowResize?t[u](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",Cb,!0):t[u]("observerUpdate",Cb,!0),i[l]("load",t.onLoad,{capture:!0})};function H8(){const t=this,e=Io(),{params:r}=t;t.onTouchStart=F8.bind(t),t.onTouchMove=B8.bind(t),t.onTouchEnd=U8.bind(t),r.cssMode&&(t.onScroll=$8.bind(t)),t.onClick=j8.bind(t),t.onLoad=z8.bind(t),Ab||(e.addEventListener("touchstart",G8),Ab=!0),e2(t,"on")}function V8(){e2(this,"off")}var W8={attachEvents:H8,detachEvents:V8};const Pb=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function X8(){const t=this,{realIndex:e,initialized:r,params:n,el:i}=t,s=n.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=t.getBreakpoint(s,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const l=(o in s?s[o]:void 0)||t.originalParams,u=Pb(t,n),c=Pb(t,l),d=n.enabled;u&&!c?(i.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&c&&(i.classList.add(`${n.containerModifierClass}grid`),(l.grid.fill&&l.grid.fill==="column"||!l.grid.fill&&n.grid.fill==="column")&&i.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{if(typeof l[y]>"u")return;const x=n[y]&&n[y].enabled,g=l[y]&&l[y].enabled;x&&!g&&t[y].disable(),!x&&g&&t[y].enable()});const h=l.direction&&l.direction!==n.direction,f=n.loop&&(l.slidesPerView!==n.slidesPerView||h),m=n.loop;h&&r&&t.changeDirection(),Er(t.params,l);const p=t.params.enabled,v=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),d&&!p?t.disable():!d&&p&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",l),r&&(f?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&v?(t.loopCreate(e),t.updateSlides()):m&&!v&&t.loopDestroy()),t.emit("breakpoint",l)}function Y8(t,e,r){if(e===void 0&&(e="window"),!t||e==="container"&&!r)return;let n=!1;const i=Or(),s=e==="window"?i.innerHeight:r.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:s*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?i.matchMedia(`(min-width: ${u}px)`).matches&&(n=l):u<=r.clientWidth&&(n=l)}return n||"max"}var q8={setBreakpoint:X8,getBreakpoint:Y8};function K8(t,e){const r=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(i=>{n[i]&&r.push(e+i)}):typeof n=="string"&&r.push(e+n)}),r}function Q8(){const t=this,{classNames:e,params:r,rtl:n,el:i,device:s}=t,o=K8(["initialized",r.direction,{"free-mode":t.params.freeMode&&r.freeMode.enabled},{autoheight:r.autoHeight},{rtl:n},{grid:r.grid&&r.grid.rows>1},{"grid-column":r.grid&&r.grid.rows>1&&r.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":r.cssMode},{centered:r.cssMode&&r.centeredSlides},{"watch-progress":r.watchSlidesProgress}],r.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function Z8(){const t=this,{el:e,classNames:r}=t;e.classList.remove(...r),t.emitContainerClasses()}var J8={addClasses:Q8,removeClasses:Z8};function e7(){const t=this,{isLocked:e,params:r}=t,{slidesOffsetBefore:n}=r;if(n){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+n*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;r.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),r.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var t7={checkOverflow:e7},T0={init:!0,direction:"horizontal",oneWayMovement:!1,touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopedSlides:null,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function r7(t,e){return function(n){n===void 0&&(n={});const i=Object.keys(n)[0],s=n[i];if(typeof s!="object"||s===null){Er(e,n);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Er(e,n);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Er(e,n)}}const Wm={eventsEmitter:J6,update:c8,translate:g8,transition:w8,slide:P8,loop:O8,grabCursor:k8,events:W8,breakpoints:q8,checkOverflow:t7,classes:J8},Xm={};let p1=class ri{constructor(){let e,r;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?r=i[0]:[e,r]=i,r||(r={}),r=Er({},r),e&&!r.el&&(r.el=e);const o=Io();if(r.el&&typeof r.el=="string"&&o.querySelectorAll(r.el).length>1){const c=[];return o.querySelectorAll(r.el).forEach(d=>{const h=Er({},r,{el:d});c.push(new ri(h))}),c}const a=this;a.__swiper__=!0,a.support=ZP(),a.device=Y6({userAgent:r.userAgent}),a.browser=K6(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],r.modules&&Array.isArray(r.modules)&&a.modules.push(...r.modules);const l={};a.modules.forEach(c=>{c({params:r,swiper:a,extendParams:r7(r,l),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const u=Er({},T0,l);return a.params=Er({},u,Xm,r),a.originalParams=Er({},a.params),a.passedParams=Er({},r),a.params&&a.params.on&&Object.keys(a.params.on).forEach(c=>{a.on(c,a.params.on[c])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,evCache:[]},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getSlideIndex(e){const{slidesEl:r,params:n}=this,i=fi(r,`.${n.slideClass}, swiper-slide`),s=Eb(i[0]);return Eb(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(r=>r.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:r,params:n}=e;e.slides=fi(r,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,r){const n=this;e=Math.min(Math.max(e,0),1);const i=n.minTranslate(),o=(n.maxTranslate()-i)*e+i;n.translateTo(o,typeof r>"u"?0:r),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",r.join(" "))}getSlideClasses(e){const r=this;return r.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(r.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const r=[];e.slides.forEach(n=>{const i=e.getSlideClasses(n);r.push({slideEl:n,classNames:i}),e.emit("_slideClass",n,i)}),e.emit("_slideClasses",r)}slidesPerViewDynamic(e,r){e===void 0&&(e="current"),r===void 0&&(r=!1);const n=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=n;let c=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=s[u]?s[u].swiperSlideSize:0,h;for(let f=u+1;f<s.length;f+=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,c+=1,d>l&&(h=!0));for(let f=u-1;f>=0;f-=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,c+=1,d>l&&(h=!0))}else if(e==="current")for(let d=u+1;d<s.length;d+=1)(r?o[d]+a[d]-o[u]<l:o[d]-o[u]<l)&&(c+=1);else for(let d=u-1;d>=0;d-=1)o[u]-o[d]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:r,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&ud(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)i(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const o=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}n.watchOverflow&&r!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,r){r===void 0&&(r=!0);const n=this,i=n.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${i}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),n.emit("changeDirection"),r&&n.update()),n}changeLanguageDirection(e){const r=this;r.rtl&&e==="rtl"||!r.rtl&&e==="ltr"||(r.rtl=e==="rtl",r.rtlTranslate=r.params.direction==="horizontal"&&r.rtl,r.rtl?(r.el.classList.add(`${r.params.containerModifierClass}rtl`),r.el.dir="rtl"):(r.el.classList.remove(`${r.params.containerModifierClass}rtl`),r.el.dir="ltr"),r.update())}mount(e){const r=this;if(r.mounted)return!0;let n=e||r.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=r,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName==="SWIPER-CONTAINER"&&(r.isElement=!0);const i=()=>`.${(r.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(i()):fi(n,i())[0];return!o&&r.params.createElements&&(o=z6("div",r.params.wrapperClass),n.append(o),fi(n,`.${r.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(r,{el:n,wrapperEl:o,slidesEl:r.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:o,hostEl:r.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||es(n,"direction")==="rtl",rtlTranslate:r.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||es(n,"direction")==="rtl"),wrongRTL:es(o,"display")==="-webkit-box"}),!0}init(e){const r=this;if(r.initialized||r.mount(e)===!1)return r;r.emit("beforeInit"),r.params.breakpoints&&r.setBreakpoint(),r.addClasses(),r.updateSize(),r.updateSlides(),r.params.watchOverflow&&r.checkOverflow(),r.params.grabCursor&&r.enabled&&r.setGrabCursor(),r.params.loop&&r.virtual&&r.params.virtual.enabled?r.slideTo(r.params.initialSlide+r.virtual.slidesBefore,0,r.params.runCallbacksOnInit,!1,!0):r.slideTo(r.params.initialSlide,0,r.params.runCallbacksOnInit,!1,!0),r.params.loop&&r.loopCreate(),r.attachEvents();const i=[...r.el.querySelectorAll('[loading="lazy"]')];return r.isElement&&i.push(...r.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?ud(r,s):s.addEventListener("load",o=>{ud(r,o.target)})}),E0(r),r.initialized=!0,E0(r),r.emit("init"),r.emit("afterInit"),r}destroy(e,r){e===void 0&&(e=!0),r===void 0&&(r=!0);const n=this,{params:i,el:s,wrapperEl:o,slides:a}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),i.loop&&n.loopDestroy(),r&&(n.removeClasses(),s.removeAttribute("style"),o.removeAttribute("style"),a&&a.length&&a.forEach(l=>{l.classList.remove(i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),l.removeAttribute("style"),l.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(l=>{n.off(l)}),e!==!1&&(n.el.swiper=null,B6(n)),n.destroyed=!0),null}static extendDefaults(e){Er(Xm,e)}static get extendedDefaults(){return Xm}static get defaults(){return T0}static installModule(e){ri.prototype.__modules__||(ri.prototype.__modules__=[]);const r=ri.prototype.__modules__;typeof e=="function"&&r.indexOf(e)<0&&r.push(e)}static use(e){return Array.isArray(e)?(e.forEach(r=>ri.installModule(r)),ri):(ri.installModule(e),ri)}};Object.keys(Wm).forEach(t=>{Object.keys(Wm[t]).forEach(e=>{p1.prototype[e]=Wm[t][e]})});p1.use([Q6,Z6]);const t2=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function So(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function ho(t,e){const r=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>r.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:So(e[n])&&So(t[n])&&Object.keys(e[n]).length>0?e[n].__swiper__?t[n]=e[n]:ho(t[n],e[n]):t[n]=e[n]})}function r2(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function n2(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function i2(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function s2(t){t===void 0&&(t="");const e=t.split(" ").map(n=>n.trim()).filter(n=>!!n),r=[];return e.forEach(n=>{r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function n7(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function i7(t){let{swiper:e,slides:r,passedParams:n,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:l}=t;const u=i.filter(A=>A!=="children"&&A!=="direction"&&A!=="wrapperClass"),{params:c,pagination:d,navigation:h,scrollbar:f,virtual:m,thumbs:p}=e;let v,y,x,g,w,b,_,E;i.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(v=!0),i.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(y=!0),i.includes("pagination")&&n.pagination&&(n.pagination.el||l)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(x=!0),i.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||a)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(g=!0),i.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(w=!0);const C=A=>{e[A]&&(e[A].destroy(),A==="navigation"?(e.isElement&&(e[A].prevEl.remove(),e[A].nextEl.remove()),c[A].prevEl=void 0,c[A].nextEl=void 0,e[A].prevEl=void 0,e[A].nextEl=void 0):(e.isElement&&e[A].el.remove(),c[A].el=void 0,e[A].el=void 0))};i.includes("loop")&&e.isElement&&(c.loop&&!n.loop?b=!0:!c.loop&&n.loop?_=!0:E=!0),u.forEach(A=>{if(So(c[A])&&So(n[A]))ho(c[A],n[A]),(A==="navigation"||A==="pagination"||A==="scrollbar")&&"enabled"in n[A]&&!n[A].enabled&&C(A);else{const B=n[A];(B===!0||B===!1)&&(A==="navigation"||A==="pagination"||A==="scrollbar")?B===!1&&C(A):c[A]=n[A]}}),u.includes("controller")&&!y&&e.controller&&e.controller.control&&c.controller&&c.controller.control&&(e.controller.control=c.controller.control),i.includes("children")&&r&&m&&c.virtual.enabled&&(m.slides=r,m.update(!0)),i.includes("children")&&r&&c.loop&&(E=!0),v&&p.init()&&p.update(!0),y&&(e.controller.control=c.controller.control),x&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-pagination"),l.part.add("pagination"),e.el.appendChild(l)),l&&(c.pagination.el=l),d.init(),d.render(),d.update()),g&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(c.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),w&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(c.navigation.nextEl=s),o&&(c.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=n.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=n.allowSlidePrev),i.includes("direction")&&e.changeDirection(n.direction,!1),(b||E)&&e.loopDestroy(),(_||E)&&e.loopCreate(),e.update()}function s7(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const r={on:{}},n={},i={};ho(r,T0),r._emitClasses=!0,r.init=!1;const s={},o=t2.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?So(t[l])?(r[l]={},i[l]={},ho(r[l],t[l]),ho(i[l],t[l])):(r[l]=t[l],i[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?n[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:r.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:s[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{r[l]===!0&&(r[l]={}),r[l]===!1&&delete r[l]}),{params:r,passedParams:i,rest:s,events:n}}function o7(t,e){let{el:r,nextEl:n,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;r2(e)&&n&&i&&(a.params.navigation.nextEl=n,a.originalParams.navigation.nextEl=n,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),n2(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),i2(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(r)}function a7(t,e,r,n,i){const s=[];if(!e)return s;const o=l=>{s.indexOf(l)<0&&s.push(l)};if(r&&n){const l=n.map(i),u=r.map(i);l.join("")!==u.join("")&&o("children"),n.length!==r.length&&o("children")}return t2.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(So(t[l])&&So(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?o(l):(u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),s}const l7=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function uf(){return uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uf.apply(this,arguments)}function o2(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function a2(t){const e=[];return bt.Children.toArray(t).forEach(r=>{o2(r)?e.push(r):r.props&&r.props.children&&a2(r.props.children).forEach(n=>e.push(n))}),e}function u7(t){const e=[],r={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return bt.Children.toArray(t).forEach(n=>{if(o2(n))e.push(n);else if(n.props&&n.props.slot&&r[n.props.slot])r[n.props.slot].push(n);else if(n.props&&n.props.children){const i=a2(n.props.children);i.length>0?i.forEach(s=>e.push(s)):r["container-end"].push(n)}else r["container-end"].push(n)}),{slides:e,slots:r}}function c7(t,e,r){if(!r)return null;const n=c=>{let d=c;return c<0?d=e.length+c:d>=e.length&&(d=d-e.length),d},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:s,to:o}=r,a=t.params.loop?-e.length:0,l=t.params.loop?e.length*2:e.length,u=[];for(let c=a;c<l;c+=1)c>=s&&c<=o&&u.push(e[n(c)]);return u.map((c,d)=>bt.cloneElement(c,{swiper:t,style:i,key:`slide-${d}`}))}function _u(t,e){return typeof window>"u"?P.useEffect(t,e):P.useLayoutEffect(t,e)}const Rb=P.createContext(null),h7=P.createContext(null),d7=P.forwardRef(function(t,e){let{className:r,tag:n="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,c]=P.useState("swiper"),[d,h]=P.useState(null),[f,m]=P.useState(!1),p=P.useRef(!1),v=P.useRef(null),y=P.useRef(null),x=P.useRef(null),g=P.useRef(null),w=P.useRef(null),b=P.useRef(null),_=P.useRef(null),E=P.useRef(null),{params:C,passedParams:A,rest:B,events:N}=s7(a),{slides:F,slots:D}=u7(s),M=()=>{m(!f)};Object.assign(C.on,{_containerClasses(U,O){c(O)}});const S=()=>{Object.assign(C.on,N),l=!0;const U={...C};if(delete U.wrapperClass,y.current=new p1(U),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=F;const O={cache:!1,slides:F,renderExternal:h,renderExternalUpdate:!1};ho(y.current.params.virtual,O),ho(y.current.originalParams.virtual,O)}};v.current||S(),y.current&&y.current.on("_beforeBreakpoint",M);const I=()=>{l||!N||!y.current||Object.keys(N).forEach(U=>{y.current.on(U,N[U])})},L=()=>{!N||!y.current||Object.keys(N).forEach(U=>{y.current.off(U,N[U])})};P.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",M)}),P.useEffect(()=>{!p.current&&y.current&&(y.current.emitSlidesClasses(),p.current=!0)}),_u(()=>{if(e&&(e.current=v.current),!!v.current)return y.current.destroyed&&S(),o7({el:v.current,nextEl:w.current,prevEl:b.current,paginationEl:_.current,scrollbarEl:E.current,swiper:y.current},C),o&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),_u(()=>{I();const U=a7(A,x.current,F,g.current,O=>O.key);return x.current=A,g.current=F,U.length&&y.current&&!y.current.destroyed&&i7({swiper:y.current,slides:F,passedParams:A,changedParams:U,nextEl:w.current,prevEl:b.current,scrollbarEl:E.current,paginationEl:_.current}),()=>{L()}}),_u(()=>{l7(y.current)},[d]);function R(){return C.virtual?c7(y.current,F,d):F.map((U,O)=>bt.cloneElement(U,{swiper:y.current,swiperSlideIndex:O}))}return bt.createElement(n,uf({ref:v,className:s2(`${u}${r?` ${r}`:""}`)},B),bt.createElement(h7.Provider,{value:y.current},D["container-start"],bt.createElement(i,{className:n7(C.wrapperClass)},D["wrapper-start"],R(),D["wrapper-end"]),r2(C)&&bt.createElement(bt.Fragment,null,bt.createElement("div",{ref:b,className:"swiper-button-prev"}),bt.createElement("div",{ref:w,className:"swiper-button-next"})),i2(C)&&bt.createElement("div",{ref:E,className:"swiper-scrollbar"}),n2(C)&&bt.createElement("div",{ref:_,className:"swiper-pagination"}),D["container-end"]))});d7.displayName="Swiper";const f7=P.forwardRef(function(t,e){let{tag:r="div",children:n,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:l,swiperSlideIndex:u,...c}=t===void 0?{}:t;const d=P.useRef(null),[h,f]=P.useState("swiper-slide"),[m,p]=P.useState(!1);function v(w,b,_){b===d.current&&f(_)}_u(()=>{if(typeof u<"u"&&(d.current.swiperSlideIndex=u),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&f("swiper-slide");return}return s.on("_slideClass",v),()=>{s&&s.off("_slideClass",v)}}}),_u(()=>{s&&d.current&&!s.destroyed&&f(s.getSlideClasses(d.current))},[s]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},x=()=>typeof n=="function"?n(y):n,g=()=>{p(!0)};return bt.createElement(r,uf({ref:d,className:s2(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":l,onLoad:g},c),o&&bt.createElement(Rb.Provider,{value:y},bt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},x(),a&&!m&&bt.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&bt.createElement(Rb.Provider,{value:y},x(),a&&!m&&bt.createElement("div",{className:"swiper-lazy-preloader"})))});f7.displayName="SwiperSlide";var l2={};Object.defineProperty(l2,"__esModule",{value:!0});const p7=t=>{const e="",r="AAAAAAAAaaaaaaaaOOOOOOOooooooEEEEEEeeeeeeeCCCcccDIIIIIiiiiiUUUUUuuuuuNNnnSSssYyyZZZzzzLLllNNnnaaaaaaaaaaaaaaaaaeeeeeeeeeeeduuuuuuuuuuuoooooooooooooooooiiiiiaeiiuuncyyyyygisGISGgKk",n=e.split("").join("|"),i=new RegExp(`(${n})`,"g");function s(o){return r[e.indexOf(o)]||""}return t.replace(i,s)},m7=t=>t.split("").map(e=>`\\${e}`).join(""),Ib=(t,e,r=!1)=>{const n=p7(t).trim().toLowerCase(),i=m7(e);return r?n.replace(/\s+/g,e):n.replace(new RegExp(`[^a-z0-9${i}]+`,"g"),e).replace(new RegExp(`${i}+`,"g"),e).replace(new RegExp(`^${i}`,"g"),"").replace(new RegExp(`${i}$`,"g"),"")},eu=(t,e={delimiter:"-",prefix:""})=>{if(e.delimiter||(e.delimiter="-"),e.prefix||(e.prefix=""),!t||typeof t=="boolean")return"";const{delimiter:r,prefix:n}=e;if(typeof t=="boolean")return"";if(typeof t=="string"||typeof t=="number"){const i=Ib(n,r,!0),s=Ib(String(t),r);return i?`${i}${r}${s}`:s}return"children"in t?eu(t.children):"type"in t?eu(t.props.children,e):Symbol.iterator in t?eu(Array.from(t).map(i=>eu(i,{delimiter:r})).join(r),e):""};l2.default=eu;dn.Down,dn.Right,dn.Up,dn.Left;var m1={},g1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0;var e;(function(n){n.Root="root",n.Text="text",n.Directive="directive",n.Comment="comment",n.Script="script",n.Style="style",n.Tag="tag",n.CDATA="cdata",n.Doctype="doctype"})(e=t.ElementType||(t.ElementType={}));function r(n){return n.type===e.Tag||n.type===e.Script||n.type===e.Style}t.isTag=r,t.Root=e.Root,t.Text=e.Text,t.Directive=e.Directive,t.Comment=e.Comment,t.Script=e.Script,t.Style=e.Style,t.Tag=e.Tag,t.CDATA=e.CDATA,t.Doctype=e.Doctype})(g1);var Me={},Cs=vt&&vt.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),bu=vt&&vt.__assign||function(){return bu=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},bu.apply(this,arguments)};Object.defineProperty(Me,"__esModule",{value:!0});Me.cloneNode=Me.hasChildren=Me.isDocument=Me.isDirective=Me.isComment=Me.isText=Me.isCDATA=Me.isTag=Me.Element=Me.Document=Me.CDATA=Me.NodeWithChildren=Me.ProcessingInstruction=Me.Comment=Me.Text=Me.DataNode=Me.Node=void 0;var yr=g1,v1=function(){function t(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),t.prototype.cloneNode=function(e){return e===void 0&&(e=!1),y1(this,e)},t}();Me.Node=v1;var ip=function(t){Cs(e,t);function e(r){var n=t.call(this)||this;return n.data=r,n}return Object.defineProperty(e.prototype,"nodeValue",{get:function(){return this.data},set:function(r){this.data=r},enumerable:!1,configurable:!0}),e}(v1);Me.DataNode=ip;var u2=function(t){Cs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=yr.ElementType.Text,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),e}(ip);Me.Text=u2;var c2=function(t){Cs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=yr.ElementType.Comment,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),e}(ip);Me.Comment=c2;var h2=function(t){Cs(e,t);function e(r,n){var i=t.call(this,n)||this;return i.name=r,i.type=yr.ElementType.Directive,i}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),e}(ip);Me.ProcessingInstruction=h2;var sp=function(t){Cs(e,t);function e(r){var n=t.call(this)||this;return n.children=r,n}return Object.defineProperty(e.prototype,"firstChild",{get:function(){var r;return(r=this.children[0])!==null&&r!==void 0?r:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childNodes",{get:function(){return this.children},set:function(r){this.children=r},enumerable:!1,configurable:!0}),e}(v1);Me.NodeWithChildren=sp;var d2=function(t){Cs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=yr.ElementType.CDATA,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),e}(sp);Me.CDATA=d2;var f2=function(t){Cs(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=yr.ElementType.Root,r}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),e}(sp);Me.Document=f2;var p2=function(t){Cs(e,t);function e(r,n,i,s){i===void 0&&(i=[]),s===void 0&&(s=r==="script"?yr.ElementType.Script:r==="style"?yr.ElementType.Style:yr.ElementType.Tag);var o=t.call(this,i)||this;return o.name=r,o.attribs=n,o.type=s,o}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tagName",{get:function(){return this.name},set:function(r){this.name=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"attributes",{get:function(){var r=this;return Object.keys(this.attribs).map(function(n){var i,s;return{name:n,value:r.attribs[n],namespace:(i=r["x-attribsNamespace"])===null||i===void 0?void 0:i[n],prefix:(s=r["x-attribsPrefix"])===null||s===void 0?void 0:s[n]}})},enumerable:!1,configurable:!0}),e}(sp);Me.Element=p2;function m2(t){return(0,yr.isTag)(t)}Me.isTag=m2;function g2(t){return t.type===yr.ElementType.CDATA}Me.isCDATA=g2;function v2(t){return t.type===yr.ElementType.Text}Me.isText=v2;function y2(t){return t.type===yr.ElementType.Comment}Me.isComment=y2;function x2(t){return t.type===yr.ElementType.Directive}Me.isDirective=x2;function w2(t){return t.type===yr.ElementType.Root}Me.isDocument=w2;function g7(t){return Object.prototype.hasOwnProperty.call(t,"children")}Me.hasChildren=g7;function y1(t,e){e===void 0&&(e=!1);var r;if(v2(t))r=new u2(t.data);else if(y2(t))r=new c2(t.data);else if(m2(t)){var n=e?Ym(t.children):[],i=new p2(t.name,bu({},t.attribs),n);n.forEach(function(l){return l.parent=i}),t.namespace!=null&&(i.namespace=t.namespace),t["x-attribsNamespace"]&&(i["x-attribsNamespace"]=bu({},t["x-attribsNamespace"])),t["x-attribsPrefix"]&&(i["x-attribsPrefix"]=bu({},t["x-attribsPrefix"])),r=i}else if(g2(t)){var n=e?Ym(t.children):[],s=new d2(n);n.forEach(function(u){return u.parent=s}),r=s}else if(w2(t)){var n=e?Ym(t.children):[],o=new f2(n);n.forEach(function(u){return u.parent=o}),t["x-mode"]&&(o["x-mode"]=t["x-mode"]),r=o}else if(x2(t)){var a=new h2(t.name,t.data);t["x-name"]!=null&&(a["x-name"]=t["x-name"],a["x-publicId"]=t["x-publicId"],a["x-systemId"]=t["x-systemId"]),r=a}else throw new Error("Not implemented yet: ".concat(t.type));return r.startIndex=t.startIndex,r.endIndex=t.endIndex,t.sourceCodeLocation!=null&&(r.sourceCodeLocation=t.sourceCodeLocation),r}Me.cloneNode=y1;function Ym(t){for(var e=t.map(function(n){return y1(n,!0)}),r=1;r<e.length;r++)e[r].prev=e[r-1],e[r-1].next=e[r];return e}(function(t){var e=vt&&vt.__createBinding||(Object.create?function(a,l,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(l,u);(!d||("get"in d?!l.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(a,c,d)}:function(a,l,u,c){c===void 0&&(c=u),a[c]=l[u]}),r=vt&&vt.__exportStar||function(a,l){for(var u in a)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&e(l,a,u)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var n=g1,i=Me;r(Me,t);var s={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function a(l,u,c){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof u=="function"&&(c=u,u=s),typeof l=="object"&&(u=l,l=void 0),this.callback=l??null,this.options=u??s,this.elementCB=c??null}return a.prototype.onparserinit=function(l){this.parser=l},a.prototype.onreset=function(){this.dom=[],this.root=new i.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},a.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},a.prototype.onerror=function(l){this.handleCallback(l)},a.prototype.onclosetag=function(){this.lastNode=null;var l=this.tagStack.pop();this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(l)},a.prototype.onopentag=function(l,u){var c=this.options.xmlMode?n.ElementType.Tag:void 0,d=new i.Element(l,u,void 0,c);this.addNode(d),this.tagStack.push(d)},a.prototype.ontext=function(l){var u=this.lastNode;if(u&&u.type===n.ElementType.Text)u.data+=l,this.options.withEndIndices&&(u.endIndex=this.parser.endIndex);else{var c=new i.Text(l);this.addNode(c),this.lastNode=c}},a.prototype.oncomment=function(l){if(this.lastNode&&this.lastNode.type===n.ElementType.Comment){this.lastNode.data+=l;return}var u=new i.Comment(l);this.addNode(u),this.lastNode=u},a.prototype.oncommentend=function(){this.lastNode=null},a.prototype.oncdatastart=function(){var l=new i.Text(""),u=new i.CDATA([l]);this.addNode(u),l.parent=u,this.lastNode=l},a.prototype.oncdataend=function(){this.lastNode=null},a.prototype.onprocessinginstruction=function(l,u){var c=new i.ProcessingInstruction(l,u);this.addNode(c)},a.prototype.handleCallback=function(l){if(typeof this.callback=="function")this.callback(l,this.dom);else if(l)throw l},a.prototype.addNode=function(l){var u=this.tagStack[this.tagStack.length-1],c=u.children[u.children.length-1];this.options.withStartIndices&&(l.startIndex=this.parser.startIndex),this.options.withEndIndices&&(l.endIndex=this.parser.endIndex),u.children.push(l),c&&(l.prev=c,c.next=l),l.parent=u,this.lastNode=null},a}();t.DomHandler=o,t.default=o})(m1);var Mb="html",Ob="head",Rh="body",v7=/<([a-zA-Z]+[0-9]?)/,Db=/<head[^]*>/i,Lb=/<body[^]*>/i,cf=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},C0=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},kb=typeof window=="object"&&window.DOMParser;if(typeof kb=="function"){var y7=new kb,x7="text/html";C0=function(t,e){return e&&(t="<"+e+">"+t+"</"+e+">"),y7.parseFromString(t,x7)},cf=C0}if(typeof document=="object"&&document.implementation){var Ih=document.implementation.createHTMLDocument();cf=function(t,e){if(e){var r=Ih.documentElement.querySelector(e);return r.innerHTML=t,Ih}return Ih.documentElement.innerHTML=t,Ih}}var qm=typeof document=="object"?document.createElement("template"):{},A0;qm.content&&(A0=function(t){return qm.innerHTML=t,qm.content.childNodes});function w7(t){var e,r=t.match(v7);r&&r[1]&&(e=r[1].toLowerCase());var n,i,s;switch(e){case Mb:return n=C0(t),Db.test(t)||(i=n.querySelector(Ob),i&&i.parentNode.removeChild(i)),Lb.test(t)||(i=n.querySelector(Rh),i&&i.parentNode.removeChild(i)),n.querySelectorAll(Mb);case Ob:case Rh:return n=cf(t),s=n.querySelectorAll(e),Lb.test(t)&&Db.test(t)?s[0].parentNode.childNodes:s;default:return A0?A0(t):(i=cf(t,Rh).querySelector(Rh),i.childNodes)}}var _7=w7,x1={},_2={};_2.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];var op=m1,b7=_2,Nb=b7.CASE_SENSITIVE_TAG_NAMES,S7=op.Comment,E7=op.Element,T7=op.ProcessingInstruction,C7=op.Text,b2={},Km;for(var Qm=0,A7=Nb.length;Qm<A7;Qm++)Km=Nb[Qm],b2[Km.toLowerCase()]=Km;function P7(t){return b2[t]}function S2(t){for(var e={},r,n=0,i=t.length;n<i;n++)r=t[n],e[r.name]=r.value;return e}function R7(t){t=t.toLowerCase();var e=P7(t);return e||t}function E2(t,e,r){e=e||null;for(var n=[],i,s=0,o=t.length;s<o;s++){var a=t[s],l;switch(a.nodeType){case 1:i=R7(a.nodeName),l=new E7(i,S2(a.attributes)),l.children=E2(i==="template"?a.content.childNodes:a.childNodes,l);break;case 3:l=new C7(a.nodeValue);break;case 8:l=new S7(a.nodeValue);break;default:continue}var u=n[s-1]||null;u&&(u.next=l),l.parent=e,l.prev=u,l.next=null,n.push(l)}return r&&(l=new T7(r.substring(0,r.indexOf(" ")).toLowerCase(),r),l.next=n[0]||null,l.parent=e,n.unshift(l),n[1]&&(n[1].prev=n[0])),n}x1.formatAttributes=S2;x1.formatDOM=E2;var I7=_7,M7=x1,O7=M7.formatDOM,D7=/<(![a-zA-Z\s]+)>/;function L7(t){if(typeof t!="string")throw new TypeError("First argument must be a string");if(t==="")return[];var e=t.match(D7),r;return e&&e[1]&&(r=e[1]),O7(I7(t),null,r)}var k7=L7,Qr={},ap={},N7=0;ap.SAME=N7;var F7=1;ap.CAMELCASE=F7;ap.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};Object.defineProperty(Qr,"__esModule",{value:!0});function B7(t,e){return U7(t)||j7(t,e)||$7(t,e)||z7()}function U7(t){if(Array.isArray(t))return t}function j7(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n=[],i=!0,s=!1,o,a;try{for(r=r.call(t);!(i=(o=r.next()).done)&&(n.push(o.value),!(e&&n.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&r.return!=null&&r.return()}finally{if(s)throw a}}return n}}function $7(t,e){if(t){if(typeof t=="string")return Fb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fb(t,e)}}function Fb(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var T2=0,As=1,lp=2,up=3,w1=4,C2=5,A2=6;function G7(t){return Ht.hasOwnProperty(t)?Ht[t]:null}function or(t,e,r,n,i,s,o){this.acceptsBooleans=e===lp||e===up||e===w1,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={},H7=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];H7.forEach(function(t){Ht[t]=new or(t,T2,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=B7(t,2),r=e[0],n=e[1];Ht[r]=new or(r,As,!1,n,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new or(t,lp,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new or(t,lp,!1,t,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(function(t){Ht[t]=new or(t,up,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new or(t,up,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new or(t,w1,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new or(t,A2,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new or(t,C2,!1,t.toLowerCase(),null,!1,!1)});var _1=/[\-\:]([a-z])/g,b1=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(function(t){var e=t.replace(_1,b1);Ht[e]=new or(e,As,!1,t,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(function(t){var e=t.replace(_1,b1);Ht[e]=new or(e,As,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_1,b1);Ht[e]=new or(e,As,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new or(t,As,!1,t.toLowerCase(),null,!1,!1)});var V7="xlinkHref";Ht[V7]=new or("xlinkHref",As,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new or(t,As,!1,t.toLowerCase(),null,!0,!0)});var S1=ap,W7=S1.CAMELCASE,X7=S1.SAME,Bb=S1.possibleStandardNames,Y7=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",q7=Y7+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",K7=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+q7+"]*$")),Q7=Object.keys(Bb).reduce(function(t,e){var r=Bb[e];return r===X7?t[e]=e:r===W7?t[e.toLowerCase()]=e:t[e]=r,t},{});Qr.BOOLEAN=up;Qr.BOOLEANISH_STRING=lp;Qr.NUMERIC=C2;Qr.OVERLOADED_BOOLEAN=w1;Qr.POSITIVE_NUMERIC=A2;Qr.RESERVED=T2;Qr.STRING=As;Qr.getPropertyInfo=G7;Qr.isCustomAttribute=K7;Qr.possibleStandardNames=Q7;var P2={},E1={exports:{}},Ub=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Z7=/\n/g,J7=/^\s*/,ej=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,tj=/^:\s*/,rj=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,nj=/^[;\s]*/,ij=/^\s+|\s+$/g,sj=`
`,jb="/",$b="*",Vs="",oj="comment",aj="declaration",lj=function(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var r=1,n=1;function i(m){var p=m.match(Z7);p&&(r+=p.length);var v=m.lastIndexOf(sj);n=~v?m.length-v:n+m.length}function s(){var m={line:r,column:n};return function(p){return p.position=new o(m),u(),p}}function o(m){this.start=m,this.end={line:r,column:n},this.source=e.source}o.prototype.content=t;function a(m){var p=new Error(e.source+":"+r+":"+n+": "+m);if(p.reason=m,p.filename=e.source,p.line=r,p.column=n,p.source=t,!e.silent)throw p}function l(m){var p=m.exec(t);if(p){var v=p[0];return i(v),t=t.slice(v.length),p}}function u(){l(J7)}function c(m){var p;for(m=m||[];p=d();)p!==!1&&m.push(p);return m}function d(){var m=s();if(!(jb!=t.charAt(0)||$b!=t.charAt(1))){for(var p=2;Vs!=t.charAt(p)&&($b!=t.charAt(p)||jb!=t.charAt(p+1));)++p;if(p+=2,Vs===t.charAt(p-1))return a("End of comment missing");var v=t.slice(2,p-2);return n+=2,i(v),t=t.slice(p),n+=2,m({type:oj,comment:v})}}function h(){var m=s(),p=l(ej);if(p){if(d(),!l(tj))return a("property missing ':'");var v=l(rj),y=m({type:aj,property:zb(p[0].replace(Ub,Vs)),value:v?zb(v[0].replace(Ub,Vs)):Vs});return l(nj),y}}function f(){var m=[];c(m);for(var p;p=h();)p!==!1&&(m.push(p),c(m));return m}return u(),f()};function zb(t){return t?t.replace(ij,Vs):Vs}var uj=lj;function R2(t,e){var r=null;if(!t||typeof t!="string")return r;for(var n,i=uj(t),s=typeof e=="function",o,a,l=0,u=i.length;l<u;l++)n=i[l],o=n.property,a=n.value,s?e(o,a,n):a&&(r||(r={}),r[o]=a);return r}E1.exports=R2;E1.exports.default=R2;var cj=E1.exports,cp={};cp.__esModule=!0;cp.camelCase=void 0;var hj=/^--[a-zA-Z0-9-]+$/,dj=/-([a-z])/g,fj=/^[^-]+$/,pj=/^-(webkit|moz|ms|o|khtml)-/,mj=/^-(ms)-/,gj=function(t){return!t||fj.test(t)||hj.test(t)},vj=function(t,e){return e.toUpperCase()},Gb=function(t,e){return"".concat(e,"-")},yj=function(t,e){return e===void 0&&(e={}),gj(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(mj,Gb):t=t.replace(pj,Gb),t.replace(dj,vj))};cp.camelCase=yj;(function(t){var e=vt&&vt.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};t.__esModule=!0;var r=e(cj),n=cp;function i(s,o){var a={};return!s||typeof s!="string"||(0,r.default)(s,function(l,u){l&&u&&(a[(0,n.camelCase)(l,o)]=u)}),a}t.default=i})(P2);var xj=P,wj=P2.default;function _j(t,e){if(!t||typeof t!="object")throw new TypeError("First argument must be an object");var r=typeof e=="function",n={},i={};for(var s in t){var o=t[s];if(r&&(n=e(s,o),n&&n.length===2)){i[n[0]]=n[1];continue}typeof o=="string"&&(i[o]=s)}return i}var bj=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function Sj(t,e){return t.indexOf("-")===-1?e&&typeof e.is=="string":!bj.has(t)}var Ej={reactCompat:!0};function Tj(t,e){if(t!=null)try{e.style=wj(t,Ej)}catch{e.style={}}}var Cj=xj.version.split(".")[0]>=16,I2=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);function Aj(t){return!I2.has(t.name)}function Pj(t){return t}var M2={PRESERVE_CUSTOM_ATTRIBUTES:Cj,ELEMENTS_WITH_NO_TEXT_CHILDREN:I2,invertObject:_j,isCustomComponent:Sj,setStyleProp:Tj,canTextBeChildOfNode:Aj,returnFirstArg:Pj},tu=Qr,Hb=M2,Rj=["checked","value"],Ij=["input","select","textarea"],Mj={reset:!0,submit:!0},O2=function(e,r){e=e||{};var n,i,s,o,a,l={},u=e.type&&Mj[e.type];for(n in e){if(s=e[n],tu.isCustomAttribute(n)){l[n]=s;continue}if(i=n.toLowerCase(),o=Vb(i),o){switch(a=tu.getPropertyInfo(o),Rj.indexOf(o)!==-1&&Ij.indexOf(r)!==-1&&!u&&(o=Vb("default"+i)),l[o]=s,a&&a.type){case tu.BOOLEAN:l[o]=!0;break;case tu.OVERLOADED_BOOLEAN:s===""&&(l[o]=!0);break}continue}Hb.PRESERVE_CUSTOM_ATTRIBUTES&&(l[n]=s)}return Hb.setStyleProp(e.style,l),l};function Vb(t){return tu.possibleStandardNames[t]}var Oj=P,Dj=O2,ec=M2,Lj=ec.setStyleProp,kj=ec.canTextBeChildOfNode;function D2(t,e){e=e||{};for(var r=e.library||Oj,n=r.cloneElement,i=r.createElement,s=r.isValidElement,o=[],a,l,u=typeof e.replace=="function",c=e.transform||ec.returnFirstArg,d,h,f,m=e.trim,p=0,v=t.length;p<v;p++){if(a=t[p],u&&(d=e.replace(a),s(d))){v>1&&(d=n(d,{key:d.key||p})),o.push(c(d,a,p));continue}if(a.type==="text"){if(l=!a.data.trim().length,l&&a.parent&&!kj(a.parent)||m&&l)continue;o.push(c(a.data,a,p));continue}switch(h=a.attribs,Nj(a)?Lj(h.style,h):h&&(h=Dj(h,a.name)),f=null,a.type){case"script":case"style":a.children[0]&&(h.dangerouslySetInnerHTML={__html:a.children[0].data});break;case"tag":a.name==="textarea"&&a.children[0]?h.defaultValue=a.children[0].data:a.children&&a.children.length&&(f=D2(a.children,e));break;default:continue}v>1&&(h.key=p),o.push(c(i(a.name,h,f),a,p))}return o.length===1?o[0]:o}function Nj(t){return ec.PRESERVE_CUSTOM_ATTRIBUTES&&t.type==="tag"&&ec.isCustomComponent(t.name,t.attribs)}var Fj=D2,hp=m1,ga=k7,Bj=O2,L2=Fj;ga=typeof ga.default=="function"?ga.default:ga;var Uj={lowerCaseAttributeNames:!1};function Yn(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");return t===""?[]:(e=e||{},L2(ga(t,e.htmlparser2||Uj),e))}Yn.domToReact=L2;Yn.htmlToDOM=ga;Yn.attributesToProps=Bj;Yn.Comment=hp.Comment;Yn.Element=hp.Element;Yn.ProcessingInstruction=hp.ProcessingInstruction;Yn.Text=hp.Text;var jj=Yn;Yn.default=Yn;const Ps=Eo(jj);var Mh=Ps.domToReact;Ps.htmlToDOM;var Zm=Ps.attributesToProps;Ps.Comment;Ps.Element;Ps.ProcessingInstruction;Ps.Text;const Wb=["mousedown","touchstart"];function $j(t,e,r){const n=P.useRef();return P.useEffect(()=>{const i=s=>{const{target:o}=s??{};if(Array.isArray(r)){const a=(o==null?void 0:o.hasAttribute("data-ignore-outside-clicks"))||!document.body.contains(o)&&o.tagName!=="HTML";r.every(l=>!!l&&!s.composedPath().includes(l))&&!a&&t()}else n.current&&!n.current.contains(o)&&t()};return Wb.forEach(s=>{document.addEventListener(s,i)}),()=>{Wb.forEach(s=>{document.removeEventListener(s,i)})}},[n,t,r,e]),n}function k2(){const[t,e]=P.useState(!1),r=P.useRef(null),n=()=>{e(!0)},i=()=>{e(!1)};return P.useEffect(()=>{const s=r.current;if(s)return s.addEventListener("mouseover",n),s.addEventListener("mouseout",i),()=>{s.removeEventListener("mouseover",n),s.removeEventListener("mouseout",i)}},[r]),[r,t]}function zj(t,e){const r=P.useCallback(({code:n})=>{e.includes(n)&&t()},[t,e]);P.useEffect(()=>(window.addEventListener("keydown",r),()=>{window.removeEventListener("keydown",r)}),[r])}const Gj=P.forwardRef(({icon:t,className:e,...r},n)=>{const i={...r,className:Xe("btn-icon btn-sm",e)};return T.jsx(ul,{ref:n,...i,children:t})}),N2=Gj,Hj=P.forwardRef(({icon:t=T.jsx(PO,{}),onClick:e,className:r,...n},i)=>{const s=Xe("btn-search",r);return T.jsx(N2,{ref:i,className:s,icon:t,onClick:e,...n})}),Vj=Hj,Wj=P.forwardRef(({type:t="success",className:e="",children:r,button:n,isDismissible:i=!1,isToast:s=!1,isConfirm:o=!1,position:a="none",autoClose:l=!1,autoCloseDelay:u=3e3,onClose:c,onVisibilityChange:d},h)=>{const[f,m]=P.useState(!0),p=P.useRef(null),{t:v}=Kr(),y=P.useCallback(()=>{m(!1),c==null||c()},[c]);P.useImperativeHandle(h,()=>({show:x,hide:y,...p.current})),P.useLayoutEffect(()=>{d==null||d(f)},[f,d]),P.useEffect(()=>{l&&f&&setTimeout(()=>{y()},u)},[l,u,y,f]);const x=()=>{m(!0)},g={success:{icon:T.jsx(IO,{}),classModifier:"alert-success"},warning:{icon:T.jsx(mO,{}),classModifier:"alert-warning"},info:{icon:T.jsx(SO,{}),classModifier:"alert-info"},danger:{icon:T.jsx(_O,{}),classModifier:"alert-danger"}},w={"is-dismissible":i,"is-toast ":s},b={"is-confirm":o},_=Xe("alert gap-12",g[t].classModifier,w,b,a,e);return T.jsx(T.Fragment,{children:f?T.jsxs("div",{ref:p,className:_,role:"alert",children:[!o&&g[t].icon,T.jsx("div",{className:"alert-content small",children:r}),n&&T.jsxs("div",{className:"ms-12",children:[n," ",o&&T.jsx(ul,{onClick:y,children:v("close")})]}),(i||o)&&T.jsx("div",{className:"btn-close-container",children:T.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"alert","aria-label":v("close"),onClick:y})}),l&&T.jsx("div",{className:"alert-progress",style:{transform:"scaleX(0)"}})]}):null})}),Xj=Wj;function Yj(){const t=P.useRef(null),e='button:not([disabled]), [href], input, select, textarea, [tabindex]:not([tabindex="-1"])';return P.useEffect(()=>{const r=t.current,n=r.querySelectorAll(e)[0],i=r.querySelectorAll(e),s=t&&(i==null?void 0:i[i.length-1]),o=a=>{a.key==="Tab"&&(a.shiftKey?document.activeElement===n&&(s.focus(),a.preventDefault()):document.activeElement===s&&(n.focus(),a.preventDefault()))};if(r)return r.addEventListener("keydown",o),()=>{r.removeEventListener("keydown",o)}},[]),t}const F2=P.createContext(null);function qj({defaultTheme:t,children:e}){var r;const{appCode:n}=Ti(),i=yC({appCode:n});P.useEffect(()=>{var o,a,l,u,c,d,h,f,m,p,v;const y=document.getElementById("favicon");y.href=`${(a=(o=i==null?void 0:i.data)==null?void 0:o.theme)==null?void 0:a.basePath}/img/illustrations/favicon.ico`;const x=(c=(u=(l=i==null?void 0:i.data)==null?void 0:l.theme)==null?void 0:u.bootstrapVersion)==null?void 0:c.split("-"),g=x?x[x.length-1]:void 0;[{data:"data-skin",value:(h=(d=i==null?void 0:i.data)==null?void 0:d.theme)==null?void 0:h.skinName},{data:"data-theme",value:((m=(f=i==null?void 0:i.data)==null?void 0:f.theme)==null?void 0:m.npmTheme)??((v=(p=i==null?void 0:i.data)==null?void 0:p.theme)==null?void 0:v.themeName)},{data:"data-product",value:t==="none"?"":t??g}].forEach(w=>{var b;return(b=document.querySelector("html"))==null?void 0:b.setAttribute(w.data,w.value)})},[i==null?void 0:i.data,t]);const s=P.useMemo(()=>{var o;return{theme:(o=i==null?void 0:i.data)==null?void 0:o.theme}},[(r=i==null?void 0:i.data)==null?void 0:r.theme]);return T.jsx(F2.Provider,{value:s,children:e})}function ml(){const t=P.useContext(F2);if(!t)throw new Error("Cannot be used outside of OdeClientProvider");return t}const Kj=P.forwardRef(({app:t,size:e="24",iconFit:r="contain",variant:n="square",className:i=""},s)=>{const{isIconUrl:o,getIconCode:a}=c$(),[,l]=Bf(),u=n==="square",c=n==="rounded",d=n==="circle",h=r==="contain",f=r==="ratio",m={"icon-xs":e==="24","icon-sm":e==="40","icon-md":e==="48","icon-lg":e==="80","icon-xl":e==="160"},p={square:u,rounded:c,"rounded-circle":d},v={"icon-contain":h,"icon-ratio":f},y=typeof t=="string"?t:(t==null?void 0:t.icon)!==void 0?t.icon:"placeholder",x=typeof t!="string"&&(t==null?void 0:t.displayName)!==void 0?t.displayName:"",g=t?a(t):"",w=o(y),b=g||"placeholder";if(w){const E=Xe("h-full",i);return T.jsx(wC,{src:y,alt:x,objectFit:"contain",width:e,height:e,className:E,style:{minWidth:e+"px"}})}const _=Xe("app-icon",{...m,...p,...v,[`bg-light-${b}`]:b&&!h,[`color-app-${b}`]:b},i);return T.jsx("div",{className:_,style:{width:e+"px",height:e+"px"},children:T.jsx("svg",{ref:s,width:e,height:e,role:"img",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:T.jsx("use",{xlinkHref:`${l}/apps.svg#${b}`})})})}),Qj=Kj,Zj=P.createContext(null);function Jj(){return P.useContext(Zj)}const B2=P.createContext({ariaLabelId:"",ariaDescriptionId:"",focusId:""}),U2=()=>{const t=P.useContext(B2);if(!t)throw new Error("Cannot be rendered outside the Modal component");return t},e$=t=>{const{ariaDescriptionId:e}=U2(),{children:r,className:n}=t,i=Xe("modal-body",n);return T.jsx("div",{id:e,className:i,children:r})},t$=e$,r$=t=>T.jsx("div",{className:"modal-footer",children:t.children}),n$=r$,i$=t=>{const{onModalClose:e,children:r}=t,{ariaLabelId:n,focusId:i}=U2(),s=P.useRef(null),{t:o}=Kr();return P.useEffect(()=>{var a;i||(a=s.current)==null||a.focus()},[i]),T.jsxs("div",{className:"modal-header",children:[T.jsx("h2",{id:n,className:"modal-title",tabIndex:-1,children:r}),T.jsx(N2,{ref:s,"aria-label":o("close"),color:"tertiary",icon:T.jsx(xO,{}),type:"button",variant:"ghost",title:o("close"),onClick:e,className:"btn-close"})]})},s$=i$,o$=t=>T.jsx("p",{className:"modal-subtitle",children:t.children}),a$=o$,l$=P.forwardRef((t,e)=>{const{id:r,isOpen:n,onModalClose:i,size:s="md",viewport:o=!1,scrollable:a=!1,focusId:l,children:u}=t,c=`aria_label_${r}`,d=`aria_desc_${r}`,h=$j(i),f=Yj();zj(i,["Escape"]),P.useEffect(()=>{if(n&&(document.body.style.overflow="hidden",l)){const x=document.getElementById(l);x==null||x.focus()}return()=>{document.body.style.overflow=""}},[l,n]);const m=Xe("modal fade",{"show d-block":n,"modal-scrollable":a,viewport:o,[`modal-${s}`]:s}),p=Xe("modal-dialog"),v={ariaLabelId:c,ariaDescriptionId:d,focusId:l},y=nA(n,{from:{x:-50,opacity:0},enter:{x:0,opacity:1},leave:{x:50,opacity:0}});return T.jsx(B2.Provider,{value:v,children:y((x,g)=>T.jsxs(T.Fragment,{children:[g&&T.jsx(Ev.div,{id:r,ref:e,role:"dialog","aria-modal":"true","aria-labelledby":c,"aria-describedby":d,className:m,style:x,tabIndex:-1,children:T.jsx("div",{id:`${r}_ref`,ref:w=>{h.current=w,g&&(f.current=w)},className:p,children:T.jsx("div",{className:"modal-content",children:u})})}),g&&T.jsx(Ev.div,{className:"modal-backdrop fade show",style:{opacity:.65}})]}))})}),u$=Object.assign(l$,{Header:s$,Subtitle:a$,Body:t$,Footer:n$}),Oh=u$;function c$(){const t={"last-infos-widget":"ic-widget-actualites",birthday:"ic-star","calendar-widget":"ic-widget-calendar","carnet-de-bord":"ic-widget-carnet-de-bord","record-me":"ic-widget-microphone",mood:"ic-star","my-apps":"ic-widget-apps",notes:"ic-widget-notes","rss-widget":"ic-widget-rss","bookmark-widget":"ic-widget-signets",qwant:"ic-widget-qwant","qwant-junior":"ic-widget-qwant","agenda-widget":"ic-widget-agenda","cursus-widget":"ic-widget-aide-devoirs","maxicours-widget":"ic-widget-maxicours","school-widget":"ic-widget-schoolbook","universalis-widget":"ic-widget-universalis","briefme-widget":"ic-widget-briefme"};function e(a){let l="";switch(typeof a=="string"?l=a:l=(a==null?void 0:a.icon)!==void 0?a==null?void 0:a.icon.trim().toLowerCase():"placeholder",l&&l.length>0?l.endsWith("-large")&&(l=l.replace("-large","")):typeof a=="object"&&(l=(a==null?void 0:a.displayName)!==void 0?a==null?void 0:a.displayName.trim().toLowerCase():""),l){case"admin.title":l="admin";break;case"banques des savoirs":l="banquesavoir";break;case"collaborativewall":l="collaborative-wall";break;case"communauts":l="community";break;case"directory.user":l="userbook";break;case"emploi du temps":l="edt";break;case"formulaire":l="forms";break;case"messagerie":l="conversation";break;case"news":l="actualites";break;case"homeworks":case"cahier de texte":l="cahier-de-texte";break;case"diary":case"cahier de texte 2d":l="cahier-textes";break}return l}function r(a){return a&&(a.startsWith("/")||a.startsWith("http://")||a.startsWith("https://"))}function n(a){const l=e(a);return l?`color-app-${l}`:"color-app-placeholder"}function i(a){const l=e(a);return l?`bg-app-${l}`:"bg-app-placeholder"}function s(a){const l=e(a);return l?`bg-light-${l}`:"bg-light-placeholder"}function o(a){return t[a.platformConf.name]}return{getIconClass:n,getBackgroundIconClass:i,getBackgroundLightIconClass:s,getIconCode:e,getWidgetIconClass:o,isIconUrl:r}}const j2=P.createContext(null),T1=()=>{const t=P.useContext(j2);if(!t)throw new Error("Cannot be rendered outside the FormControl component");return t},h$=({children:t})=>{const{status:e}=T1(),r=Xe("form-text",{"is-invalid":e==="invalid",valid:e==="valid"});return T.jsx("p",{className:r,children:T.jsx("em",{children:t})})},d$=h$,f$=P.forwardRef(({noValidationIcon:t,placeholder:e,size:r="md",type:n="text",className:i,...s},o)=>{const{id:a,isRequired:l,isReadOnly:u,status:c}=T1(),d=Xe({"form-control":!u,"form-control-lg":r==="lg","form-control-sm":r==="sm","is-invalid":c==="invalid","is-valid":c==="valid","form-control-plaintext":u,"no-validation-icon":t},i);return T.jsx("input",{ref:o,id:a,className:d,type:n,placeholder:e,required:l,readOnly:u,...s})}),p$=f$,m$=P.forwardRef(({leftIcon:t,optionalText:e,requiredText:r="*",children:n,className:i},s)=>{const{id:o,isOptional:a,isRequired:l}=T1(),{t:u}=Kr(),c=Xe("form-label",{"has-icon":t},i),d=a&&!l,h=l&&!a;return P.useEffect(()=>{if(a&&l)throw new Error("Cannot be optional and required at the same time")},[a,l]),T.jsxs("label",{ref:s,htmlFor:o,className:c,children:[t,n,d&&T.jsxs("em",{className:"optional",children:["- ",e??u("explorer.optional")]}),h&&T.jsx("em",{className:"required",children:r})]})}),g$=m$,v$=P.forwardRef(({children:t,className:e,id:r,isOptional:n,isReadOnly:i,isRequired:s,status:o,...a},l)=>{const u=P.useMemo(()=>({id:r,isOptional:n,isRequired:s,isReadOnly:i,status:o}),[r,n,i,s,o]);return T.jsx(j2.Provider,{value:u,children:T.jsx("div",{ref:l,className:e,...a,children:t})})}),y$=Object.assign(v$,{Label:g$,Input:p$,Text:d$}),Xb=y$,x$=P.forwardRef(({position:t=!0,caption:e},r)=>{const[n]=Bf(),i=`${n}/loading/screen-loading.gif`,s=Xe("top-0 end-0 start-0 bottom-0 d-grid justify-content-center align-content-center align-items-center z-2000",{"position-fixed":!t,"position-static":t}),o=Xe("text-center pt-12",{"text-white":!t});return T.jsxs(T.Fragment,{children:[T.jsxs("div",{ref:r,className:s,children:[T.jsx("div",{className:"bg-white rounded-circle mx-auto w-25",children:T.jsx("img",{src:i,alt:"loading"})}),e&&T.jsx("div",{className:o,children:e})]}),!t&&T.jsx("div",{className:"modal-backdrop fade show"})]})}),w$=x$,_$=P.forwardRef(({src:t,is1d:e,translate:r="Retour accueil"},n)=>{const i=Xe("navbar-brand d-none d-md-block");return T.jsx("a",{ref:n,className:i,href:"/timeline/timeline","aria-label":r,children:T.jsx("img",{className:"logo",src:t,alt:`logo ${e?"ONE":"NEO"}`,width:"300",height:"52"})})}),Yb=_$,b$=({children:t,className:e})=>{const r=Xe("popover-body",e);return T.jsx("div",{className:r,children:t})},S$=({children:t,className:e})=>{const r=Xe("popover-footer p-8",e);return T.jsx("div",{className:r,children:t})},$2=P.forwardRef(({children:t,className:e,id:r,isVisible:n,...i},s)=>{const o=Xe("popover d-block position-absolute top-100 start-50 translate-middle-x",e);return nA(n,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{duration:0}})((a,l)=>l&&T.jsx(Ev.div,{ref:s,"aria-labelledby":r,className:o,role:"tooltip",style:a,...i,children:t}))}),E$=P.forwardRef(({children:t},e)=>T.jsx("span",{className:"visually-hidden",ref:e,children:t})),ru=E$;function T$(){var t;const{sessionQuery:e}=Ti(),r=new Set;return(t=e==null?void 0:e.data)==null?void 0:t.bookmarkedApps.filter(n=>{const i=r.has(n.displayName);return r.add(n.displayName),!i})}function ds(t){const e=Jj(),[r,n]=P.useState();return P.useEffect(()=>{(async()=>{let i;if(e!=null&&e.hasWorkflow)if(typeof t=="string")i=await e.hasWorkflow(t);else throw"not.implemented.yet)";else typeof t=="string"?i=await Xr.rights().sessionHasWorkflowRight(t):i=await Xr.rights().sessionHasWorkflowRights(t);n(i)})()},[t,e]),r}const C$=()=>{const t=ds("fr.openent.zimbra.controllers.ZimbraController|view"),e=ds("fr.openent.zimbra.controllers.ZimbraController|preauth"),[r,n]=P.useState(0),[i,s]=P.useState(""),o={unread:!0,_:new Date().getTime()},a=async()=>{const u=t?"/zimbra/count/INBOX":"/conversation/count/INBOX";try{const{count:c}=await Xr.http().get(u,{queryParams:o});n(c??0)}catch(c){console.error(c),n(0)}},l=async()=>{const u="/zimbra/zimbra";try{const{preference:c}=await Xr.http().get("/userbook/preference/zimbra"),d=c?JSON.parse(c).modeExpert:!1;s(d&&e?"/zimbra/preauth":window.location.origin+u)}catch(c){console.error(c),s(window.location.origin+u)}};return P.useEffect(()=>{a()},[]),P.useEffect(()=>{l()},[]),{messages:r,msgLink:i,zimbraWorkflow:t}},A$=C$;function P$({user:t,avatar:e}){const{appCode:r}=Ti(),{t:n}=Kr(),{theme:i}=ml(),s=n(r),[o,a]=P.useState(!0),[l,u]=k2(),c=P.useId(),d=P.useId(),h=e,f=t==null?void 0:t.username,m=n("welcome",{username:t==null?void 0:t.firstName}),p=T$(),v=ds("net.atos.entng.community.controllers.CommunityController|view"),y=ds("org.entcore.conversation.controllers.ConversationController|view"),x=ds("fr.openent.searchengine.controllers.SearchEngineController|view"),g=P.useCallback(()=>{a(!o)},[o]),w=async()=>{await Xr.session().logout(),window.location.href=(i==null?void 0:i.logoutCallback)??"/auth/login"};return P.useMemo(()=>({title:s,bookmarkedApps:p,appsRef:l,isAppsHovered:u,popoverAppsId:c,popoverSearchId:d,userAvatar:h,userName:f,welcomeUser:m,communityWorkflow:v,conversationWorflow:y,searchWorkflow:x,isCollapsed:o,toggleCollapsedNav:g,handleLogout:w}),[l,p,v,y,u,o,c,d,x,s,g,h,f,m])}function R$(){const[t,e]=P.useState(!1);P.useEffect(()=>{r()},[]);const r=P.useCallback(async()=>{const n=await Xr.session().isAdml();e(n)},[]);return{isAdml:t}}function z2(){const{user:t,userDescription:e}=Ti(),{theme:r}=ml();function n(){let i=e==null?void 0:e.picture;return(!i||i==="no-avatar.jpg"||i==="no-avatar.svg")&&(i=`${r==null?void 0:r.basePath}/img/illustrations/no-avatar.svg`),i}return{user:t,avatar:n(),userDescription:e}}function I$(){const{currentLanguage:t}=Ti(),{userDescription:e}=z2(),{isAdml:r}=R$(),{theme:n}=ml(),i=window.innerWidth<=768,s=ds("net.atos.entng.support.controllers.DisplayController|view"),[o,a]=P.useState(""),[l,u]=P.useState(void 0),c=()=>{const d=o.split("/");let h="",f="";if(l!=null&&l.labels&&Object.keys(l==null?void 0:l.labels).length>0&&d.length>1){for(let m=1;m<d.length;m++)d[m].length>0&&d[m].match(/\d/)==null&&(h.length===0?h=d[m]:h=h+"/"+d[m]);l!=null&&l.labels&&Object.prototype.hasOwnProperty.call(l==null?void 0:l.labels,h)?f=l==null?void 0:l.labels[h]:l!=null&&l.default&&String(l.default).length>0&&(f=l==null?void 0:l.default)}else l!=null&&l.default&&String(l==null?void 0:l.default).length>0&&(f=l==null?void 0:l.default);if(d.includes("collaborativewall")&&d.includes("id")&&i&&window.zE("webWidget","hide"),f.includes("${adml}")&&(r?f=f.replace("${adml}","adml"):f=f.replace("/${adml}","")),f.includes("${profile}")){const m=e==null?void 0:e.profiles;f=f.replace("${profile}",m[0].toLowerCase())}f.includes("${theme")&&(n!=null&&n.is1d?f=f.replace("${theme}","1D"):f=f.replace("${theme}","2D")),window.zE("webWidget","helpCenter:setSuggestions",{labels:[f]})};return P.useEffect(()=>{window.location.pathname!==o&&a(window.location.pathname),!(l===void 0||Object.keys(l).length===0)&&c()},[window.location.pathname,l]),P.useEffect(()=>{document.getElementById("ze-snippet")||s===void 0||(async()=>{const d=await Xr.http().get("/zendeskGuide/config");if(d&&d.key&&d.key!==""){const h=document.createElement("script");h.id="ze-snippet",h.src=`https://static.zdassets.com/ekr/snippet.js?key=${d.key}`,document.body.appendChild(h).onload=()=>{t==="es"?window.zE(function(){window.zE.setLocale("es-419")}):window.zE(function(){window.zE.setLocale("fr")}),Object.keys(d.module).length>0&&u(d.module),window.zE("webWidget","show"),window.zE("webWidget","updateSettings",{webWidget:{color:{theme:d.color||"#ffc400"},zIndex:3,launcher:{mobile:{labelVisible:!0}},contactForm:{suppress:!s},helpCenter:{messageButton:{"*":"Assistance ENT","es-419":"Asistencia ENT"}}}}),window.addEventListener("scroll",()=>{window.zE("webWidget","updateSettings",{webWidget:{launcher:{mobile:{labelVisible:window.scrollY<=5}}}})}),window.zE("webWidget:on","open",function(){s&&window.zE("webWidget","updateSettings",{webWidget:{contactForm:{suppress:!1}}})}),window.zE("webWidget:on","userEvent",function(f){const m=f.category,p=f.action,v=f.properties;p==="Contact Form Shown"&&m==="Zendesk Web Widget"&&v&&v.name==="contact-form"&&s&&(window.zE("webWidget","updateSettings",{webWidget:{contactForm:{suppress:!0}}}),window.zE("webWidget","close"),window.open("/support","_blank"))})}}})()},[s]),null}function M$(){const t=ds("org.entcore.portal.controllers.PortalController|optionalFeatureCantoo");return P.useEffect(()=>{t&&!document.getElementById("cantoo-edifice-script")&&(async()=>{const e=await Xr.http().get("/optionalFeature/cantoo");if(e&&e.scriptPath){const r=document.createElement("script");r.id="cantoo-edifice-script",r.src=e.scriptPath,r.async=!0,document.body.appendChild(r)}})()},[t]),null}function O$(t){return{getPreference:async()=>await Xr.conf().getPreference(t),savePreference:async e=>await Xr.conf().savePreference(t,JSON.stringify(e))}}function D$(){const[t,e]=P.useState(!1),{getPreference:r,savePreference:n}=O$("rgpdCookies");return P.useEffect(()=>{(async()=>{const i=await r();e(i===null?!0:i.showInfoTip)})()},[]),{showCookiesConsent:t,handleConsultCookies:()=>{document.location.href="/userbook/mon-compte",n({showInfoTip:!1}),e(!1)},handleCloseCookiesConsent:()=>{n({showInfoTip:!1}),e(!1)}}}function qb({isHelpOpen:t,setIsHelpOpen:e,parsedHeadline:r,parsedContent:n,error:i}){const{t:s}=Kr(),o=()=>{e(!1)};return t?pc.createPortal(T.jsxs(Oh,{id:"help-modal",isOpen:t,onModalClose:o,scrollable:!0,size:"lg",children:[T.jsx(Oh.Header,{onModalClose:o,children:s("navbar.help")}),T.jsx(Oh.Subtitle,{children:i?s("help.notfound.title"):r}),T.jsx(Oh.Body,{className:i?"d-flex":null,children:i?s("help.notfound.text"):n})]}),document.getElementById("portal")):null}function L$(){var t,e,r,n,i;const{appCode:s}=Ti(),{theme:o}=ml(),[a,l]=P.useState(""),[u,c]=P.useState(!0),[d,h]=P.useState(!1),[f,m]=P.useState(!1),p=o!=null&&o.is1d?"/help-1d":"/help-2d";P.useEffect(()=>{(async()=>{let g="";g=p+"/application/"+s+"/",!s&&window.location.pathname!=="/adapter"?g=p+"/application/portal/":window.location.pathname==="/adapter"?g=p+"/application/"+window.location.search.split("eliot=")[1].split("&")[0]+"/":window.location.pathname.includes("/directory/class-admin")?g=p+"/application/parametrage-de-la-classe/":(window.location.pathname.includes("/userbook/mon-compte")||window.location.pathname.includes("/timeline/preferencesView")||window.location.pathname.includes("/timeline/historyView"))&&(g=p+"/application/userbook/");try{const w=await fetch(g),b=await w.text();if(w.status===404){m(!0);return}l(b),m(!1)}catch(w){m(!0),console.error(w)}})()},[s,p]);const v=Ps(a,{replace:g=>{const w=g;if(w.attribs&&w.attribs.id==="TOC")return T.jsxs("nav",{id:"TOC",children:[T.jsx(ul,{onClick:()=>{c(!u)},children:T.jsx(vO,{})}),Mh(w.children,{replace:b=>{const _=b;if(_.attribs&&_.name==="ul")return T.jsx("ul",{id:"TOC-list",style:{display:u?"block":"none"},children:Mh(_.children,{replace:E=>{const C=E;if(C.attribs&&C.name==="a")return T.jsx("a",{...Zm(C.attribs),children:T.jsx("span",{onClick:()=>{c(!1)},children:Mh(C.children)})})}})})}})]});if(w.attribs&&w.attribs.class==="section level2"){const b=Zm(g.attribs);return T.jsx("div",{...b,className:"section level2",style:{display:w.attribs.id!=="prsentation"?"none":"block"},children:Mh(w.children,{replace:_=>{const E=_;if(E.attribs&&E.name==="img"){const C=_.attribs.src;return T.jsx("img",{...Zm(E.attribs),src:`${p}/${C}`,alt:""})}}})})}}}),y=(r=(e=(t=v==null?void 0:v.props)==null?void 0:t.children.find(g=>g.type==="body"))==null?void 0:e.props)==null?void 0:r.children,x=(i=(n=y==null?void 0:y.find(g=>g.type==="p"))==null?void 0:n.props)==null?void 0:i.children;return{html:a,visibility:u,isModalOpen:d,setIsModalOpen:h,parsedContent:y,parsedHeadline:x,error:f}}const At=P.forwardRef(({children:t,className:e,...r},n)=>{const i=Xe("nav-item",e);return T.jsx("li",{ref:n,className:i,...r,children:t})}),k$=()=>{const[t,e]=k2(),r=P.useRef(null),n=P.useId(),{t:i}=Kr();function s(){if(r.current){const o=r.current.value;window.location.href=`/searchengine#/${o}`}}return T.jsxs(At,{id:n,ref:t,className:"position-relative","aria-haspopup":"true","aria-expanded":e,children:[T.jsxs("a",{href:"/searchengine",className:"nav-link dropdown-item",children:[T.jsx(lk,{className:"icon search"}),T.jsx("span",{className:"nav-text",children:i("navbar.search")})]}),T.jsx($2,{id:n,isVisible:e,className:"d-none d-md-flex",children:T.jsxs(Xb,{id:"my-search-input",className:"search-text input-group py-8 px-12",children:[T.jsx(Xb.Input,{ref:r,size:"sm",type:"text",name:"my-search-input",placeholder:"Rechercher"}),T.jsx(Vj,{type:"submit",size:"sm",onClick:s,"aria-label":i("navbar.search")})]})})]})},N$=k$;function Jm({children:t,className:e,...r}){const n=Xe("navbar",e);return T.jsx("nav",{className:n,...r,children:t})}function Kb({children:t,className:e,...r}){const n=Xe("navbar-nav",e);return T.jsx("ul",{className:n,...r,children:t})}function Nl({link:t,className:e,children:r,translate:n,...i}){const s=Xe("nav-link",e);return T.jsxs("a",{href:t,className:s,...i,children:[r,n&&T.jsx(ru,{children:T.jsx("span",{className:"nav-text",children:n})})]})}const F$=()=>{const{t}=Kr();return T.jsx("div",{className:"widget-footer",children:T.jsx("div",{className:"widget-footer-action",children:T.jsx("a",{href:"/welcome",className:"link",children:t("plus")})})})},B$=({bookmarkedApps:t})=>{const{t:e}=Kr();return T.jsxs("div",{className:"widget-body d-flex flex-wrap",children:[!t.length&&T.jsx("div",{className:"text-dark",children:e("navbar.myapps.more")}),t.slice(0,6).map((r,n)=>T.jsx("a",{href:r.address,className:"bookmarked-app",children:T.jsx(Qj,{app:r,size:"32"})},n))]})},U$=({is1d:t=!1,src:e=""})=>{const{t:r}=Kr(),{messages:n,msgLink:i,zimbraWorkflow:s}=A$(),{user:o,avatar:a}=z2(),{currentLanguage:l,currentApp:u}=Ti(),c=ds("org.entcore.portal.controllers.PortalController|oldHelpEnable")||!1,{isModalOpen:d,setIsModalOpen:h,parsedContent:f,parsedHeadline:m,error:p}=L$(),v=Xe("header",{"no-2d":t,"no-1d":!t}),{title:y,bookmarkedApps:x,appsRef:g,isAppsHovered:w,popoverAppsId:b,userAvatar:_,userName:E,welcomeUser:C,communityWorkflow:A,conversationWorflow:B,searchWorkflow:N,isCollapsed:F,toggleCollapsedNav:D,handleLogout:M}=P$({user:o,avatar:a}),S=n>0,{theme:I}=ml();return T.jsx("header",{className:v,children:t?T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"container-fluid",children:T.jsxs(Jm,{children:[T.jsx("a",{className:"navbar-title d-md-none text-truncate h4",href:u?u.address:"/timeline/timeline",children:y}),T.jsxs("div",{className:"d-none d-md-inline-flex gap-12 align-items-center",children:[T.jsx(aw,{alt:E,size:"sm",src:_,variant:"circle",width:"32",height:"32"}),T.jsx("span",{className:"navbar-text",children:C})]}),T.jsxs(Kb,{className:"gap-8","aria-hidden":"false","aria-label":r("navbar.main.navigation"),children:[B&&T.jsx(At,{children:T.jsxs("a",{href:"/conversation/conversation",className:"nav-link",children:[T.jsx(ik,{className:"icon notification"}),S&&T.jsx(qp,{variant:{type:"notification",level:"danger"},className:"position-absolute",children:n}),T.jsx(ru,{children:r("navbar.messages")})]})}),T.jsx(At,{children:T.jsx(Nl,{link:"/userbook/mon-compte",className:"dropdown-item",translate:r("navbar.myaccount"),children:T.jsx(ok,{className:"icon user"})})}),l==="fr"&&c?T.jsxs(At,{children:[T.jsxs("button",{className:"nav-link",onClick:()=>{h(!0)},children:[T.jsx(rk,{className:"icon help"}),T.jsx(ru,{children:r("navbar.help")})]}),T.jsx(qb,{isHelpOpen:d,setIsHelpOpen:h,parsedContent:f,parsedHeadline:m,error:p})]}):null,T.jsx(At,{children:T.jsxs("button",{className:"nav-link",onClick:M,children:[T.jsx(Iw,{className:"icon logout"}),T.jsx(ru,{children:r("navbar.disconnect")})]})}),T.jsx(At,{className:"d-md-none",children:T.jsx("button",{className:"nav-link btn btn-naked",type:"button","aria-controls":"navbarCollapsed","aria-expanded":!F,"aria-label":r("navbar.secondary.navigation"),onClick:D,children:T.jsx(Kx,{className:"icon rafter-down",width:"20",height:"20"})})})]})]})}),T.jsx(Jm,{className:"no-2d navbar-secondary navbar-expand-md","aria-label":r("navbar.secondary.navigation"),children:T.jsx("div",{className:"container-fluid",children:T.jsxs("div",{className:`collapse navbar-collapse ${F?"":"show"}`,id:"navbarCollapsed",children:[T.jsx(Yb,{is1d:!0,src:`${e}/img/illustrations/logo.png`,translate:r("navbar.home")}),T.jsxs(Kb,{className:"gap-8",children:[T.jsx(At,{children:T.jsxs("a",{href:"/timeline/timeline",className:"button",children:[T.jsx(ek,{color:"#fff",className:"d-md-none"}),T.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.whatsnew")})]})}),T.jsx(At,{children:T.jsxs("a",{href:"/userbook/annuaire",className:"button",children:[T.jsx(ck,{color:"#fff",className:"d-md-none"}),T.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.classMembers")})]})}),T.jsx(At,{children:T.jsxs("a",{href:"/welcome",className:"button",children:[T.jsx(Mw,{color:"#fff",className:"d-md-none"}),T.jsx("span",{className:"d-inline-block",children:r("portal.header.navigation.myapps")})]})})]})]})})})]}):T.jsx(Jm,{className:"navbar-expand-md",children:T.jsxs("div",{className:"container-fluid",children:[T.jsx(Yb,{src:`${e}/img/illustrations/logo.png`}),T.jsx("a",{href:u?u.address:"/timeline/timeline",className:"navbar-title text-truncate d-md-none",children:y}),T.jsxs("ul",{className:"navbar-nav",children:[T.jsx(At,{children:T.jsx(Nl,{link:"/timeline/timeline",translate:r("navbar.home"),children:T.jsx(YL,{color:"#fff"})})}),T.jsxs(At,{className:"position-relative",ref:g,id:b,"aria-haspopup":"true","aria-expanded":w,children:[T.jsx(Nl,{link:"/welcome",translate:r("navbar.applications"),children:T.jsx(Mw,{color:"#fff"})}),T.jsxs($2,{className:"top-100 widget",id:b,isVisible:w,children:[T.jsx(b$,{children:T.jsx(B$,{bookmarkedApps:x})}),T.jsx(S$,{className:"widget-footer border-top border-ghost",children:T.jsx(F$,{})})]})]}),B&&T.jsx(At,{children:T.jsxs(Nl,{className:"position-relative",link:"/conversation/conversation",translate:r("conversation"),children:[T.jsx(Ow,{color:"#fff"}),S&&T.jsx(qp,{variant:{type:"notification",level:"warning"},className:"position-absolute",children:n})]})}),s&&T.jsx(At,{children:T.jsxs(Nl,{className:"position-relative",link:i,translate:r("conversation"),children:[T.jsx(Ow,{color:"#fff"}),S&&T.jsx(qp,{variant:{type:"notification",level:"warning"},className:"position-absolute",children:n})]})}),l==="fr"&&c?T.jsxs(At,{children:[T.jsxs("button",{className:"nav-link btn btn-naked",onClick:()=>{h(!0)},children:[T.jsx(QL,{color:"#fff"}),T.jsx(ru,{children:r("support")})]}),T.jsx(qb,{isHelpOpen:d,setIsHelpOpen:h,parsedContent:f,parsedHeadline:m,error:p})]}):null,T.jsx(At,{children:T.jsxs("div",{className:"dropdown",children:[T.jsx("button",{className:"nav-link btn btn-naked d-md-none",type:"button","aria-controls":"dropdown-navbar","aria-expanded":!F,"aria-label":r("navbar.open.menu"),onClick:D,children:T.jsx(Kx,{className:"icon rafter-down",width:"20",height:"20",color:"#fff"})}),T.jsxs("ul",{className:`dropdown-menu dropdown-menu-end ${F?"":"show"}`,id:"dropdown-navbar",children:[A&&T.jsx(At,{children:T.jsxs("a",{href:"/community",className:"nav-link dropdown-item",children:[T.jsx(VL,{className:"icon community"}),T.jsx("span",{className:"nav-text",children:r("navbar.community")})]})}),N?T.jsx(N$,{}):null,T.jsx(At,{children:T.jsxs("a",{href:"/userbook/mon-compte",className:"nav-link dropdown-item",children:[T.jsx(aw,{alt:E,size:"sm",src:_,variant:"circle",className:"bg-white",width:"32",height:"32"}),T.jsx("span",{className:"nav-text",children:r("navbar.myaccount")})]})}),T.jsx(At,{children:T.jsx("hr",{className:"dropdown-divider"})}),T.jsx(At,{children:T.jsxs("a",{href:"/auth/logout?callback="+((I==null?void 0:I.logoutCallback)??"/"),className:"nav-link dropdown-item",children:[T.jsx(Iw,{className:"icon logout"}),T.jsx("span",{id:"logout-label",className:"nav-text",children:r("navbar.disconnect")})]})})]})]})})]})]})})})},j$=U$,$$=({children:t,headless:e=!1,...r})=>{const{theme:n}=ml(),{t:i}=Kr(),{showCookiesConsent:s,handleConsultCookies:o,handleCloseCookiesConsent:a}=D$();I$(),M$();const l=Xe("d-flex flex-column bg-white",{"container-fluid":!e,"rounded-4 border":(n==null?void 0:n.is1d)&&!e,"mt-24":(n==null?void 0:n.is1d)&&!e}),u=e?null:T.jsx(j$,{is1d:n==null?void 0:n.is1d,src:n==null?void 0:n.basePath}),c=s&&T.jsx(Xj,{type:"info",className:"m-12 rgpd",isConfirm:!0,position:"bottom-right",button:T.jsx(ul,{color:"tertiary",variant:"ghost",onClick:o,children:i("rgpd.cookies.banner.button.consult")}),onClose:a,children:i("rgpd.cookies.banner.text1")}),d=T.jsx(w3,{containerClassName:"toaster-container",toastOptions:{position:"top-right"}});return T.jsxs(T.Fragment,{children:[u,T.jsx("main",{className:l,...r,children:t}),d,c]})},C1=$$;var G2,Qb=pc;G2=Qb.createRoot,Qb.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function it(){return it=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},it.apply(this,arguments)}var _t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(_t||(_t={}));const Zb="popstate";function z$(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return tc("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Tc(i)}return H$(e,r,null,t)}function je(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G$(){return Math.random().toString(36).substr(2,8)}function Jb(t,e){return{usr:t.state,key:t.key,idx:e}}function tc(t,e,r,n){return r===void 0&&(r=null),it({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rs(e):e,{state:r,key:e&&e.key||n||G$()})}function Tc(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Rs(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function H$(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=_t.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(it({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=_t.Pop;let v=c(),y=v==null?null:v-u;u=v,l&&l({action:a,location:p.location,delta:y})}function h(v,y){a=_t.Push;let x=tc(p.location,v,y);u=c()+1;let g=Jb(x,u),w=p.createHref(x);try{o.pushState(g,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;i.location.assign(w)}s&&l&&l({action:a,location:p.location,delta:1})}function f(v,y){a=_t.Replace;let x=tc(p.location,v,y);u=c();let g=Jb(x,u),w=p.createHref(x);o.replaceState(g,"",w),s&&l&&l({action:a,location:p.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof v=="string"?v:Tc(v);return x=x.replace(/ $/,"%20"),je(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let p={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Zb,d),l=v,()=>{i.removeEventListener(Zb,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(v){return o.go(v)}};return p}var Qe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qe||(Qe={}));const V$=new Set(["lazy","caseSensitive","path","id","index","children"]);function W$(t){return t.index===!0}function hf(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(je(i.index!==!0||!i.children,"Cannot specify children on an index route"),je(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),W$(i)){let l=it({},i,e(i),{id:a});return n[a]=l,l}else{let l=it({},i,e(i),{id:a,children:void 0});return n[a]=l,i.children&&(l.children=hf(i.children,e,o,n)),l}})}function Ws(t,e,r){return r===void 0&&(r="/"),cd(t,e,r,!1)}function cd(t,e,r,n){let i=typeof e=="string"?Rs(e):e,s=Cc(i.pathname||"/",r);if(s==null)return null;let o=H2(t);Y$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=s9(s);a=n9(o[l],u,n)}return a}function X$(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function H2(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(je(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=fs([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(je(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),H2(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:t9(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of V2(s.path))i(s,o,l)}),e}function V2(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=V2(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Y$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:r9(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q$=/^:[\w-]+$/,K$=3,Q$=2,Z$=1,J$=10,e9=-2,eS=t=>t==="*";function t9(t,e){let r=t.split("/"),n=r.length;return r.some(eS)&&(n+=e9),e&&(n+=Q$),r.filter(i=>!eS(i)).reduce((i,s)=>i+(q$.test(s)?K$:s===""?Z$:J$),n)}function r9(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function n9(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=P0({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=P0({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:fs([s,d.pathname]),pathnameBase:l9(fs([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=fs([s,d.pathnameBase]))}return o}function P0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=i9(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?u[h]=void 0:u[h]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function i9(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function s9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function o9(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Rs(t):t;return{pathname:r?r.startsWith("/")?r:a9(r,e):e,search:u9(n),hash:c9(i)}}function a9(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function eg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function X2(t,e){let r=W2(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Y2(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Rs(t):(i=it({},t),je(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),je(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),je(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=o9(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const fs=t=>t.join("/").replace(/\/\/+/g,"/"),l9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,c9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class df{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function dp(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const q2=["post","put","patch","delete"],h9=new Set(q2),d9=["get",...q2],f9=new Set(d9),p9=new Set([301,302,303,307,308]),m9=new Set([307,308]),tg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},g9={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Fl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},A1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v9=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),K2="remix-router-transitions";function y9(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;je(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=$=>({hasErrorBoundary:k($)})}else i=v9;let s={},o=hf(t.routes,i,void 0,s),a,l=t.basename||"/",u=t.dataStrategy||b9,c=t.patchRoutesOnNavigation,d=it({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,m=null,p=null,v=null,y=t.hydrationData!=null,x=Ws(o,t.history.location,l),g=null;if(x==null&&!c){let k=ur(404,{pathname:t.history.location.pathname}),{matches:$,route:G}=hS(o);x=$,g={[G.id]:k}}x&&!t.hydrationData&&Mc(x,o,t.history.location.pathname).active&&(x=null);let w;if(x)if(x.some(k=>k.route.lazy))w=!1;else if(!x.some(k=>k.route.loader))w=!0;else if(d.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,$=t.hydrationData?t.hydrationData.errors:null;if($){let G=x.findIndex(V=>$[V.route.id]!==void 0);w=x.slice(0,G+1).every(V=>!I0(V.route,k,$))}else w=x.every(G=>!I0(G.route,k,$))}else w=t.hydrationData!=null;else if(w=!1,x=[],d.v7_partialHydration){let k=Mc(null,o,t.history.location.pathname);k.active&&k.matches&&(x=k.matches)}let b,_={historyAction:t.history.action,location:t.history.location,matches:x,initialized:w,navigation:tg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||g,fetchers:new Map,blockers:new Map},E=_t.Pop,C=!1,A,B=!1,N=new Map,F=null,D=!1,M=!1,S=[],I=new Set,L=new Map,R=0,U=-1,O=new Map,z=new Set,H=new Map,q=new Map,K=new Set,se=new Map,de=new Map,me;function Le(){if(h=t.history.listen(k=>{let{action:$,location:G,delta:V}=k;if(me){me(),me=void 0;return}sl(de.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=L1({currentLocation:_.location,nextLocation:G,historyAction:$});if(te&&V!=null){let fe=new Promise(_e=>{me=_e});t.history.go(V*-1),Ic(te,{state:"blocked",location:G,proceed(){Ic(te,{state:"proceeding",proceed:void 0,reset:void 0,location:G}),fe.then(()=>t.history.go(V))},reset(){let _e=new Map(_.blockers);_e.set(te,Fl),ce({blockers:_e})}});return}return Ye($,G)}),r){N9(e,N);let k=()=>F9(e,N);e.addEventListener("pagehide",k),F=()=>e.removeEventListener("pagehide",k)}return _.initialized||Ye(_t.Pop,_.location,{initialHydration:!0}),b}function Ie(){h&&h(),F&&F(),f.clear(),A&&A.abort(),_.fetchers.forEach((k,$)=>ar($)),_.blockers.forEach((k,$)=>D1($))}function we(k){return f.add(k),()=>f.delete(k)}function ce(k,$){$===void 0&&($={}),_=it({},_,k);let G=[],V=[];d.v7_fetcherPersist&&_.fetchers.forEach((te,fe)=>{te.state==="idle"&&(K.has(fe)?V.push(fe):G.push(fe))}),[...f].forEach(te=>te(_,{deletedFetchers:V,viewTransitionOpts:$.viewTransitionOpts,flushSync:$.flushSync===!0})),d.v7_fetcherPersist&&(G.forEach(te=>_.fetchers.delete(te)),V.forEach(te=>ar(te)))}function Ae(k,$,G){var V,te;let{flushSync:fe}=G===void 0?{}:G,_e=_.actionData!=null&&_.navigation.formMethod!=null&&an(_.navigation.formMethod)&&_.navigation.state==="loading"&&((V=k.state)==null?void 0:V._isRedirect)!==!0,ie;$.actionData?Object.keys($.actionData).length>0?ie=$.actionData:ie=null:_e?ie=_.actionData:ie=null;let oe=$.loaderData?uS(_.loaderData,$.loaderData,$.matches||[],$.errors):_.loaderData,re=_.blockers;re.size>0&&(re=new Map(re),re.forEach((ze,Ft)=>re.set(Ft,Fl)));let pe=C===!0||_.navigation.formMethod!=null&&an(_.navigation.formMethod)&&((te=k.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),D||E===_t.Pop||(E===_t.Push?t.history.push(k,k.state):E===_t.Replace&&t.history.replace(k,k.state));let Ne;if(E===_t.Pop){let ze=N.get(_.location.pathname);ze&&ze.has(k.pathname)?Ne={currentLocation:_.location,nextLocation:k}:N.has(k.pathname)&&(Ne={currentLocation:k,nextLocation:_.location})}else if(B){let ze=N.get(_.location.pathname);ze?ze.add(k.pathname):(ze=new Set([k.pathname]),N.set(_.location.pathname,ze)),Ne={currentLocation:_.location,nextLocation:k}}ce(it({},$,{actionData:ie,loaderData:oe,historyAction:E,location:k,initialized:!0,navigation:tg,revalidation:"idle",restoreScrollPosition:N1(k,$.matches||_.matches),preventScrollReset:pe,blockers:re}),{viewTransitionOpts:Ne,flushSync:fe===!0}),E=_t.Pop,C=!1,B=!1,D=!1,M=!1,S=[]}async function ke(k,$){if(typeof k=="number"){t.history.go(k);return}let G=R0(_.location,_.matches,l,d.v7_prependBasename,k,d.v7_relativeSplatPath,$==null?void 0:$.fromRouteId,$==null?void 0:$.relative),{path:V,submission:te,error:fe}=tS(d.v7_normalizeFormMethod,!1,G,$),_e=_.location,ie=tc(_.location,V,$&&$.state);ie=it({},ie,t.history.encodeLocation(ie));let oe=$&&$.replace!=null?$.replace:void 0,re=_t.Push;oe===!0?re=_t.Replace:oe===!1||te!=null&&an(te.formMethod)&&te.formAction===_.location.pathname+_.location.search&&(re=_t.Replace);let pe=$&&"preventScrollReset"in $?$.preventScrollReset===!0:void 0,Ne=($&&$.flushSync)===!0,ze=L1({currentLocation:_e,nextLocation:ie,historyAction:re});if(ze){Ic(ze,{state:"blocked",location:ie,proceed(){Ic(ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ie}),ke(k,$)},reset(){let Ft=new Map(_.blockers);Ft.set(ze,Fl),ce({blockers:Ft})}});return}return await Ye(re,ie,{submission:te,pendingError:fe,preventScrollReset:pe,replace:$&&$.replace,enableViewTransition:$&&$.viewTransition,flushSync:Ne})}function Tt(){if(Pe(),ce({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ye(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ye(E||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation,enableViewTransition:B===!0})}}async function Ye(k,$,G){A&&A.abort(),A=null,E=k,D=(G&&G.startUninterruptedRevalidation)===!0,yR(_.location,_.matches),C=(G&&G.preventScrollReset)===!0,B=(G&&G.enableViewTransition)===!0;let V=a||o,te=G&&G.overrideNavigation,fe=Ws(V,$,l),_e=(G&&G.flushSync)===!0,ie=Mc(fe,V,$.pathname);if(ie.active&&ie.matches&&(fe=ie.matches),!fe){let{error:Ze,notFoundMatches:Ve,route:dt}=yp($.pathname);Ae($,{matches:Ve,loaderData:{},errors:{[dt.id]:Ze}},{flushSync:_e});return}if(_.initialized&&!M&&P9(_.location,$)&&!(G&&G.submission&&an(G.submission.formMethod))){Ae($,{matches:fe},{flushSync:_e});return}A=new AbortController;let oe=Go(t.history,$,A.signal,G&&G.submission),re;if(G&&G.pendingError)re=[Xs(fe).route.id,{type:Qe.error,error:G.pendingError}];else if(G&&G.submission&&an(G.submission.formMethod)){let Ze=await Kn(oe,$,G.submission,fe,ie.active,{replace:G.replace,flushSync:_e});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[Ve,dt]=Ze.pendingActionResult;if(Tr(dt)&&dp(dt.error)&&dt.error.status===404){A=null,Ae($,{matches:Ze.matches,loaderData:{},errors:{[Ve]:dt.error}});return}}fe=Ze.matches||fe,re=Ze.pendingActionResult,te=rg($,G.submission),_e=!1,ie.active=!1,oe=Go(t.history,oe.url,oe.signal)}let{shortCircuited:pe,matches:Ne,loaderData:ze,errors:Ft}=await Is(oe,$,fe,ie.active,te,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,_e,re);pe||(A=null,Ae($,it({matches:Ne||fe},cS(re),{loaderData:ze,errors:Ft})))}async function Kn(k,$,G,V,te,fe){fe===void 0&&(fe={}),Pe();let _e=L9($,G);if(ce({navigation:_e},{flushSync:fe.flushSync===!0}),te){let re=await Oc(V,$.pathname,k.signal);if(re.type==="aborted")return{shortCircuited:!0};if(re.type==="error"){let pe=Xs(re.partialMatches).route.id;return{matches:re.partialMatches,pendingActionResult:[pe,{type:Qe.error,error:re.error}]}}else if(re.matches)V=re.matches;else{let{notFoundMatches:pe,error:Ne,route:ze}=yp($.pathname);return{matches:pe,pendingActionResult:[ze.id,{type:Qe.error,error:Ne}]}}}let ie,oe=nu(V,$);if(!oe.route.action&&!oe.route.lazy)ie={type:Qe.error,error:ur(405,{method:k.method,pathname:$.pathname,routeId:oe.route.id})};else if(ie=(await Dr("action",_,k,[oe],V,null))[oe.route.id],k.signal.aborted)return{shortCircuited:!0};if(Qs(ie)){let re;return fe&&fe.replace!=null?re=fe.replace:re=oS(ie.response.headers.get("Location"),new URL(k.url),l)===_.location.pathname+_.location.search,await Ct(k,ie,!0,{submission:G,replace:re}),{shortCircuited:!0}}if(ts(ie))throw ur(400,{type:"defer-action"});if(Tr(ie)){let re=Xs(V,oe.route.id);return(fe&&fe.replace)!==!0&&(E=_t.Push),{matches:V,pendingActionResult:[re.route.id,ie]}}return{matches:V,pendingActionResult:[oe.route.id,ie]}}async function Is(k,$,G,V,te,fe,_e,ie,oe,re,pe){let Ne=te||rg($,fe),ze=fe||_e||fS(Ne),Ft=!D&&(!d.v7_partialHydration||!oe);if(V){if(Ft){let ft=xr(pe);ce(it({navigation:Ne},ft!==void 0?{actionData:ft}:{}),{flushSync:re})}let He=await Oc(G,$.pathname,k.signal);if(He.type==="aborted")return{shortCircuited:!0};if(He.type==="error"){let ft=Xs(He.partialMatches).route.id;return{matches:He.partialMatches,loaderData:{},errors:{[ft]:He.error}}}else if(He.matches)G=He.matches;else{let{error:ft,notFoundMatches:Lo,route:xl}=yp($.pathname);return{matches:Lo,loaderData:{},errors:{[xl.id]:ft}}}}let Ze=a||o,[Ve,dt]=nS(t.history,_,G,ze,$,d.v7_partialHydration&&oe===!0,d.v7_skipActionErrorRevalidation,M,S,I,K,H,z,Ze,l,pe);if(xp(He=>!(G&&G.some(ft=>ft.route.id===He))||Ve&&Ve.some(ft=>ft.route.id===He)),U=++R,Ve.length===0&&dt.length===0){let He=wr();return Ae($,it({matches:G,loaderData:{},errors:pe&&Tr(pe[1])?{[pe[0]]:pe[1].error}:null},cS(pe),He?{fetchers:new Map(_.fetchers)}:{}),{flushSync:re}),{shortCircuited:!0}}if(Ft){let He={};if(!V){He.navigation=Ne;let ft=xr(pe);ft!==void 0&&(He.actionData=ft)}dt.length>0&&(He.fetchers=Mo(dt)),ce(He,{flushSync:re})}dt.forEach(He=>{Re(He.key),He.controller&&L.set(He.key,He.controller)});let Do=()=>dt.forEach(He=>Re(He.key));A&&A.signal.addEventListener("abort",Do);let{loaderResults:vl,fetcherResults:Qn}=await Ms(_,G,Ve,dt,k);if(k.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Do),dt.forEach(He=>L.delete(He.key));let bn=Dh(vl);if(bn)return await Ct(k,bn.result,!0,{replace:ie}),{shortCircuited:!0};if(bn=Dh(Qn),bn)return z.add(bn.key),await Ct(k,bn.result,!0,{replace:ie}),{shortCircuited:!0};let{loaderData:wp,errors:yl}=lS(_,G,vl,pe,dt,Qn,se);se.forEach((He,ft)=>{He.subscribe(Lo=>{(Lo||He.done)&&se.delete(ft)})}),d.v7_partialHydration&&oe&&_.errors&&(yl=it({},_.errors,yl));let Os=wr(),Dc=Oo(U),Lc=Os||Dc||dt.length>0;return it({matches:G,loaderData:wp,errors:yl},Lc?{fetchers:new Map(_.fetchers)}:{})}function xr(k){if(k&&!Tr(k[1]))return{[k[0]]:k[1].data};if(_.actionData)return Object.keys(_.actionData).length===0?null:_.actionData}function Mo(k){return k.forEach($=>{let G=_.fetchers.get($.key),V=Bl(void 0,G?G.data:void 0);_.fetchers.set($.key,V)}),new Map(_.fetchers)}function vp(k,$,G,V){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Re(k);let te=(V&&V.flushSync)===!0,fe=a||o,_e=R0(_.location,_.matches,l,d.v7_prependBasename,G,d.v7_relativeSplatPath,$,V==null?void 0:V.relative),ie=Ws(fe,_e,l),oe=Mc(ie,fe,_e);if(oe.active&&oe.matches&&(ie=oe.matches),!ie){ge(k,$,ur(404,{pathname:_e}),{flushSync:te});return}let{path:re,submission:pe,error:Ne}=tS(d.v7_normalizeFormMethod,!0,_e,V);if(Ne){ge(k,$,Ne,{flushSync:te});return}let ze=nu(ie,re),Ft=(V&&V.preventScrollReset)===!0;if(pe&&an(pe.formMethod)){Ac(k,$,re,ze,ie,oe.active,te,Ft,pe);return}H.set(k,{routeId:$,path:re}),Pc(k,$,re,ze,ie,oe.active,te,Ft,pe)}async function Ac(k,$,G,V,te,fe,_e,ie,oe){Pe(),H.delete(k);function re(wt){if(!wt.route.action&&!wt.route.lazy){let ko=ur(405,{method:oe.formMethod,pathname:G,routeId:$});return ge(k,$,ko,{flushSync:_e}),!0}return!1}if(!fe&&re(V))return;let pe=_.fetchers.get(k);Ce(k,k9(oe,pe),{flushSync:_e});let Ne=new AbortController,ze=Go(t.history,G,Ne.signal,oe);if(fe){let wt=await Oc(te,G,ze.signal);if(wt.type==="aborted")return;if(wt.type==="error"){ge(k,$,wt.error,{flushSync:_e});return}else if(wt.matches){if(te=wt.matches,V=nu(te,G),re(V))return}else{ge(k,$,ur(404,{pathname:G}),{flushSync:_e});return}}L.set(k,Ne);let Ft=R,Ve=(await Dr("action",_,ze,[V],te,k))[V.route.id];if(ze.signal.aborted){L.get(k)===Ne&&L.delete(k);return}if(d.v7_fetcherPersist&&K.has(k)){if(Qs(Ve)||Tr(Ve)){Ce(k,Oi(void 0));return}}else{if(Qs(Ve))if(L.delete(k),U>Ft){Ce(k,Oi(void 0));return}else return z.add(k),Ce(k,Bl(oe)),Ct(ze,Ve,!1,{fetcherSubmission:oe,preventScrollReset:ie});if(Tr(Ve)){ge(k,$,Ve.error);return}}if(ts(Ve))throw ur(400,{type:"defer-action"});let dt=_.navigation.location||_.location,Do=Go(t.history,dt,Ne.signal),vl=a||o,Qn=_.navigation.state!=="idle"?Ws(vl,_.navigation.location,l):_.matches;je(Qn,"Didn't find any matches after fetcher action");let bn=++R;O.set(k,bn);let wp=Bl(oe,Ve.data);_.fetchers.set(k,wp);let[yl,Os]=nS(t.history,_,Qn,oe,dt,!1,d.v7_skipActionErrorRevalidation,M,S,I,K,H,z,vl,l,[V.route.id,Ve]);Os.filter(wt=>wt.key!==k).forEach(wt=>{let ko=wt.key,F1=_.fetchers.get(ko),_R=Bl(void 0,F1?F1.data:void 0);_.fetchers.set(ko,_R),Re(ko),wt.controller&&L.set(ko,wt.controller)}),ce({fetchers:new Map(_.fetchers)});let Dc=()=>Os.forEach(wt=>Re(wt.key));Ne.signal.addEventListener("abort",Dc);let{loaderResults:Lc,fetcherResults:He}=await Ms(_,Qn,yl,Os,Do);if(Ne.signal.aborted)return;Ne.signal.removeEventListener("abort",Dc),O.delete(k),L.delete(k),Os.forEach(wt=>L.delete(wt.key));let ft=Dh(Lc);if(ft)return Ct(Do,ft.result,!1,{preventScrollReset:ie});if(ft=Dh(He),ft)return z.add(ft.key),Ct(Do,ft.result,!1,{preventScrollReset:ie});let{loaderData:Lo,errors:xl}=lS(_,Qn,Lc,void 0,Os,He,se);if(_.fetchers.has(k)){let wt=Oi(Ve.data);_.fetchers.set(k,wt)}Oo(bn),_.navigation.state==="loading"&&bn>U?(je(E,"Expected pending action"),A&&A.abort(),Ae(_.navigation.location,{matches:Qn,loaderData:Lo,errors:xl,fetchers:new Map(_.fetchers)})):(ce({errors:xl,loaderData:uS(_.loaderData,Lo,Qn,xl),fetchers:new Map(_.fetchers)}),M=!1)}async function Pc(k,$,G,V,te,fe,_e,ie,oe){let re=_.fetchers.get(k);Ce(k,Bl(oe,re?re.data:void 0),{flushSync:_e});let pe=new AbortController,Ne=Go(t.history,G,pe.signal);if(fe){let Ve=await Oc(te,G,Ne.signal);if(Ve.type==="aborted")return;if(Ve.type==="error"){ge(k,$,Ve.error,{flushSync:_e});return}else if(Ve.matches)te=Ve.matches,V=nu(te,G);else{ge(k,$,ur(404,{pathname:G}),{flushSync:_e});return}}L.set(k,pe);let ze=R,Ze=(await Dr("loader",_,Ne,[V],te,k))[V.route.id];if(ts(Ze)&&(Ze=await P1(Ze,Ne.signal,!0)||Ze),L.get(k)===pe&&L.delete(k),!Ne.signal.aborted){if(K.has(k)){Ce(k,Oi(void 0));return}if(Qs(Ze))if(U>ze){Ce(k,Oi(void 0));return}else{z.add(k),await Ct(Ne,Ze,!1,{preventScrollReset:ie});return}if(Tr(Ze)){ge(k,$,Ze.error);return}je(!ts(Ze),"Unhandled fetcher deferred data"),Ce(k,Oi(Ze.data))}}async function Ct(k,$,G,V){let{submission:te,fetcherSubmission:fe,preventScrollReset:_e,replace:ie}=V===void 0?{}:V;$.response.headers.has("X-Remix-Revalidate")&&(M=!0);let oe=$.response.headers.get("Location");je(oe,"Expected a Location header on the redirect Response"),oe=oS(oe,new URL(k.url),l);let re=tc(_.location,oe,{_isRedirect:!0});if(r){let Ve=!1;if($.response.headers.has("X-Remix-Reload-Document"))Ve=!0;else if(A1.test(oe)){const dt=t.history.createURL(oe);Ve=dt.origin!==e.location.origin||Cc(dt.pathname,l)==null}if(Ve){ie?e.location.replace(oe):e.location.assign(oe);return}}A=null;let pe=ie===!0||$.response.headers.has("X-Remix-Replace")?_t.Replace:_t.Push,{formMethod:Ne,formAction:ze,formEncType:Ft}=_.navigation;!te&&!fe&&Ne&&ze&&Ft&&(te=fS(_.navigation));let Ze=te||fe;if(m9.has($.response.status)&&Ze&&an(Ze.formMethod))await Ye(pe,re,{submission:it({},Ze,{formAction:oe}),preventScrollReset:_e||C,enableViewTransition:G?B:void 0});else{let Ve=rg(re,te);await Ye(pe,re,{overrideNavigation:Ve,fetcherSubmission:fe,preventScrollReset:_e||C,enableViewTransition:G?B:void 0})}}async function Dr(k,$,G,V,te,fe){let _e,ie={};try{_e=await S9(u,k,$,G,V,te,fe,s,i)}catch(oe){return V.forEach(re=>{ie[re.route.id]={type:Qe.error,error:oe}}),ie}for(let[oe,re]of Object.entries(_e))if(R9(re)){let pe=re.result;ie[oe]={type:Qe.redirect,response:C9(pe,G,oe,te,l,d.v7_relativeSplatPath)}}else ie[oe]=await T9(re);return ie}async function Ms(k,$,G,V,te){let fe=k.matches,_e=Dr("loader",k,te,G,$,null),ie=Promise.all(V.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let ze=(await Dr("loader",k,Go(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:ze}}else return Promise.resolve({[pe.key]:{type:Qe.error,error:ur(404,{pathname:pe.path})}})})),oe=await _e,re=(await ie).reduce((pe,Ne)=>Object.assign(pe,Ne),{});return await Promise.all([O9($,oe,te.signal,fe,k.loaderData),D9($,re,V)]),{loaderResults:oe,fetcherResults:re}}function Pe(){M=!0,S.push(...xp()),H.forEach((k,$)=>{L.has($)&&I.add($),Re($)})}function Ce(k,$,G){G===void 0&&(G={}),_.fetchers.set(k,$),ce({fetchers:new Map(_.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function ge(k,$,G,V){V===void 0&&(V={});let te=Xs(_.matches,$);ar(k),ce({errors:{[te.route.id]:G},fetchers:new Map(_.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function qe(k){return d.v7_fetcherPersist&&(q.set(k,(q.get(k)||0)+1),K.has(k)&&K.delete(k)),_.fetchers.get(k)||g9}function ar(k){let $=_.fetchers.get(k);L.has(k)&&!($&&$.state==="loading"&&O.has(k))&&Re(k),H.delete(k),O.delete(k),z.delete(k),K.delete(k),I.delete(k),_.fetchers.delete(k)}function Lr(k){if(d.v7_fetcherPersist){let $=(q.get(k)||0)-1;$<=0?(q.delete(k),K.add(k)):q.set(k,$)}else ar(k);ce({fetchers:new Map(_.fetchers)})}function Re(k){let $=L.get(k);$&&($.abort(),L.delete(k))}function ye(k){for(let $ of k){let G=qe($),V=Oi(G.data);_.fetchers.set($,V)}}function wr(){let k=[],$=!1;for(let G of z){let V=_.fetchers.get(G);je(V,"Expected fetcher: "+G),V.state==="loading"&&(z.delete(G),k.push(G),$=!0)}return ye(k),$}function Oo(k){let $=[];for(let[G,V]of O)if(V<k){let te=_.fetchers.get(G);je(te,"Expected fetcher: "+G),te.state==="loading"&&(Re(G),O.delete(G),$.push(G))}return ye($),$.length>0}function Rc(k,$){let G=_.blockers.get(k)||Fl;return de.get(k)!==$&&de.set(k,$),G}function D1(k){_.blockers.delete(k),de.delete(k)}function Ic(k,$){let G=_.blockers.get(k)||Fl;je(G.state==="unblocked"&&$.state==="blocked"||G.state==="blocked"&&$.state==="blocked"||G.state==="blocked"&&$.state==="proceeding"||G.state==="blocked"&&$.state==="unblocked"||G.state==="proceeding"&&$.state==="unblocked","Invalid blocker state transition: "+G.state+" -> "+$.state);let V=new Map(_.blockers);V.set(k,$),ce({blockers:V})}function L1(k){let{currentLocation:$,nextLocation:G,historyAction:V}=k;if(de.size===0)return;de.size>1&&sl(!1,"A router only supports one blocker at a time");let te=Array.from(de.entries()),[fe,_e]=te[te.length-1],ie=_.blockers.get(fe);if(!(ie&&ie.state==="proceeding")&&_e({currentLocation:$,nextLocation:G,historyAction:V}))return fe}function yp(k){let $=ur(404,{pathname:k}),G=a||o,{matches:V,route:te}=hS(G);return xp(),{notFoundMatches:V,route:te,error:$}}function xp(k){let $=[];return se.forEach((G,V)=>{(!k||k(V))&&(G.cancel(),$.push(V),se.delete(V))}),$}function vR(k,$,G){if(m=k,v=$,p=G||null,!y&&_.navigation===tg){y=!0;let V=N1(_.location,_.matches);V!=null&&ce({restoreScrollPosition:V})}return()=>{m=null,v=null,p=null}}function k1(k,$){return p&&p(k,$.map(V=>X$(V,_.loaderData)))||k.key}function yR(k,$){if(m&&v){let G=k1(k,$);m[G]=v()}}function N1(k,$){if(m){let G=k1(k,$),V=m[G];if(typeof V=="number")return V}return null}function Mc(k,$,G){if(c)if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:cd($,G,l,!0)}}else return{active:!0,matches:cd($,G,l,!0)||[]};return{active:!1,matches:null}}async function Oc(k,$,G){if(!c)return{type:"success",matches:k};let V=k;for(;;){let te=a==null,fe=a||o,_e=s;try{await c({path:$,matches:V,patch:(re,pe)=>{G.aborted||sS(re,pe,fe,_e,i)}})}catch(re){return{type:"error",error:re,partialMatches:V}}finally{te&&!G.aborted&&(o=[...o])}if(G.aborted)return{type:"aborted"};let ie=Ws(fe,$,l);if(ie)return{type:"success",matches:ie};let oe=cd(fe,$,l,!0);if(!oe||V.length===oe.length&&V.every((re,pe)=>re.route.id===oe[pe].route.id))return{type:"success",matches:null};V=oe}}function xR(k){s={},a=hf(k,i,void 0,s)}function wR(k,$){let G=a==null;sS(k,$,a||o,s,i),G&&(o=[...o],ce({}))}return b={get basename(){return l},get future(){return d},get state(){return _},get routes(){return o},get window(){return e},initialize:Le,subscribe:we,enableScrollRestoration:vR,navigate:ke,fetch:vp,revalidate:Tt,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:qe,deleteFetcher:Lr,dispose:Ie,getBlocker:Rc,deleteBlocker:D1,patchRoutes:wR,_internalFetchControllers:L,_internalActiveDeferreds:se,_internalSetRoutes:xR},b}function x9(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function R0(t,e,r,n,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=Y2(i||".",X2(l,s),Cc(t.pathname,r)||t.pathname,a==="path");if(i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u){let d=R1(c.search);if(u.route.index&&!d)c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&d){let h=new URLSearchParams(c.search),f=h.getAll("index");h.delete("index"),f.filter(p=>p).forEach(p=>h.append("index",p));let m=h.toString();c.search=m?"?"+m:""}}return n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:fs([r,c.pathname])),Tc(c)}function tS(t,e,r,n){if(!n||!x9(n))return{path:r};if(n.formMethod&&!M9(n.formMethod))return{path:r,error:ur(405,{method:n.formMethod})};let i=()=>({path:r,error:ur(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=J2(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!an(o))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((f,m)=>{let[p,v]=m;return""+f+p+"="+v+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!an(o))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}je(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=M0(n.formData),u=n.formData;else if(n.body instanceof FormData)l=M0(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=aS(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=aS(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(an(c.formMethod))return{path:r,submission:c};let d=Rs(r);return e&&d.search&&R1(d.search)&&l.append("index",""),d.search="?"+l,{path:Tc(d),submission:c}}function rS(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(i=>i.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function nS(t,e,r,n,i,s,o,a,l,u,c,d,h,f,m,p){let v=p?Tr(p[1])?p[1].error:p[1].data:void 0,y=t.createURL(e.location),x=t.createURL(i),g=r;s&&e.errors?g=rS(r,Object.keys(e.errors)[0],!0):p&&Tr(p[1])&&(g=rS(r,p[0]));let w=p?p[1].statusCode:void 0,b=o&&w&&w>=400,_=g.filter((C,A)=>{let{route:B}=C;if(B.lazy)return!0;if(B.loader==null)return!1;if(s)return I0(B,e.loaderData,e.errors);if(w9(e.loaderData,e.matches[A],C)||l.some(D=>D===C.route.id))return!0;let N=e.matches[A],F=C;return iS(C,it({currentUrl:y,currentParams:N.params,nextUrl:x,nextParams:F.params},n,{actionResult:v,actionStatus:w,defaultShouldRevalidate:b?!1:a||y.pathname+y.search===x.pathname+x.search||y.search!==x.search||Q2(N,F)}))}),E=[];return d.forEach((C,A)=>{if(s||!r.some(M=>M.route.id===C.routeId)||c.has(A))return;let B=Ws(f,C.path,m);if(!B){E.push({key:A,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let N=e.fetchers.get(A),F=nu(B,C.path),D=!1;h.has(A)?D=!1:u.has(A)?(u.delete(A),D=!0):N&&N.state!=="idle"&&N.data===void 0?D=a:D=iS(F,it({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:v,actionStatus:w,defaultShouldRevalidate:b?!1:a})),D&&E.push({key:A,routeId:C.routeId,path:C.path,matches:B,match:F,controller:new AbortController})}),[_,E]}function I0(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,i=r!=null&&r[t.id]!==void 0;return!n&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!i}function w9(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function Q2(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function iS(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function sS(t,e,r,n,i){var s;let o;if(t){let u=n[t];je(u,"No route found to patch children into: routeId = "+t),u.children||(u.children=[]),o=u.children}else o=r;let a=e.filter(u=>!o.some(c=>Z2(u,c))),l=hf(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],n);o.push(...l)}function Z2(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var i;return(i=e.children)==null?void 0:i.some(s=>Z2(r,s))}):!1}async function _9(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];je(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";sl(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!V$.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,it({},e(i),{lazy:void 0}))}async function b9(t){let{matches:e}=t,r=e.filter(i=>i.shouldLoad);return(await Promise.all(r.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[r[o].route.id]:s}),{})}async function S9(t,e,r,n,i,s,o,a,l,u){let c=s.map(f=>f.route.lazy?_9(f.route,l,a):void 0),d=s.map((f,m)=>{let p=c[m],v=i.some(x=>x.route.id===f.route.id);return it({},f,{shouldLoad:v,resolve:async x=>(x&&n.method==="GET"&&(f.route.lazy||f.route.loader)&&(v=!0),v?E9(e,n,f,p,x,u):Promise.resolve({type:Qe.data,result:void 0}))})}),h=await t({matches:d,request:n,params:s[0].params,fetcherKey:o,context:u});try{await Promise.all(c)}catch{}return h}async function E9(t,e,r,n,i,s){let o,a,l=u=>{let c,d=new Promise((m,p)=>c=p);a=()=>c(),e.signal.addEventListener("abort",a);let h=m=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):u({request:e,params:r.params,context:s},...m!==void 0?[m]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(p=>h(p)):h())}}catch(m){return{type:"error",result:m}}})();return Promise.race([f,d])};try{let u=r.route[t];if(n)if(u){let c,[d]=await Promise.all([l(u).catch(h=>{c=h}),n]);if(c!==void 0)throw c;o=d}else if(await n,u=r.route[t],u)o=await l(u);else if(t==="action"){let c=new URL(e.url),d=c.pathname+c.search;throw ur(405,{method:e.method,pathname:d,routeId:r.route.id})}else return{type:Qe.data,result:void 0};else if(u)o=await l(u);else{let c=new URL(e.url),d=c.pathname+c.search;throw ur(404,{pathname:d})}je(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Qe.error,result:u}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function T9(t){let{result:e,type:r}=t;if(eR(e)){let u;try{let c=e.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(c){return{type:Qe.error,error:c}}return r===Qe.error?{type:Qe.error,error:new df(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:Qe.data,data:u,statusCode:e.status,headers:e.headers}}if(r===Qe.error){if(dS(e)){var n;if(e.data instanceof Error){var i;return{type:Qe.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new df(((n=e.init)==null?void 0:n.status)||500,void 0,e.data)}return{type:Qe.error,error:e,statusCode:dp(e)?e.status:void 0}}if(I9(e)){var s,o;return{type:Qe.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(dS(e)){var a,l;return{type:Qe.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Qe.data,data:e}}function C9(t,e,r,n,i,s){let o=t.headers.get("Location");if(je(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!A1.test(o)){let a=n.slice(0,n.findIndex(l=>l.route.id===r)+1);o=R0(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function oS(t,e,r){if(A1.test(t)){let n=t,i=n.startsWith("//")?new URL(e.protocol+n):new URL(n),s=Cc(i.pathname,r)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function Go(t,e,r,n){let i=t.createURL(J2(e)).toString(),s={signal:r};if(n&&an(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=M0(n.formData):s.body=n.formData}return new Request(i,s)}function M0(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function aS(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function A9(t,e,r,n,i){let s={},o=null,a,l=!1,u={},c=r&&Tr(r[1])?r[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(je(!Qs(f),"Cannot handle redirect results in processLoaderData"),Tr(f)){let m=f.error;c!==void 0&&(m=c,c=void 0),o=o||{};{let p=Xs(t,h);o[p.route.id]==null&&(o[p.route.id]=m)}s[h]=void 0,l||(l=!0,a=dp(f.error)?f.error.status:500),f.headers&&(u[h]=f.headers)}else ts(f)?(n.set(h,f.deferredData),s[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers)):(s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(u[h]=f.headers))}),c!==void 0&&r&&(o={[r[0]]:c},s[r[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function lS(t,e,r,n,i,s,o){let{loaderData:a,errors:l}=A9(e,r,n,o);return i.forEach(u=>{let{key:c,match:d,controller:h}=u,f=s[c];if(je(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(Tr(f)){let m=Xs(t.matches,d==null?void 0:d.route.id);l&&l[m.route.id]||(l=it({},l,{[m.route.id]:f.error})),t.fetchers.delete(c)}else if(Qs(f))je(!1,"Unhandled fetcher revalidation redirect");else if(ts(f))je(!1,"Unhandled fetcher deferred data");else{let m=Oi(f.data);t.fetchers.set(c,m)}}),{loaderData:a,errors:l}}function uS(t,e,r,n){let i=it({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function cS(t){return t?Tr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Xs(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function hS(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ur(t,e){let{pathname:r,routeId:n,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(a="Not Found",l='No route matches URL "'+r+'"'):t===405&&(a="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new df(t||500,a,new Error(l),!0)}function Dh(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,i]=e[r];if(Qs(i))return{key:n,result:i}}}function J2(t){let e=typeof t=="string"?Rs(t):t;return Tc(it({},e,{hash:""}))}function P9(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function R9(t){return eR(t.result)&&p9.has(t.result.status)}function ts(t){return t.type===Qe.deferred}function Tr(t){return t.type===Qe.error}function Qs(t){return(t&&t.type)===Qe.redirect}function dS(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function I9(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function eR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function M9(t){return f9.has(t.toLowerCase())}function an(t){return h9.has(t.toLowerCase())}async function O9(t,e,r,n,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],u=t.find(h=>(h==null?void 0:h.route.id)===a);if(!u)continue;let c=n.find(h=>h.route.id===u.route.id),d=c!=null&&!Q2(c,u)&&(i&&i[u.route.id])!==void 0;ts(l)&&d&&await P1(l,r,!1).then(h=>{h&&(e[a]=h)})}}async function D9(t,e,r){for(let n=0;n<r.length;n++){let{key:i,routeId:s,controller:o}=r[n],a=e[i];t.find(u=>(u==null?void 0:u.route.id)===s)&&ts(a)&&(je(o,"Expected an AbortController for revalidating fetcher deferred result"),await P1(a,o.signal,!0).then(u=>{u&&(e[i]=u)}))}}async function P1(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Qe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Qe.error,error:i}}return{type:Qe.data,data:t.deferredData.data}}}function R1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nu(t,e){let r=typeof e=="string"?Rs(e).search:e.search;if(t[t.length-1].route.index&&R1(r||""))return t[t.length-1];let n=W2(t);return n[n.length-1]}function fS(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function rg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function L9(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Bl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function k9(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Oi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function N9(t,e){try{let r=t.sessionStorage.getItem(K2);if(r){let n=JSON.parse(r);for(let[i,s]of Object.entries(n||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function F9(t,e){if(e.size>0){let r={};for(let[n,i]of e)r[n]=[...i];try{t.sessionStorage.setItem(K2,JSON.stringify(r))}catch(n){sl(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ff(){return ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ff.apply(this,arguments)}const fp=P.createContext(null),tR=P.createContext(null),pp=P.createContext(null),I1=P.createContext(null),gl=P.createContext({outlet:null,matches:[],isDataRoute:!1}),rR=P.createContext(null);function mp(){return P.useContext(I1)!=null}function nR(){return mp()||je(!1),P.useContext(I1).location}function iR(t){P.useContext(pp).static||P.useLayoutEffect(t)}function sR(){let{isDataRoute:t}=P.useContext(gl);return t?Y9():B9()}function B9(){mp()||je(!1);let t=P.useContext(fp),{basename:e,future:r,navigator:n}=P.useContext(pp),{matches:i}=P.useContext(gl),{pathname:s}=nR(),o=JSON.stringify(X2(i,r.v7_relativeSplatPath)),a=P.useRef(!1);return iR(()=>{a.current=!0}),P.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=Y2(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:fs([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}function U9(t,e,r,n){mp()||je(!1);let{navigator:i}=P.useContext(pp),{matches:s}=P.useContext(gl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=nR(),c;c=u;let d=c.pathname||"/",h=d;if(l!=="/"){let p=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(p.length).join("/")}let f=Ws(t,{pathname:h});return H9(f&&f.map(p=>Object.assign({},p,{params:Object.assign({},a,p.params),pathname:fs([l,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?l:fs([l,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),s,r,n)}function j9(){let t=M1(),e=dp(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),r?P.createElement("pre",{style:i},r):null,null)}const $9=P.createElement(j9,null);class z9 extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?P.createElement(gl.Provider,{value:this.props.routeContext},P.createElement(rR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G9(t){let{routeContext:e,match:r,children:n}=t,i=P.useContext(fp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),P.createElement(gl.Provider,{value:e},n)}function H9(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||je(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,m=!1,p=null,v=null;r&&(f=a&&d.route.id?a[d.route.id]:void 0,p=d.route.errorElement||$9,l&&(u<0&&h===0?(m=!0,v=null):u===h&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),x=()=>{let g;return f?g=p:m?g=v:d.route.Component?g=P.createElement(d.route.Component,null):d.route.element?g=d.route.element:g=c,P.createElement(G9,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:g})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(z9,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var oR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oR||{}),pf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pf||{});function V9(t){let e=P.useContext(fp);return e||je(!1),e}function W9(t){let e=P.useContext(tR);return e||je(!1),e}function X9(t){let e=P.useContext(gl);return e||je(!1),e}function aR(t){let e=X9(),r=e.matches[e.matches.length-1];return r.route.id||je(!1),r.route.id}function M1(){var t;let e=P.useContext(rR),r=W9(pf.UseRouteError),n=aR(pf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Y9(){let{router:t}=V9(oR.UseNavigateStable),e=aR(pf.UseNavigateStable),r=P.useRef(!1);return iR(()=>{r.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ff({fromRouteId:e},s)))},[t,e])}const pS={};function q9(t,e){pS[e]||(pS[e]=!0,console.warn(e))}const Ho=(t,e,r)=>q9(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+r+"."));function K9(t,e){t!=null&&t.v7_startTransition||Ho("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&Ho("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||Ho("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||Ho("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||Ho("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||Ho("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function Q9(t){let{basename:e="/",children:r=null,location:n,navigationType:i=_t.Pop,navigator:s,static:o=!1,future:a}=t;mp()&&je(!1);let l=e.replace(/^\/*/,"/"),u=P.useMemo(()=>({basename:l,navigator:s,static:o,future:ff({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Rs(n));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:m="default"}=n,p=P.useMemo(()=>{let v=Cc(c,l);return v==null?null:{location:{pathname:v,search:d,hash:h,state:f,key:m},navigationType:i}},[l,c,d,h,f,m,i]);return p==null?null:P.createElement(pp.Provider,{value:u},P.createElement(I1.Provider,{children:r,value:p}))}new Promise(()=>{});function Z9(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mf.apply(this,arguments)}const J9="6";try{window.__reactRouterVersion=J9}catch{}function ez(t,e){return y9({basename:e==null?void 0:e.basename,future:mf({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:z$({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||tz(),routes:t,mapRouteProperties:Z9,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function tz(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=mf({},e,{errors:rz(e.errors)})),e}function rz(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new df(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const nz=P.createContext({isTransitioning:!1}),iz=P.createContext(new Map),sz="startTransition",mS=UR[sz],oz="flushSync",gS=QM[oz];function az(t){mS?mS(t):t()}function Ul(t){gS?gS(t):t()}class lz{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function uz(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=P.useState(r.state),[o,a]=P.useState(),[l,u]=P.useState({isTransitioning:!1}),[c,d]=P.useState(),[h,f]=P.useState(),[m,p]=P.useState(),v=P.useRef(new Map),{v7_startTransition:y}=n||{},x=P.useCallback(C=>{y?az(C):C()},[y]),g=P.useCallback((C,A)=>{let{deletedFetchers:B,flushSync:N,viewTransitionOpts:F}=A;B.forEach(M=>v.current.delete(M)),C.fetchers.forEach((M,S)=>{M.data!==void 0&&v.current.set(S,M.data)});let D=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!F||D){N?Ul(()=>s(C)):x(()=>s(C));return}if(N){Ul(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let M=r.window.document.startViewTransition(()=>{Ul(()=>s(C))});M.finished.finally(()=>{Ul(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Ul(()=>f(M));return}h?(c&&c.resolve(),h.skipTransition(),p({state:C,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[r.window,h,c,v,x]);P.useLayoutEffect(()=>r.subscribe(g),[r,g]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new lz)},[l]),P.useEffect(()=>{if(c&&o&&r.window){let C=o,A=c.promise,B=r.window.document.startViewTransition(async()=>{x(()=>s(C)),await A});B.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(B)}},[x,o,c,r.window]),P.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),P.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),p(void 0))},[l.isTransitioning,m]),P.useEffect(()=>{},[]);let w=P.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:C=>r.navigate(C),push:(C,A,B)=>r.navigate(C,{state:A,preventScrollReset:B==null?void 0:B.preventScrollReset}),replace:(C,A,B)=>r.navigate(C,{replace:!0,state:A,preventScrollReset:B==null?void 0:B.preventScrollReset})}),[r]),b=r.basename||"/",_=P.useMemo(()=>({router:r,navigator:w,static:!1,basename:b}),[r,w,b]),E=P.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return P.useEffect(()=>K9(n,r.future),[n,r.future]),P.createElement(P.Fragment,null,P.createElement(fp.Provider,{value:_},P.createElement(tR.Provider,{value:i},P.createElement(iz.Provider,{value:v.current},P.createElement(nz.Provider,{value:l},P.createElement(Q9,{basename:b,location:i.location,navigationType:i.historyAction,navigator:w,future:E},i.initialized||r.future.v7_partialHydration?P.createElement(cz,{routes:r.routes,future:r.future,state:i}):e))))),null)}const cz=P.memo(hz);function hz(t){let{routes:e,future:r,state:n}=t;return U9(e,void 0,n,r)}var vS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vS||(vS={}));var yS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yS||(yS={}));const dz={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class gf{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||dz,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new gf(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new gf(this.logger,e)}}var $n=new gf;class gp{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,l]=o;for(let u=0;u<l;u++)a.apply(a,[e,...n])})}}function jl(){let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r}function xS(t){return t==null?"":""+t}function fz(t,e,r){t.forEach(n=>{e[n]&&(r[n]=e[n])})}const pz=/###/g;function O1(t,e,r){function n(a){return a&&a.indexOf("###")>-1?a.replace(pz,"."):a}function i(){return!t||typeof t=="string"}const s=typeof e!="string"?e:e.split(".");let o=0;for(;o<s.length-1;){if(i())return{};const a=n(s[o]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++o}return i()?{}:{obj:t,k:n(s[o])}}function wS(t,e,r){const{obj:n,k:i}=O1(t,e,Object);n[i]=r}function mz(t,e,r,n){const{obj:i,k:s}=O1(t,e,Object);i[s]=i[s]||[],i[s].push(r)}function vf(t,e){const{obj:r,k:n}=O1(t,e);if(r)return r[n]}function gz(t,e,r){const n=vf(t,r);return n!==void 0?n:vf(e,r)}function lR(t,e,r){for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?typeof t[n]=="string"||t[n]instanceof String||typeof e[n]=="string"||e[n]instanceof String?r&&(t[n]=e[n]):lR(t[n],e[n],r):t[n]=e[n]);return t}function Vo(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var vz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function yz(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>vz[e]):t}class xz{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const wz=[" ",",","?","!",";"],_z=new xz(20);function bz(t,e,r){e=e||"",r=r||"";const n=wz.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=_z.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function O0(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,a="";for(let l=s;l<n.length;++l)if(l!==s&&(a+=r),a+=n[l],o=i[a],o!==void 0){s+=l-s+1;break}i=o}return i}function yf(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class _S extends gp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):typeof n=="string"&&s?a.push(...n.split(s)):a.push(n)));const l=vf(this.data,a);return l||!o||typeof n!="string"?l:O0(this.data&&this.data[e]&&this.data[e][r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),wS(this.data,a,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(typeof n[s]=="string"||Object.prototype.toString.apply(n[s])==="[object Array]")&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=r,r=a[1]),this.addNamespaces(r);let l=vf(this.data,a)||{};i?lR(l,n,s):l={...l,...n},wS(this.data,a,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var uR={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{this.processors[s]&&(e=this.processors[s].process(e,r,n,i))}),e}};const bS={};class xf extends gp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),fz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$n.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!bz(e,n,i);if(o&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return typeof s=="string"&&(s=[s]),{key:e,namespaces:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),l=a[a.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const w=r.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${w}${o}`,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:`${l}${w}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const d=this.resolve(e,r);let h=d&&d.res;const f=d&&d.usedKey||o,m=d&&d.exactUsedKey||o,p=Object.prototype.toString.apply(h),v=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&h&&(typeof h!="string"&&typeof h!="boolean"&&typeof h!="number")&&v.indexOf(p)<0&&!(typeof y=="string"&&p==="[object Array]")){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,h,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(d.res=w,d.usedParams=this.getUsedParamsDetails(r),d):w}if(s){const w=p==="[object Array]",b=w?[]:{},_=w?m:f;for(const E in h)if(Object.prototype.hasOwnProperty.call(h,E)){const C=`${_}${s}${E}`;b[E]=this.translate(C,{...r,joinArrays:!1,ns:a}),b[E]===C&&(b[E]=h[E])}h=b}}else if(x&&typeof y=="string"&&p==="[object Array]")h=h.join(y),h&&(h=this.extendTranslation(h,e,r,n));else{let w=!1,b=!1;const _=r.count!==void 0&&typeof r.count!="string",E=xf.hasDefaultValue(r),C=_?this.pluralResolver.getSuffix(u,r.count,r):"",A=r.ordinal&&_?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",B=_&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),N=B&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${C}`]||r[`defaultValue${A}`]||r.defaultValue;!this.isValidLookup(h)&&E&&(w=!0,h=N),this.isValidLookup(h)||(b=!0,h=o);const D=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&b?void 0:h,M=E&&N!==h&&this.options.updateMissing;if(b||w||M){if(this.logger.log(M?"updateKey":"missingKey",u,l,o,M?N:h),s){const R=this.resolve(o,{...r,keySeparator:!1});R&&R.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let S=[];const I=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&I&&I[0])for(let R=0;R<I.length;R++)S.push(I[R]);else this.options.saveMissingTo==="all"?S=this.languageUtils.toResolveHierarchy(r.lng||this.language):S.push(r.lng||this.language);const L=(R,U,O)=>{const z=E&&O!==h?O:D;this.options.missingKeyHandler?this.options.missingKeyHandler(R,l,U,z,M,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(R,l,U,z,M,r),this.emit("missingKey",R,l,U,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&_?S.forEach(R=>{const U=this.pluralResolver.getSuffixes(R,r);B&&r[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(O=>{L([R],o+O,r[`defaultValue${O}`]||N)})}):L(S,o,N))}h=this.extendTranslation(h,e,r,d,n),b&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${o}`),(b||w)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${o}`:o,w?h:void 0):h=this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(r),d):h}extendTranslation(e,r,n,i,s){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=typeof e=="string"&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const h=e.match(this.interpolator.nestingRegexp);c=h&&h.length}let d=n.replace&&typeof n.replace!="string"?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language,n),u){const h=e.match(this.interpolator.nestingRegexp),f=h&&h.length;c<f&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];return s&&s[0]===f[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):o.translate(...f,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=uR.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,o,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const h=r.count!==void 0&&typeof r.count!="string",f=h&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),m=r.context!==void 0&&(typeof r.context=="string"||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);d.forEach(v=>{this.isValidLookup(n)||(a=v,!bS[`${p[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(bS[`${p[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(y=>{if(this.isValidLookup(n))return;o=y;const x=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,y,v,r);else{let w;h&&(w=this.pluralResolver.getSuffix(y,r.count,r));const b=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(x.push(c+w),r.ordinal&&w.indexOf(_)===0&&x.push(c+w.replace(_,this.options.pluralSeparator)),f&&x.push(c+b)),m){const E=`${c}${this.options.contextSeparator}${r.context}`;x.push(E),h&&(x.push(E+w),r.ordinal&&w.indexOf(_)===0&&x.push(E+w.replace(_,this.options.pluralSeparator)),f&&x.push(E+b))}}let g;for(;g=x.pop();)this.isValidLookup(n)||(s=g,n=this.getResource(y,v,g,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&typeof e.replace!="string";let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}function ng(t){return t.charAt(0).toUpperCase()+t.slice(1)}class SS{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$n.create("languageUtils")}getScriptPartFromCode(e){if(e=yf(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=yf(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=ng(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=ng(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=ng(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):typeof e=="string"&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}let Sz=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ez={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const Tz=["v1","v2","v3"],Cz=["v4"],ES={zero:0,one:1,two:2,few:3,many:4,other:5};function Az(){const t={};return Sz.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Ez[e.fc]}})}),t}class Pz{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=$n.create("pluralResolver"),(!this.options.compatibilityJSON||Cz.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Az()}addRule(e,r){this.rules[e]=r}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(yf(e==="dev"?"en":e),{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,s)=>ES[i]-ES[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:this.getSuffixRetroCompatible(i,r):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const s=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?s():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Tz.includes(this.options.compatibilityJSON)}}function TS(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=gz(t,e,r);return!s&&i&&typeof r=="string"&&(s=O0(t,r,n),s===void 0&&(s=O0(e,r,n))),s}class Rz{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$n.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const r=e.interpolation;this.escape=r.escape!==void 0?r.escape:yz,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Vo(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Vo(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Vo(r.nestingPrefix):r.nestingPrefixEscaped||Vo("$t("),this.nestingSuffix=r.nestingSuffix?Vo(r.nestingSuffix):r.nestingSuffixEscaped||Vo(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(m){return m.replace(/\$/g,"$$$$")}const c=m=>{if(m.indexOf(this.formatSeparator)<0){const x=TS(r,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,n,{...i,...r,interpolationkey:m}):x}const p=m.split(this.formatSeparator),v=p.shift().trim(),y=p.join(this.formatSeparator).trim();return this.format(TS(r,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,n,{...i,...r,interpolationkey:v})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>u(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?u(this.escape(m)):u(m)}].forEach(m=>{for(a=0;s=m.regex.exec(e);){const p=s[1].trim();if(o=c(p),o===void 0)if(typeof d=="function"){const y=d(e,s,i);o=typeof y=="string"?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),o="";else typeof o!="string"&&!this.useRawValueToEscape&&(o=xS(o));const v=m.safeValue(o);if(e=e.replace(s[0],v),h?(m.regex.lastIndex+=o.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;function a(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let h=`{${d[1]}`;l=d[0],h=this.interpolate(h,o);const f=h.match(/'/g),m=h.match(/"/g);(f&&f.length%2===0&&!m||m.length%2!==0)&&(h=h.replace(/'/g,'"'));try{o=JSON.parse(h),u&&(o={...u,...o})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,p),`${l}${c}${h}`}return delete o.defaultValue,l}for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&typeof o.replace!="string"?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(d=>d.trim());i[1]=c.shift(),l=c,u=!0}if(s=r(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&typeof s!="string")return s;typeof s!="string"&&(s=xS(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u&&(s=l.reduce((c,d)=>this.format(c,d,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}function Iz(t){let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(!o)return;const[a,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");r[a.trim()]||(r[a.trim()]=u),u==="false"&&(r[a.trim()]=!1),u==="true"&&(r[a.trim()]=!0),isNaN(u)||(r[a.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:r}}function Wo(t){const e={};return function(n,i,s){const o=i+JSON.stringify(s);let a=e[o];return a||(a=t(yf(i),s),e[o]=a),a(n)}}class Mz{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=$n.create("formatter"),this.options=e,this.formats={number:Wo((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:Wo((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:Wo((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:Wo((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:Wo((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){const n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Wo(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return r.split(this.formatSeparator).reduce((a,l)=>{const{formatName:u,formatOptions:c}=Iz(l);if(this.formats[u]){let d=a;try{const h=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},f=h.locale||h.lng||i.locale||i.lng||n;d=this.formats[u](a,f,{...c,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}function Oz(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Dz extends gp{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=$n.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},a={},l={};return e.forEach(u=>{let c=!0;r.forEach(d=>{const h=`${u}|${d}`;!n.reload&&this.store.hasResourceBundle(u,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?o[h]===void 0&&(o[h]=!0):(this.state[h]=1,c=!1,o[h]===void 0&&(o[h]=!0),s[h]===void 0&&(s[h]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(a[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),n&&this.store.addResourceBundle(s,o,n),this.state[e]=r?-1:2;const a={};this.queue.forEach(l=>{mz(l.loaded,[s],o),Oz(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof r=="string"&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}else u(e,r,n,i,a,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}function CS(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let r={};if(typeof e[1]=="object"&&(r=e[1]),typeof e[1]=="string"&&(r.defaultValue=e[1]),typeof e[2]=="string"&&(r.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(i=>{r[i]=n[i]})}return r},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function AS(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function Lh(){}function Lz(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})}class rc extends gp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=AS(e),this.services={},this.logger=$n,this.modules={external:[]},Lz(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(typeof r.ns=="string"?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=CS();this.options={...i,...this.options,...AS(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);function s(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?$n.init(s(this.modules.logger),this.options):$n.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Mz);const d=new SS(this.options);this.store=new _S(this.options.resources,this.options);const h=this.services;h.logger=$n,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new Pz(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(h.formatter=s(c),h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new Rz(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new Dz(s(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",function(f){for(var m=arguments.length,p=new Array(m>1?m-1:0),v=1;v<m;v++)p[v-1]=arguments[v];e.emit(f,...p)}),this.modules.languageDetector&&(h.languageDetector=s(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=s(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new xf(this.services,this.options),this.translator.on("*",function(f){for(var m=arguments.length,p=new Array(m>1?m-1:0),v=1;v<m;v++)p[v-1]=arguments[v];e.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Lh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=jl(),u=()=>{const c=(d,h)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(d,h)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lh;const i=typeof e=="string"?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,r,n){const i=jl();return e||(e=this.languages),r||(r=this.options.ns),n||(n=Lh),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&uR.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=jl();this.emit("languageChanging",e);const s=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(s(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||s(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,r,n){var i=this;const s=function(o,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=i.options.overloadTranslationOptionHandler([o,a].concat(c))}else l={...a};l.lng=l.lng||s.lng,l.lngs=l.lngs||s.lngs,l.ns=l.ns||s.ns,l.keyPrefix=l.keyPrefix||n||s.keyPrefix;const h=i.options.keySeparator||".";let f;return l.keyPrefix&&Array.isArray(o)?f=o.map(m=>`${l.keyPrefix}${h}${m}`):f=l.keyPrefix?`${l.keyPrefix}${h}${o}`:o,i.t(f,l)};return typeof e=="string"?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=jl();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=jl();typeof e=="string"&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0);return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new SS(CS());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new rc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Lh;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new rc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n&&(s.store=new _S(this.store.data,i),s.services.resourceStore=s.store),s.translator=new xf(s.services,i),s.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];s.emit(a,...u)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=rc.createInstance();Qt.createInstance=rc.createInstance;Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;const ig=Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}var cR=[],kz=cR.forEach,Nz=cR.slice;function L0(t){return kz.call(Nz.call(arguments,1),function(e){if(e)for(var r in e)t[r]===void 0&&(t[r]=e[r])}),t}function hR(){return typeof XMLHttpRequest=="function"||(typeof XMLHttpRequest>"u"?"undefined":D0(XMLHttpRequest))==="object"}function Fz(t){return!!t&&typeof t.then=="function"}function Bz(t){return Fz(t)?t:Promise.resolve(t)}function Uz(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var k0={exports:{}},kh={exports:{}},PS;function jz(){return PS||(PS=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof vt<"u"&&vt,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof a<"u"&&a,l={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function u(S){return S&&DataView.prototype.isPrototypeOf(S)}if(l.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(S){return S&&c.indexOf(Object.prototype.toString.call(S))>-1};function h(S){if(typeof S!="string"&&(S=String(S)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(S)||S==="")throw new TypeError('Invalid character in header field name: "'+S+'"');return S.toLowerCase()}function f(S){return typeof S!="string"&&(S=String(S)),S}function m(S){var I={next:function(){var L=S.shift();return{done:L===void 0,value:L}}};return l.iterable&&(I[Symbol.iterator]=function(){return I}),I}function p(S){this.map={},S instanceof p?S.forEach(function(I,L){this.append(L,I)},this):Array.isArray(S)?S.forEach(function(I){this.append(I[0],I[1])},this):S&&Object.getOwnPropertyNames(S).forEach(function(I){this.append(I,S[I])},this)}p.prototype.append=function(S,I){S=h(S),I=f(I);var L=this.map[S];this.map[S]=L?L+", "+I:I},p.prototype.delete=function(S){delete this.map[h(S)]},p.prototype.get=function(S){return S=h(S),this.has(S)?this.map[S]:null},p.prototype.has=function(S){return this.map.hasOwnProperty(h(S))},p.prototype.set=function(S,I){this.map[h(S)]=f(I)},p.prototype.forEach=function(S,I){for(var L in this.map)this.map.hasOwnProperty(L)&&S.call(I,this.map[L],L,this)},p.prototype.keys=function(){var S=[];return this.forEach(function(I,L){S.push(L)}),m(S)},p.prototype.values=function(){var S=[];return this.forEach(function(I){S.push(I)}),m(S)},p.prototype.entries=function(){var S=[];return this.forEach(function(I,L){S.push([L,I])}),m(S)},l.iterable&&(p.prototype[Symbol.iterator]=p.prototype.entries);function v(S){if(S.bodyUsed)return Promise.reject(new TypeError("Already read"));S.bodyUsed=!0}function y(S){return new Promise(function(I,L){S.onload=function(){I(S.result)},S.onerror=function(){L(S.error)}})}function x(S){var I=new FileReader,L=y(I);return I.readAsArrayBuffer(S),L}function g(S){var I=new FileReader,L=y(I);return I.readAsText(S),L}function w(S){for(var I=new Uint8Array(S),L=new Array(I.length),R=0;R<I.length;R++)L[R]=String.fromCharCode(I[R]);return L.join("")}function b(S){if(S.slice)return S.slice(0);var I=new Uint8Array(S.byteLength);return I.set(new Uint8Array(S)),I.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(S){this.bodyUsed=this.bodyUsed,this._bodyInit=S,S?typeof S=="string"?this._bodyText=S:l.blob&&Blob.prototype.isPrototypeOf(S)?this._bodyBlob=S:l.formData&&FormData.prototype.isPrototypeOf(S)?this._bodyFormData=S:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)?this._bodyText=S.toString():l.arrayBuffer&&l.blob&&u(S)?(this._bodyArrayBuffer=b(S.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(S)||d(S))?this._bodyArrayBuffer=b(S):this._bodyText=S=Object.prototype.toString.call(S):this._bodyText="",this.headers.get("content-type")||(typeof S=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(S)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var S=v(this);if(S)return S;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var S=v(this);return S||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(x)}),this.text=function(){var S=v(this);if(S)return S;if(this._bodyBlob)return g(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(B)}),this.json=function(){return this.text().then(JSON.parse)},this}var E=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(S){var I=S.toUpperCase();return E.indexOf(I)>-1?I:S}function A(S,I){if(!(this instanceof A))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I=I||{};var L=I.body;if(S instanceof A){if(S.bodyUsed)throw new TypeError("Already read");this.url=S.url,this.credentials=S.credentials,I.headers||(this.headers=new p(S.headers)),this.method=S.method,this.mode=S.mode,this.signal=S.signal,!L&&S._bodyInit!=null&&(L=S._bodyInit,S.bodyUsed=!0)}else this.url=String(S);if(this.credentials=I.credentials||this.credentials||"same-origin",(I.headers||!this.headers)&&(this.headers=new p(I.headers)),this.method=C(I.method||this.method||"GET"),this.mode=I.mode||this.mode||null,this.signal=I.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&L)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(L),(this.method==="GET"||this.method==="HEAD")&&(I.cache==="no-store"||I.cache==="no-cache")){var R=/([?&])_=[^&]*/;if(R.test(this.url))this.url=this.url.replace(R,"$1_="+new Date().getTime());else{var U=/\?/;this.url+=(U.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}A.prototype.clone=function(){return new A(this,{body:this._bodyInit})};function B(S){var I=new FormData;return S.trim().split("&").forEach(function(L){if(L){var R=L.split("="),U=R.shift().replace(/\+/g," "),O=R.join("=").replace(/\+/g," ");I.append(decodeURIComponent(U),decodeURIComponent(O))}}),I}function N(S){var I=new p,L=S.replace(/\r?\n[\t ]+/g," ");return L.split("\r").map(function(R){return R.indexOf(`
`)===0?R.substr(1,R.length):R}).forEach(function(R){var U=R.split(":"),O=U.shift().trim();if(O){var z=U.join(":").trim();I.append(O,z)}}),I}_.call(A.prototype);function F(S,I){if(!(this instanceof F))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');I||(I={}),this.type="default",this.status=I.status===void 0?200:I.status,this.ok=this.status>=200&&this.status<300,this.statusText=I.statusText===void 0?"":""+I.statusText,this.headers=new p(I.headers),this.url=I.url||"",this._initBody(S)}_.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},F.error=function(){var S=new F(null,{status:0,statusText:""});return S.type="error",S};var D=[301,302,303,307,308];F.redirect=function(S,I){if(D.indexOf(I)===-1)throw new RangeError("Invalid status code");return new F(null,{status:I,headers:{location:S}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(I,L){this.message=I,this.name=L;var R=Error(I);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function M(S,I){return new Promise(function(L,R){var U=new A(S,I);if(U.signal&&U.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function z(){O.abort()}O.onload=function(){var q={status:O.status,statusText:O.statusText,headers:N(O.getAllResponseHeaders()||"")};q.url="responseURL"in O?O.responseURL:q.headers.get("X-Request-URL");var K="response"in O?O.response:O.responseText;setTimeout(function(){L(new F(K,q))},0)},O.onerror=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},O.ontimeout=function(){setTimeout(function(){R(new TypeError("Network request failed"))},0)},O.onabort=function(){setTimeout(function(){R(new o.DOMException("Aborted","AbortError"))},0)};function H(q){try{return q===""&&a.location.href?a.location.href:q}catch{return q}}O.open(U.method,H(U.url),!0),U.credentials==="include"?O.withCredentials=!0:U.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&(l.blob?O.responseType="blob":l.arrayBuffer&&U.headers.get("Content-Type")&&U.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(O.responseType="arraybuffer")),I&&typeof I.headers=="object"&&!(I.headers instanceof p)?Object.getOwnPropertyNames(I.headers).forEach(function(q){O.setRequestHeader(q,f(I.headers[q]))}):U.headers.forEach(function(q,K){O.setRequestHeader(K,q)}),U.signal&&(U.signal.addEventListener("abort",z),O.onreadystatechange=function(){O.readyState===4&&U.signal.removeEventListener("abort",z)}),O.send(typeof U._bodyInit>"u"?null:U._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=p,a.Request=A,a.Response=F),o.Headers=p,o.Request=A,o.Response=F,o.fetch=M,o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(kh,kh.exports)),kh.exports}(function(t,e){var r;if(typeof fetch=="function"&&(typeof vt<"u"&&vt.fetch?r=vt.fetch:typeof window<"u"&&window.fetch?r=window.fetch:r=fetch),typeof Uz<"u"&&(typeof window>"u"||typeof window.document>"u")){var n=r||jz();n.default&&(n=n.default),e.default=n,t.exports=e.default}})(k0,k0.exports);var dR=k0.exports;const fR=Eo(dR),RS=F0({__proto__:null,default:fR},[dR]);function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}var gi;typeof fetch=="function"&&(typeof global<"u"&&global.fetch?gi=global.fetch:typeof window<"u"&&window.fetch?gi=window.fetch:gi=fetch);var nc;hR()&&(typeof global<"u"&&global.XMLHttpRequest?nc=global.XMLHttpRequest:typeof window<"u"&&window.XMLHttpRequest&&(nc=window.XMLHttpRequest));var _f;typeof ActiveXObject=="function"&&(typeof global<"u"&&global.ActiveXObject?_f=global.ActiveXObject:typeof window<"u"&&window.ActiveXObject&&(_f=window.ActiveXObject));!gi&&RS&&!nc&&!_f&&(gi=fR||RS);typeof gi!="function"&&(gi=void 0);var N0=function(e,r){if(r&&wf(r)==="object"){var n="";for(var i in r)n+="&"+encodeURIComponent(i)+"="+encodeURIComponent(r[i]);if(!n)return e;e=e+(e.indexOf("?")!==-1?"&":"?")+n.slice(1)}return e},IS=function(e,r,n){var i=function(o){if(!o.ok)return n(o.statusText||"Error",{status:o.status});o.text().then(function(a){n(null,{status:o.status,data:a})}).catch(n)};typeof fetch=="function"?fetch(e,r).then(i).catch(n):gi(e,r).then(i).catch(n)},MS=!1,$z=function(e,r,n,i){e.queryStringParams&&(r=N0(r,e.queryStringParams));var s=L0({},typeof e.customHeaders=="function"?e.customHeaders():e.customHeaders);typeof window>"u"&&typeof global<"u"&&typeof global.process<"u"&&global.process.versions&&global.process.versions.node&&(s["User-Agent"]="i18next-http-backend (node/".concat(global.process.version,"; ").concat(global.process.platform," ").concat(global.process.arch,")")),n&&(s["Content-Type"]="application/json");var o=typeof e.requestOptions=="function"?e.requestOptions(n):e.requestOptions,a=L0({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:s},MS?{}:o);try{IS(r,a,i)}catch(l){if(!o||Object.keys(o).length===0||!l.message||l.message.indexOf("not implemented")<0)return i(l);try{Object.keys(o).forEach(function(u){delete a[u]}),IS(r,a,i),MS=!0}catch(u){i(u)}}},zz=function(e,r,n,i){n&&wf(n)==="object"&&(n=N0("",n).slice(1)),e.queryStringParams&&(r=N0(r,e.queryStringParams));try{var s;nc?s=new nc:s=new _f("MSXML2.XMLHTTP.3.0"),s.open(n?"POST":"GET",r,1),e.crossDomain||s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.withCredentials=!!e.withCredentials,n&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.overrideMimeType&&s.overrideMimeType("application/json");var o=e.customHeaders;if(o=typeof o=="function"?o():o,o)for(var a in o)s.setRequestHeader(a,o[a]);s.onreadystatechange=function(){s.readyState>3&&i(s.status>=400?s.statusText:null,{status:s.status,data:s.responseText})},s.send(n)}catch(l){console&&console.log(l)}},Gz=function(e,r,n,i){if(typeof n=="function"&&(i=n,n=void 0),i=i||function(){},gi&&r.indexOf("file:")!==0)return $z(e,r,n,i);if(hR()||typeof ActiveXObject=="function")return zz(e,r,n,i);i(new Error("No fetch and no xhr implementation found!"))};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function Hz(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pR(n.key),n)}}function Wz(t,e,r){return e&&Vz(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xz(t,e,r){return e=pR(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pR(t){var e=Yz(t,"string");return ic(e)==="symbol"?e:String(e)}function Yz(t,e){if(ic(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ic(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qz=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(r){return JSON.parse(r)},stringify:JSON.stringify,parsePayload:function(r,n,i){return Xz({},n,i||"")},parseLoadPayload:function(r,n){},request:Gz,reloadInterval:typeof window<"u"?!1:60*60*1e3,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},mR=function(){function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Hz(this,t),this.services=e,this.options=r,this.allOptions=n,this.type="backend",this.init(e,r,n)}return Wz(t,[{key:"init",value:function(r){var n=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=r,this.options=L0(i,this.options||{},qz()),this.allOptions=s,this.services&&this.options.reloadInterval&&setInterval(function(){return n.reload()},this.options.reloadInterval)}},{key:"readMulti",value:function(r,n,i){this._readAny(r,r,n,n,i)}},{key:"read",value:function(r,n,i){this._readAny([r],r,[n],n,i)}},{key:"_readAny",value:function(r,n,i,s,o){var a=this,l=this.options.loadPath;typeof this.options.loadPath=="function"&&(l=this.options.loadPath(r,i)),l=Bz(l),l.then(function(u){if(!u)return o(null,{});var c=a.services.interpolator.interpolate(u,{lng:r.join("+"),ns:i.join("+")});a.loadUrl(c,o,n,s)})}},{key:"loadUrl",value:function(r,n,i,s){var o=this,a=typeof i=="string"?[i]:i,l=typeof s=="string"?[s]:s,u=this.options.parseLoadPayload(a,l);this.options.request(this.options,r,u,function(c,d){if(d&&(d.status>=500&&d.status<600||!d.status))return n("failed loading "+r+"; status code: "+d.status,!0);if(d&&d.status>=400&&d.status<500)return n("failed loading "+r+"; status code: "+d.status,!1);if(!d&&c&&c.message&&c.message.indexOf("Failed to fetch")>-1)return n("failed loading "+r+": "+c.message,!0);if(c)return n(c,!1);var h,f;try{typeof d.data=="string"?h=o.options.parse(d.data,i,s):h=d.data}catch{f="failed parsing "+r+" to json"}if(f)return n(f,!1);n(null,h)})}},{key:"create",value:function(r,n,i,s,o){var a=this;if(this.options.addPath){typeof r=="string"&&(r=[r]);var l=this.options.parsePayload(n,i,s),u=0,c=[],d=[];r.forEach(function(h){var f=a.options.addPath;typeof a.options.addPath=="function"&&(f=a.options.addPath(h,n));var m=a.services.interpolator.interpolate(f,{lng:h,ns:n});a.options.request(a.options,m,l,function(p,v){u+=1,c.push(p),d.push(v),u===r.length&&typeof o=="function"&&o(c,d)})})}}},{key:"reload",value:function(){var r=this,n=this.services,i=n.backendConnector,s=n.languageUtils,o=n.logger,a=i.language;if(!(a&&a.toLowerCase()==="cimode")){var l=[],u=function(d){var h=s.toResolveHierarchy(d);h.forEach(function(f){l.indexOf(f)<0&&l.push(f)})};u(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(c){return u(c)}),l.forEach(function(c){r.allOptions.ns.forEach(function(d){i.read(c,d,"read",null,null,function(h,f){h&&o.warn("loading namespace ".concat(d," for language ").concat(c," failed"),h),!h&&f&&o.log("loaded namespace ".concat(d," for language ").concat(c),f),i.loaded("".concat(c,"|").concat(d),h,f)})})})}}}]),t}();mR.type="backend";Qt.use(mR).use(uO).init({backend:{loadPath:(t,e)=>e.map(n=>n==="common"?"/i18n":`/${n}/i18n`),parse:function(t){return JSON.parse(t)}},defaultNS:"common",ns:["common","conversation"],fallbackLng:"fr",lng:"fr",interpolation:{escapeValue:!1,prefix:"[[",suffix:"]]"},debug:!1});const Kz="modulepreload",Qz=function(t){return"/conversation/"+t},OS={},Zz=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.all(r.map(a=>{if(a=Qz(a),a in OS)return;OS[a]=!0;const l=a.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const c=document.createElement("link");if(c.rel=l?"stylesheet":Kz,l||(c.as="script",c.crossOrigin=""),c.href=a,o&&c.setAttribute("nonce",o),document.head.appendChild(c),l)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var Jz=function(){return null};const eG=new WO({queryCache:new fC({onError:t=>{typeof t=="string"&&t===bR.NOT_LOGGED_IN&&window.location.replace("/auth/login")}}),defaultOptions:{queries:{retry:!1,refetchOnWindowFocus:!1,staleTime:1e3*60*2}}}),tG=({children:t})=>T.jsxs(QO,{client:eG,children:[T.jsx(mD,{params:{app:"conversation"},children:t}),T.jsx(Jz,{initialIsOpen:!1})]}),rG=()=>{const t=M1(),e=sR();return console.error(t),T.jsx(C1,{children:T.jsxs("div",{className:"d-flex flex-column gap-16 align-items-center mt-64",children:[T.jsx(_C,{level:"h2",headingStyle:"h2",className:"text-secondary",children:ig("oops")}),T.jsx("div",{className:"text",children:ig("e404.page")}),T.jsx(ul,{color:"primary",onClick:()=>e(-1),children:ig("back")})]})})},nG=()=>{const t=M1(),e=sR(),{appCode:r}=Ti(),{t:n}=Kr(r);return console.error(t),T.jsx(C1,{children:T.jsxs("div",{className:"d-flex flex-column gap-16 align-items-center mt-64",children:[T.jsx(_C,{level:"h2",headingStyle:"h2",className:"text-secondary",children:n("oops")}),T.jsx("div",{className:"text",children:n("collaborativewall.notfound.or.unauthorized")}),T.jsx(ul,{color:"primary",onClick:()=>e(-1),children:n("back")})]})})},iG=t=>[{path:"/",async lazy(){const{loader:e,Root:r}=await Zz(async()=>{const{loader:n,Root:i}=await Promise.resolve().then(()=>cG);return{loader:n,Root:i}},void 0);return{loader:e,Component:r}},errorElement:T.jsx(nG,{})},{path:"*",element:T.jsx(rG,{})}],gR="/collaborativewall",sG=t=>ez(iG(),{basename:gR}),oG=document.getElementById("root"),aG=G2(oG);aG.render(T.jsx(P.StrictMode,{children:T.jsx(tG,{children:T.jsx(qj,{children:T.jsx(uz,{router:sG()})})})}));const lG=async()=>{const t=location.hash.substring(1);if(t){const e=P0("/view/:id",t);if(e){const r=`/id/${e==null?void 0:e.params.id}`;location.replace(location.origin+gR.replace(/\/$/g,"")+r)}}return null},uG=()=>{const{init:t}=Ti();return t?t?T.jsx(C1,{children:"Conversation"}):null:T.jsx(w$,{position:!1})},cG=Object.freeze(Object.defineProperty({__proto__:null,Root:uG,loader:lG},Symbol.toStringTag,{value:"Module"}));
