{"version":3,"sources":["../src/node.ts"],"sourcesContent":["import type { VHTMLDocument } from './vdom'\nimport { readFileSync, writeFileSync } from 'node:fs'\nimport { parseHTML } from './vdomparser'\n\n/** Manipulate HTMl file directly on disk. Only writes back if there were significant changes. */\nexport function handleHTMLFile(filePath: string, handler: (document: VHTMLDocument) => void, outPath?: string): string {\n  const html = readFileSync(filePath, 'utf-8')\n  const document = parseHTML(html)\n  const htmlIn = document.render()\n  handler(document as VHTMLDocument)\n  const htmlOut = document.render()\n  if (outPath || htmlOut !== htmlIn) {\n    writeFileSync(outPath ?? filePath, htmlOut, 'utf-8')\n    return htmlOut\n  }\n  return html\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,SAAS,cAAc,qBAAqB;AAIrC,SAAS,eAAe,UAAkB,SAA4C,SAA0B;AACrH,QAAMA,QAAO,aAAa,UAAU,OAAO;AAC3C,QAAMC,YAAW,UAAUD,KAAI;AAC/B,QAAM,SAASC,UAAS,OAAO;AAC/B,UAAQA,SAAyB;AACjC,QAAM,UAAUA,UAAS,OAAO;AAChC,MAAI,WAAW,YAAY,QAAQ;AACjC,kBAAc,WAAW,UAAU,SAAS,OAAO;AACnD,WAAO;AAAA,EACT;AACA,SAAOD;AACT;","names":["html","document"]}