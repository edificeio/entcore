<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
-->
<header class="header no-2d">
  <div class="container-fluid">
    <nav class="navbar">
      <a
        class="navbar-title d-md-none text-truncate h4"
        href="/welcome?token=[[version]]"
      >
        <i18n>portal.header.navigation.myapps</i18n>
      </a>
      <div class="d-none d-md-inline-flex gap-12 align-items-center">
        <div class="avatar avatar-sm rounded-circle">
          <img ng-src="[[ctrl.avatar]]" id="my-photo" alt="avatar" />
        </div>
        <span class="navbar-text">[[ctrl.username]]</span>
      </div>
      <ul
        class="navbar-nav gap-8"
        aria-hidden="false"
        aria-label="navbar.main.navigation"
        role="menubar"
      >
        <li
          class="nav-item"
          ng-if="me.hasWorkflow('org.entcore.conversation.controllers.ConversationController|view')"
        >
          <a
            href="/conversation/conversation"
            class="nav-link"
            title="[[lang.translate('navbar.messages')]]"
            ><svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              class="icon notification"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.051 12.366a455.802 455.802 0 0 1-2.746-1.822A6.543 6.543 0 0 1 .74 9.067C.248 8.44.002 7.859.002 7.322a2.7 2.7 0 0 1 .141-.905c.098-.286.242-.542.424-.752C.935 5.222 1.462 5 2.15 5h19.7c.541-.016 1.071.195 1.507.6.424.4.636.882.636 1.446 0 .673-.218 1.317-.657 1.93a6.217 6.217 0 0 1-1.632 1.567c-3.358 2.226-5.447 3.61-6.267 4.156l-.242.167-.323.222a15.448 15.448 0 0 1-1.42.902 4.052 4.052 0 0 1-.77.345 2.215 2.215 0 0 1-.67.115h-.026a2.222 2.222 0 0 1-.67-.116 4.052 4.052 0 0 1-.77-.344c-.272-.154-.506-.29-.697-.415a30.199 30.199 0 0 1-.723-.487c-.288-.2-.477-.33-.565-.389-.81-.545-1.98-1.323-3.51-2.334Zm10.943 3.962c1.517-1.052 3.74-2.524 6.667-4.416.478-.306.927-.68 1.339-1.113v10.16c0 .564-.209 1.044-.63 1.446-.437.405-.97.614-1.512.594H2.149c-.545.02-1.08-.192-1.52-.601C.21 21.995 0 21.52 0 20.95V10.8c.416.437.871.81 1.356 1.113 3.232 2.099 5.45 3.571 6.656 4.416.512.358.926.637 1.243.837a7.7 7.7 0 0 0 1.265.614c.475.198.97.303 1.47.313h.026c.5-.01.995-.115 1.47-.313a7.647 7.647 0 0 0 1.265-.614c.32-.2.735-.479 1.243-.837Z"
                fill="currentColor"
              ></path></svg
            ><span
              class="position-absolute badge rounded-pill bg-danger"
              ng-if="nbNewMessages"
              >[[nbNewMessages]]<span class="visually-hidden">
                <i18n>navbar.messages</i18n>
              </span></span
            ></a
          >
        </li>
        <li class="nav-item">
          <a href="/userbook/mon-compte" class="nav-link"
            ><svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              width="24"
              height="24"
              aria-hidden="true"
              class="icon user"
            >
              <g clip-path="url(#one-profile_svg__a)">
                <path
                  fill="currentColor"
                  d="M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm0 4.65a4.26 4.26 0 1 1 0 8.51 4.26 4.26 0 0 1 0-8.51Zm0 16.64a9.27 9.27 0 0 1-7.09-3.3 5.4 5.4 0 0 1 4.77-2.9c.11 0 .23.03.34.06.63.2 1.29.33 1.98.33.7 0 1.35-.13 1.98-.33.11-.03.23-.05.34-.05a5.4 5.4 0 0 1 4.77 2.89 9.27 9.27 0 0 1-7.09 3.3Z"
                ></path>
              </g>
              <defs>
                <clipPath id="one-profile_svg__a">
                  <path fill="#fff" d="M0 0h24v24H0z"></path>
                </clipPath>
              </defs></svg
            ><span class="visually-hidden">
              <i18n>navbar.account</i18n>
            </span></a
          >
        </li>
        <li ng-if="ctrl.currentLanguage == 'fr'" class="nav-item">
          <style>
            .ic-help {
              font-size: 24px;
            }
          </style>
          <a
            style="padding: 0"
            href=""
            class="nav-link"
            title="[[lang.translate('navbar.help')]]"
            aria-label="[[lang.translate('navbar.help')]]"
            pulsar="{ index: 6, i18n: 'portal.pulsar.help', position: 'bottom center'}"
            ><!-- <help></help> -->
            <i18n>help.icon</i18n>
          </a>
        </li>

        <li class="nav-item">
          <a
            href="/"
            class="nav-link"
            logout
            title="[[lang.translate('navbar.disconnect')]]"
            ><svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              class="icon logout"
            >
              <path
                d="M22.995 13.153c0 1.393-.29 2.722-.872 3.987a10.627 10.627 0 0 1-2.336 3.292c-.975.929-2.147 1.665-3.516 2.21-1.369.544-2.79.817-4.26.817-1.472 0-2.9-.273-4.287-.817-1.386-.545-2.55-1.281-3.49-2.21a12.338 12.338 0 0 1-2.362-3.291A8.11 8.11 0 0 1 1 13.152c0-1.634.385-3.164 1.155-4.589.77-1.425 1.848-2.634 3.234-3.627.411-.289.873-.4 1.386-.337.514.064.907.289 1.181.673.308.368.428.793.36 1.273-.07.48-.309.857-.72 1.13a6.993 6.993 0 0 0-2.155 2.426 6.383 6.383 0 0 0-.18 5.717 6.98 6.98 0 0 0 1.566 2.186c.65.609 1.428 1.097 2.335 1.466a7.498 7.498 0 0 0 2.85.552 7.31 7.31 0 0 0 2.823-.552 8.296 8.296 0 0 0 2.36-1.466 6.04 6.04 0 0 0 1.567-2.186c.359-.849.547-1.738.564-2.666 0-1.09-.256-2.107-.77-3.051-.513-.945-1.232-1.754-2.156-2.427a1.752 1.752 0 0 1-.719-1.129c-.085-.464.035-.889.36-1.273.29-.384.693-.609 1.206-.673.514-.064.967.048 1.36.337 1.386.977 2.464 2.186 3.234 3.627a9.599 9.599 0 0 1 1.155 4.589ZM13.833 2.846v8.6c0 .465-.18.866-.54 1.202-.359.336-.786.505-1.283.505-.496 0-.932-.169-1.309-.505-.376-.336-.556-.737-.539-1.201v-8.6c0-.465.18-.865.54-1.202.359-.336.795-.504 1.308-.504.514 0 .941.168 1.284.504.342.337.521.737.539 1.201Z"
                fill="currentColor"
              ></path></svg
            ><span class="visually-hidden">
              <i18n>navbar.disconnect</i18n>
            </span></a
          >
        </li>
        <li class="nav-item d-md-none">
          <button
            class="nav-link btn btn-naked"
            type="button"
            aria-controls="navbarCollapsed"
            aria-expanded="false"
            aria-label="navbar.secondary.navigation"
            ng-click="dropdownToggle = !dropdownToggle"
          >
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              aria-hidden="true"
              class="icon rafter-down"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M4.012 7.871a1.5 1.5 0 0 1 2.117.141L12 14.722l5.871-6.71a1.5 1.5 0 1 1 2.258 1.976l-7 8a1.5 1.5 0 0 1-2.258 0l-7-8a1.5 1.5 0 0 1 .141-2.117Z"
                fill="currentColor"
              ></path>
            </svg>
          </button>
        </li>
      </ul>
    </nav>
  </div>
  <nav
    class="navbar no-2d navbar-secondary navbar-expand-md"
    aria-label="navbar.secondary.navigation"
    ng-if="canRenderUi"
  >
    <div class="container-fluid">
      <div
        class="collapse navbar-collapse"
        id="navbarCollapsed"
        ng-class="{'show' : dropdownToggle}"
      >
        <a
          class="navbar-brand d-none d-md-block"
          href="/timeline/timeline"
          aria-label="Accueil"
        >
          <img
            class="logo"
            skin-src="img/illustrations/logo.png"
            alt="Logo de l'ENT"
          />
        </a>
        <ul class="navbar-nav gap-8">
          <li class="nav-item">
            <a href="/timeline/timeline?token=[[version]]" class="button"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                aria-hidden="true"
                color="#fff"
                class="d-md-none"
              >
                <path
                  fill="currentColor"
                  d="M13.07 13.07V6.54h-2.14v6.53h2.14zm0 4.4v-2.2h-2.14v2.2h2.14zM24 12l-2.65 3.01.35 4.04-3.93.86-2.04 3.48L12 21.8l-3.73 1.6-2.04-3.42-3.93-.92.35-4.04L0 12l2.65-3.06-.35-3.99 3.93-.86L8.27.6 12 2.2 15.73.6l2.04 3.48 3.93.86L21.34 9z"
                ></path></svg
              ><span class="d-inline-block">
                <i18n>portal.header.navigation.whatsnew</i18n>
              </span></a
            >
          </li>
          <li class="nav-item">
            <a
              href="/userbook/annuaire?myClass&token=[[version]]"
              class="button"
              ><svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="24"
                height="24"
                aria-hidden="true"
                color="#fff"
                class="d-md-none"
              >
                <path
                  d="M0 24.58V.53h24.05v4.28h-2.62V7.1h2.62v4.28h-2.62v2.35h2.62V18h-2.62v2.3h2.62v4.29H0zm4.64-6.85h12.12V14l-4.5-2.67q.9-.46 1.4-1.3t.53-1.85q0-1.4-1.01-2.43T10.7 4.72 8.25 5.75 7.24 8.18q0 1.03.53 1.85t1.4 1.3L4.63 14v3.73z"
                  fill="currentColor"
                ></path></svg
              ><span class="d-inline-block">
                <i18n>portal.header.navigation.classMembers</i18n>
              </span></a
            >
          </li>
          <li class="nav-item">
            <a href="/welcome?token=[[version]]" class="button"
              ><svg
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                aria-hidden="true"
                color="#fff"
                class="d-md-none"
              >
                <path
                  d="M1.898 22.555c-.072-.145-.096-1.37-.048-2.691l.048-2.402h5.261v5.26l-2.595.049c-1.994.048-2.594 0-2.666-.216Zm7.76 0c-.049-.145-.073-1.37-.049-2.691l.072-2.402h5.238v5.26l-2.571.049c-2.018.048-2.595 0-2.69-.216Zm7.759 0c-.048-.145-.072-1.37-.048-2.691l.072-2.402h5.237v5.26l-2.57.049c-1.994.048-2.595 0-2.691-.216Zm-15.52-7.76c-.071-.168-.095-1.37-.047-2.69l.048-2.403h5.261v5.261l-2.595.048c-1.994.048-2.594 0-2.666-.216Zm7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.238v5.261l-2.571.048c-2.018.048-2.595 0-2.69-.216Zm7.76 0c-.048-.168-.072-1.37-.048-2.69l.072-2.403h5.237v5.261l-2.57.048c-1.994.048-2.595 0-2.691-.216ZM1.897 7.011c-.071-.144-.095-1.345-.047-2.666l.048-2.402h5.261V7.18l-2.595.072c-1.994.048-2.594 0-2.666-.24Zm7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.238V7.18l-2.571.072c-2.018.048-2.595 0-2.69-.24Zm7.76 0c-.048-.144-.072-1.345-.048-2.666l.072-2.402h5.237V7.18l-2.57.072c-1.994.048-2.595 0-2.691-.24Z"
                  fill="currentColor"
                ></path></svg
              ><span class="d-inline-block">
                <i18n>portal.header.navigation.myapps</i18n>
              </span></a
            >
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>
