<div class="panel-header is-display-flex has-space-between">
    <div>
                <span>
                    {{ 'subjects' | translate }}
                </span>
    </div>
    <div *ngIf="subject?.source === 'MANUAL'">
        <button type="button"
                class="lct-subject-update-button"
                (click)="renameButtonClicked.next()">
            <s5l>subject.rename.button</s5l>
            <i class="fa fa-pencil is-size-5"></i>
        </button>
        <button type="button"
                class="lct-subject-delete-button"
                (click)="deleteButtonClicked.next(subjectsStore.subject)">
            <s5l>subject.delete.button</s5l>
            <i class="fa fa-trash is-size-5"></i>
        </button>
    </div>
</div>

<div class="padded">
    <p><strong>{{ 'create.subjects.label' | translate }} :</strong></p>
    <p><span class="display-name">{{ subject?.label }}</span></p>
    <p><strong>{{ 'create.subjects.code' | translate }} :</strong></p>
    <p><span class="display-name">{{ subject?.code }}</span></p>
</div>

<ode-lightbox-confirm lightboxTitle="subject.delete.confirm.title"
                  [show]="deleteConfirmationDisplayed"
                  (onCancel)="deleteConfirmationClicked.next('cancel')"
                  (onConfirm)="deleteConfirmationClicked.next('confirm')">
    <span [innerHTML]="'subject.delete.confirm.content' | translate"></span>
</ode-lightbox-confirm>

<ode-lightbox [show]="renameLightboxDisplayed" (onClose)="this.renameConfirmationClicked.next('cancel')">
    <h2>
        <s5l>subject.update.lightbox.title</s5l>
    </h2>
    <div class="rename-lightbox__form">
        <form #renameForm="ngForm">

            <p><strong>{{ 'create.subjects.label' | translate }} :</strong>
                <br/>
                <input type="text" [(ngModel)]="subjectNewLabel" name="subjectNewLabel"
                       required pattern=".*\S+.*" #subjectNewLabelInput="ngModel"
                       (blur)="onBlurSubjectFields('subjectNewLabel', subjectNewLabel)">
                <ode-form-errors [control]="subjectNewLabelInput"></ode-form-errors>
            </p>
            <p><strong>{{ 'create.subjects.code' | translate }} :</strong>
                <br/>
                <input type="text" [(ngModel)]="subjectNewCode" name="subjectNewCode"
                       required pattern=".*\S+.*" #subjectNewCodeInput="ngModel"
                       (blur)="onBlurSubjectFields('subjectNewCode', subjectNewCode)">
                <ode-form-errors [control]="subjectNewCodeInput"></ode-form-errors>
            </p>
            <div class="is-display-flex has-flex-end">
                <button type="button" class="cancel" (click)="renameConfirmationClicked.next('cancel')">
                    {{ 'cancel' | translate }}
                </button>
                <button type="button" class="confirm has-left-margin-10"
                        (click)="renameConfirmationClicked.next('confirm')"
                        [disabled]="renameForm.pristine || renameForm.invalid">
                    {{ 'confirm' | translate }}
                </button>
            </div>
        </form>
    </div>
</ode-lightbox>