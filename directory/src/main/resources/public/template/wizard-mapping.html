<!--
  ~ Copyright © WebServices pour l'Éducation, 2016
  ~
  ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
  ~
  ~ This program is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU Affero General Public License as
  ~ published by the Free Software Foundation (version 3 of the License).
  ~
  ~ For the sake of explanation, any module that communicate over native
  ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
  ~ license and could be license under its own terms. This is merely considered
  ~ normal use of ENT Core, and does not fall under the heading of "covered work".
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  -->

<div class="row">
  <h3 class="nine cell"><i18n>wizard.mapping</i18n></h3>
</div>

<form> <!--ng-submit="validate(wizard)"-->
  <div class="row">
    <table class="search-table">
      <thead>
      <tr>
        <th><i18n>wizard.mapping.csvHeader</i18n></th>
        <th><i18n>wizard.mapping.link</i18n></th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="field in wizard.csvHeader">
        <td>[[field.name]]</td>
        <td>
            <select class="row-item"
                  ng-model="selected" ng-change="updateFieldsAssociation([[field.id]], selected)">
            <option value="[[fieldOption.id]]" ng-repeat="fieldOption in wizard.expectedFields track by $index" value="">[[fieldOption.translated]]</option>
          </select>
        </td>
      </tr>
      </tbody>
    </table>

    <button class="right-magnet" ng-click="nextMappingStep(wizard, profile)" ng-disabled="disabledButtons.validate"><i18n>wizard.next.step</i18n></button>
    <i class="spinner horizontal-spacing-twice right-magnet" ng-if="disabledButtons.validate"></i>
  </div>
</form>
<br><button type="button" class="right-magnet" ng-click="returnStep1(wizard)"><i18n>wizard.return</i18n></button>
