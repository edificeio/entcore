<section
  class="domino overflow-hd"
  ng-class="colorFromType(user.profile != null ? user.profile : user.type)"
  ng-click="((classView && user.isVisible) || !classView) && selectUser(user)"
  ng-disabled="classView && !user.isVisible"
>
  <div class="top" ng-style="avatarFor(user,'290x290')"></div>

  <div class="center">
    <p
      class="nomargin"
      translate
      content="directory.[[getType(user.profile != null ? user.profile : user.type).toLowerCase()]]"
    ></p>
    <p
      ng-if="hasSubject(user)"
      class="nomargin discipline cell-ellipsis"
      tooltip="[[getSubject(user)]]"
    >
      [[ 'directory.subject' | i18n:{value:getSubject(user)} ]]
    </p>
    <p
      ng-if="hasUserPosition(user)"
      class="nomargin discipline cell-ellipsis"
      tooltip="[[getUserPositionsTooltip(user)]]"
    >
    [[ 'directory.userPosition' | i18n:{value:getUserPositionsLabel(user)} ]]
    </p>
  </div>

  <div class="bottom">
    <div class="content">
      <div class="multiline-ellipsis-three" style="line-height: inherit">
        <span>[[user.displayName]]</span>
      </div>
      <div class="bottom-locked">
        <a
          ng-href="/conversation/conversation#/write-mail/[[user.id]]"
          ng-if="((classView && user.isVisible) || !classView) && hasWorkflowMessagerie()"
        >
          <i class="send-mail"></i>
        </a>
      </div>
    </div>
  </div>
</section>
