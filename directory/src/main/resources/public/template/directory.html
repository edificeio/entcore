<!--
 ~	Copyright © WebServices pour l'Éducation, 2014
 ~
 ~ This file is part of ENT Core. ENT Core is a versatile ENT engine based on the JVM.
 ~
 ~ This program is free software; you can redistribute it and/or modify
 ~ it under the terms of the GNU Affero General Public License as
 ~ published by the Free Software Foundation (version 3 of the License).
 ~
 ~ For the sake of explanation, any module that communicate over native
 ~ Web protocols, such as HTTP, with ENT Core is outside the scope of this
 ~ license and could be license under its own terms. This is merely considered
 ~ normal use of ENT Core, and does not fall under the heading of "covered work".
 ~
 ~ This program is distributed in the hope that it will be useful,
 ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
 ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 ~
 -->

<div class="row rigid-grid">
	<section class="four cell">
		<app-title>
			<h1>
				<a data-reload>
					<i class="userbook"></i>
					<span translate content="userBook.directory.title"></span>
				</a>
			</h1>
		</app-title>
		<div class="clear"></div>
		<search-module 
			search="searchDirectory()"
			images='["/img/illustrations/user-avatar.svg", "/img/illustrations/group-avatar.svg", "/img/illustrations/fav-avatar.svg"]'>
			<div class="centered row centered-text twelve">
				<input type="search"
					ng-model="search.field"
					translate attr="placeholder"
					placeholder="userBook.search"
					class="nine text-flow"
					required ng-minlength="1"/>
				<input type="submit" value="OK" ng-disabled="searchForm.$invalid" class="text-flow two"/>

				<div class="reduce-block-eight">
					<select class="five styled-combo-box" ng-model="filters.structure" ng-options="school.id as school.name for school in schools.all">
						<option value="" selected="selected" translate content="directory.allStructures"></option>
					</select>

					<select class="five styled-combo-box" ng-model="filters.profile">
						<option value="" selected="selected" translate content="directory.allProfiles"></option>
						<option value="Teacher" translate content="directory.Teacher"></option>
						<option value="Personnel" translate content="directory.Personnel"></option>
						<option value="Relative" translate content="directory.Relative"></option>
						<option value="Student" translate content="directory.Student"></option>
						<option value="Guest" translate content="directory.Guest"></option>
					</select>
				</div>
				<multi-comboboxes 
					ng-model="filters.profiles"
					options="filtersOptions.profiles"
					title-all="[[lang.translate('directory.allProfiles')]]"
					title="[[lang.translate('directory.profiles')]]">
				</multi-comboboxes>
			</div>
			<div class="centered row centered-text twelve-mobile">
				Page 2
			</div>
			<div class="centered row centered-text twelve-mobile">
				Page 3
			</div>
		</search-module>
	</section>
	<section class="margin-four">
		<div class="emptyscreen" ng-if="users.length() == 0 && !users.searched && !users.loading">
			<img skin-src="/img/illustrations/illus-annuaire-exp2.svg">
			<p class="header"><i18n>userBook.directory.emptyScreen.users.header</i18n></p>
			<p class="content"><i18n>userBook.directory.emptyScreen.users.content</i18n></p>
		</div>
		
		<div ng-class="{ 'twelve': !currentUser || display.searchmobile, 'four zero-mobile': currentUser && !display.searchmobile}" class="cell">
			<div data-ng-include="template.containers.list"></div>
		</div>
		<div ng-if="currentUser !== undefined" ng-class="{ 'zero-mobile': display.searchmobile }" >
			<div data-ng-include="template.containers.details" class="side-panel-right eight cell twelve-mobile"></div>
		</div>
	</section>
</div>
