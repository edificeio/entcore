<div ng-controller="Personalization">
	<div ng-class="{ 'toggle-panel': true, hide: !showPanel }">
		<div class="toggle cell">
			<h1><i18n>panel.title</i18n></h1>
			<div class="row">
				<div class="twelve cell skins-picker">
					<h2><i18n>panel.themes</i18n></h2>
					<div class="twelve cell">
						<div class="six cell reduce-block-four" ng-repeat="skin in skins.all" ng-click="saveTheme(skin, $event)" class="element">
							<div class="twelve cell photo-preview">
								<img ng-src="[[skin.path]]thumbnail.png" />
							</div>
							<em ng-click="saveTheme(skin, $event)" class="medium-importance centered twelve cell skin-[[skin.displayName]]">[[lang.translate(skin.displayName)]]</em>
						</div>
					</div>
				</div>
			</div>
			<div class="row" ng-controller="Widgets">
				<div class="twelve cell widgets-picker" ng-if="widgets.all.length > 0">
					<h2><i18n>panel.widgets</i18n></h2>
					<div class="row">
						<div ng-repeat="widget in widgets.all" ng-click="switchHide(widget, $event)" class="three cell" ng-class="{ inactive: widget.hide, locked: widget.mandatory }">
							<i class="[[widget.name]]-icon" ng-class="{ selected: !widget.hide }"></i>
							<em class="medium-importance">[[lang.translate(widget.name)]]</em>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="twelve cell my-notifications">
					<h2><i18n>panel.notifications</i18n></h2>
					<div class="row">
						<p>
							<i18n>panel.notifications.desc</i18n>
						</p>
						<button ng-click="display.showNotifsPanel = true; $event.stopPropagation();">
							<i class="bell"></i>
							<i18n>panel.notifications.set</i18n>
						</button>

						<lightbox show="display.showNotifsPanel" on-close="display.showNotifsPanel = false">
							<div>
								<div ng-include="template.containers.notifspanel"></div>
							</div>
						</lightbox>

					</div>
				</div>
			</div>
		</div>
	</div>
	<ul class="icons-tabs">
		<li ng-click="togglePanel($event)" ng-class="{ active: showPanel }"><i class="tools"></i></li>
	</ul>
</div>
